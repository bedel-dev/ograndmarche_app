{"version":3,"sources":["webpack:///node_modules/ev-emitter/ev-emitter.js","webpack:///node_modules/ng-masonry-grid/ng-masonry-grid.umd.js","webpack:///node_modules/outlayer/outlayer.js","webpack:///node_modules/outlayer/item.js","webpack:///node_modules/get-size/get-size.js","webpack:///node_modules/fizzy-ui-utils/utils.js","webpack:///node_modules/masonry-layout/masonry.js","webpack:///node_modules/imagesloaded/imagesloaded.js","webpack:///node_modules/desandro-matches-selector/matches-selector.js"],"names":["global","factory","window","EvEmitter","proto","prototype","on","eventName","listener","events","_events","listeners","indexOf","push","once","onceEvents","_onceEvents","onceListeners","off","length","index","splice","emitEvent","args","slice","i","isOnce","apply","allOff","exports","core","common","rxjs","NgMasonryGridService","_platformId","items","itemsCount","itemsRenderedCount","isAnimate","docElem","document","documentElement","animationDefaults","animationEffect","minDuration","maxDuration","viewportFactor","masonryDefaults","itemSelector","initLayout","addStatus","_onScrollHandler","_onScrollFn","bind","_onResizeHandler","_resizeHandler","getViewportH","client","inner","scrollY","pageYOffset","scrollTop","getOffset","el","offsetTop","offsetLeft","isNaN","offsetParent","top","left","inViewport","h","elH","offsetHeight","scrolled","viewed","elTop","elBottom","extend","a","b","key","hasOwnProperty","init","masonryOptions","useAnimation","animationOptions","useImagesLoaded","_init","initializeMasonry","_element","options","Masonry","classList","add","imagesLoaded","isPlatformBrowser","_initMasonry","_this","_msnry","addEventListener","Array","call","children","forEach","element","remove","layout","self","didScroll","setTimeout","_scrollPage","map","item","perspY","style","WebkitPerspectiveOrigin","MozPerspectiveOrigin","perspectiveOrigin","randDuration","Math","random","WebkitAnimationDuration","MozAnimationDuration","animationDuration","delayed","resizeTimeout","clearTimeout","_checkTotalRendered","removeEventListener","onDestory","removeAnimation","toLowerCase","gutter","marginBottom","hasChildNodes","contains","removeChild","instance","insertBefore","appendChild","prepended","appended","addItems","addOrderItem","reorderMasonryItems","reorderItems_1","sort","dataset","count","lastChild","reloadItems","setAddStatus","value","removeItem","obsv","Observable","create","observer","getAttribute","findIndex","masonryItem","elem","_onTransitionEnd","indx","empty","removeFirstItem","removeAllItems","addTransition","transitionEnd","next","transitionDuration","transition","transform","opacity","transitionEnd_1","isindex","decorators","type","Injectable","ctorParameters","undefined","Inject","PLATFORM_ID","NgMasonryGridComponent","masonryGridService","layoutComplete","EventEmitter","removeComplete","onNgMasonryInit","ngOnInit","nativeElement","ngAfterContentInit","ngOnDestroy","destroy","scrollAnimationOptions","emit","reOrderItems","Component","selector","template","styles","ElementRef","propDecorators","Input","Output","NgMasonryGridDirective","_parent","platformId","ngAfterViewInit","setAttribute","watchForHtmlChanges","MutationObserver","WebKitMutationObserver","self_1","mutations","observerFromElement","observe","subtree","childList","Directive","forwardRef","NgMasonryGridModule","NgModule","imports","CommonModule","declarations","providers","MasonryGridItem","Object","defineProperty","getSize","utils","Item","console","jQuery","noop","GUID","instances","Outlayer","queryElement","getQueryElement","error","constructor","namespace","$element","defaults","option","id","outlayerGUID","_create","isInitLayout","_getOption","containerStyle","position","originLeft","originTop","resize","resizeContainer","hiddenStyle","visibleStyle","opts","oldOption","compatOptions","horizontal","layoutInstant","stamps","stamp","canBindResize","bindResize","_itemize","elems","itemElems","_filterFindItemElements","filterFindElements","getItemElements","_resetLayout","_manageStamps","isInstant","_isLayoutInited","layoutItems","size","_getMeasurement","measurement","querySelector","HTMLElement","_getItemsForLayout","_layoutItems","_postLayout","filter","isIgnored","_emitCompleteOnItems","queue","_getItemLayoutPosition","isLayoutInstant","_processLayoutQueue","x","y","updateStagger","obj","_positionItem","stagger","getMilliseconds","goTo","moveTo","isResizingContainer","_getContainerSize","_setContainerMeasure","width","height","measure","isWidth","elemSize","isBorderBox","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","paddingBottom","paddingTop","borderTopWidth","borderBottomWidth","max","onComplete","dispatchEvent","doneCount","tick","event","emitArgs","concat","$event","Event","trigger","ignore","getItem","unignore","_find","unstamp","removeFrom","querySelectorAll","makeArray","_getBoundingRect","_manageStamp","boundingRect","getBoundingClientRect","_boundingRect","right","bottom","_getElementOffset","thisRect","offset","marginLeft","marginTop","marginRight","handleEvent","isResizeBound","unbindResize","onresize","debounceMethod","needsResizeLayout","hasSizes","innerWidth","reveal","previousItems","hide","revealItemElements","getItems","hideItemElements","removeItems","removeData","data","Layout","subclass","htmlInit","bridget","Parent","SubClass","arguments","msUnits","ms","s","time","matches","match","num","unit","parseFloat","mult","isEmptyObj","prop","docElemStyle","transitionProperty","transformProperty","transitionEndEvent","WebkitTransition","vendorProperties","transitionDelay","_transn","ingProperties","clean","onEnd","css","method","elemStyle","supportedProp","getPosition","getComputedStyle","isOriginLeft","isOriginTop","xValue","yValue","layoutSize","layoutPosition","xPadding","xProperty","xResetProperty","getXValue","yPadding","yProperty","yResetProperty","getYValue","isHorizontal","percentPosition","_transitionTo","curX","curY","didNotMove","setPosition","isTransitioning","transX","transY","transitionStyle","getTranslate","to","onTransitionEnd","isCleaning","_nonTransition","_removeStyles","_transition","from","enableTransition","toDashedAll","str","replace","$1","transitionProps","duration","staggerDelay","onwebkitTransitionEnd","ontransitionend","onotransitionend","dashedVendorProperties","target","propertyName","disableTransition","removeTransitionStyles","cleanStyle","cleanTransitionStyle","delay","removeElem","parentNode","display","isHidden","transitionEndProperty","getHideRevealTransitionEndProperty","onRevealTransitionEnd","styleProperty","optionStyle","onHideTransitionEnd","getStyleSize","isValid","logError","message","measurements","measurementsLength","getZeroSize","innerHeight","outerWidth","outerHeight","getStyle","isSetup","isBoxSizeOuter","setup","div","createElement","padding","borderStyle","borderWidth","boxSizing","body","round","nodeType","offsetWidth","paddingWidth","paddingHeight","marginWidth","marginHeight","borderHeight","isBorderBoxSizeOuter","styleWidth","styleHeight","matchesSelector","modulo","arraySlice","isArray","isArrayLike","ary","getParent","ffElems","childElems","_class","methodName","threshold","timeoutName","timeout","docReady","callback","readyState","toDashed","$2","WidgetClass","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","dataOptionsAttr","attr","JSON","parse","className","fitWidth","measureColumns","colYs","cols","maxY","horizontalColIndex","getContainerWidth","columnWidth","firstItem","firstItemElem","containerWidth","excess","mathMethod","isFitWidth","container","remainder","colSpan","min","colPosMethod","horizontalOrder","colPosition","col","setHeight","setMax","_getTopColPosition","colGroup","_getTopColGroup","minimumY","groupCount","_getColGroupY","groupColYs","_getHorizontalColPosition","isOver","hasSize","stampSize","firstX","lastX","firstCol","floor","lastCol","stampMaxY","_getContainerFitWidth","unusedCols","previousWidth","$","ImagesLoaded","onAlways","queryElem","elements","getImages","jqDeferred","Deferred","check","images","addElementImages","nodeName","addImage","background","addElementBackgroundImages","elementNodeTypes","childImgs","img","child","reURL","exec","backgroundImage","url","addBackground","loadingImage","LoadingImage","Background","progressedCount","hasAnyBroken","complete","onProgress","image","progress","isLoaded","notify","debug","log","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","Image","src","onload","unbindEvents","onerror","makeJQueryPlugin","fn","promise","matchesMethod","ElemProto","Element","prefixes","prefix"],"mappings":";;;;;;;;;;;;AAAA;AAAA;;;;;;AAMA;;;AAEE,iBAAUA,MAAV,EAAkBC,OAAlB,EAA4B;AAC5B;;AACA;;AAA2B;AAC3B,YAAK,IAAL,EAAiD;AAC/C;AACA,6CAAQA,OAAR,EAAe,0MAAf,EAAe,+FAAf;AACD,SAHD,MAGO,CAMN;AAEF,OAdC,EAcC,OAAOC,MAAP,IAAiB,WAAjB,GAA+BA,MAA/B,GAAwC,IAdzC,EAc+C,YAAW;AAE5D;;AAEA,iBAASC,SAAT,GAAqB,CAAE;;AAEvB,YAAIC,KAAK,GAAGD,SAAS,CAACE,SAAtB;;AAEAD,aAAK,CAACE,EAAN,GAAW,UAAUC,SAAV,EAAqBC,QAArB,EAAgC;AACzC,cAAK,CAACD,SAAD,IAAc,CAACC,QAApB,EAA+B;AAC7B;AACD,WAHwC,CAIzC;;;AACA,cAAIC,MAAM,GAAG,KAAKC,OAAL,GAAe,KAAKA,OAAL,IAAgB,EAA5C,CALyC,CAMzC;;AACA,cAAIC,SAAS,GAAGF,MAAM,CAAEF,SAAF,CAAN,GAAsBE,MAAM,CAAEF,SAAF,CAAN,IAAuB,EAA7D,CAPyC,CAQzC;;AACA,cAAKI,SAAS,CAACC,OAAV,CAAmBJ,QAAnB,KAAiC,CAAC,CAAvC,EAA2C;AACzCG,qBAAS,CAACE,IAAV,CAAgBL,QAAhB;AACD;;AAED,iBAAO,IAAP;AACD,SAdD;;AAgBAJ,aAAK,CAACU,IAAN,GAAa,UAAUP,SAAV,EAAqBC,QAArB,EAAgC;AAC3C,cAAK,CAACD,SAAD,IAAc,CAACC,QAApB,EAA+B;AAC7B;AACD,WAH0C,CAI3C;;;AACA,eAAKF,EAAL,CAASC,SAAT,EAAoBC,QAApB,EAL2C,CAM3C;AACA;;AACA,cAAIO,UAAU,GAAG,KAAKC,WAAL,GAAmB,KAAKA,WAAL,IAAoB,EAAxD,CAR2C,CAS3C;;AACA,cAAIC,aAAa,GAAGF,UAAU,CAAER,SAAF,CAAV,GAA0BQ,UAAU,CAAER,SAAF,CAAV,IAA2B,EAAzE,CAV2C,CAW3C;;AACAU,uBAAa,CAAET,QAAF,CAAb,GAA4B,IAA5B;AAEA,iBAAO,IAAP;AACD,SAfD;;AAiBAJ,aAAK,CAACc,GAAN,GAAY,UAAUX,SAAV,EAAqBC,QAArB,EAAgC;AAC1C,cAAIG,SAAS,GAAG,KAAKD,OAAL,IAAgB,KAAKA,OAAL,CAAcH,SAAd,CAAhC;;AACA,cAAK,CAACI,SAAD,IAAc,CAACA,SAAS,CAACQ,MAA9B,EAAuC;AACrC;AACD;;AACD,cAAIC,KAAK,GAAGT,SAAS,CAACC,OAAV,CAAmBJ,QAAnB,CAAZ;;AACA,cAAKY,KAAK,IAAI,CAAC,CAAf,EAAmB;AACjBT,qBAAS,CAACU,MAAV,CAAkBD,KAAlB,EAAyB,CAAzB;AACD;;AAED,iBAAO,IAAP;AACD,SAXD;;AAaAhB,aAAK,CAACkB,SAAN,GAAkB,UAAUf,SAAV,EAAqBgB,IAArB,EAA4B;AAC5C,cAAIZ,SAAS,GAAG,KAAKD,OAAL,IAAgB,KAAKA,OAAL,CAAcH,SAAd,CAAhC;;AACA,cAAK,CAACI,SAAD,IAAc,CAACA,SAAS,CAACQ,MAA9B,EAAuC;AACrC;AACD,WAJ2C,CAK5C;;;AACAR,mBAAS,GAAGA,SAAS,CAACa,KAAV,CAAgB,CAAhB,CAAZ;AACAD,cAAI,GAAGA,IAAI,IAAI,EAAf,CAP4C,CAQ5C;;AACA,cAAIN,aAAa,GAAG,KAAKD,WAAL,IAAoB,KAAKA,WAAL,CAAkBT,SAAlB,CAAxC;;AAEA,eAAM,IAAIkB,CAAC,GAAC,CAAZ,EAAeA,CAAC,GAAGd,SAAS,CAACQ,MAA7B,EAAqCM,CAAC,EAAtC,EAA2C;AACzC,gBAAIjB,QAAQ,GAAGG,SAAS,CAACc,CAAD,CAAxB;AACA,gBAAIC,MAAM,GAAGT,aAAa,IAAIA,aAAa,CAAET,QAAF,CAA3C;;AACA,gBAAKkB,MAAL,EAAc;AACZ;AACA;AACA,mBAAKR,GAAL,CAAUX,SAAV,EAAqBC,QAArB,EAHY,CAIZ;;AACA,qBAAOS,aAAa,CAAET,QAAF,CAApB;AACD,aATwC,CAUzC;;;AACAA,oBAAQ,CAACmB,KAAT,CAAgB,IAAhB,EAAsBJ,IAAtB;AACD;;AAED,iBAAO,IAAP;AACD,SA1BD;;AA4BAnB,aAAK,CAACwB,MAAN,GAAe,YAAW;AACxB,iBAAO,KAAKlB,OAAZ;AACA,iBAAO,KAAKM,WAAZ;AACD,SAHD;;AAKA,eAAOb,SAAP;AAEC,OAvGC,CAAF;;;;;;;;;;;;;;;ACRC,iBAAUH,MAAV,EAAkBC,OAAlB,EAA2B;AAC3B,eAA+DA,OAAO,CAAC4B,OAAD,EAAU,mBAAO;AAAC;AAAA,cAAD,CAAjB,EAAoC,mBAAO;AAAC;AAAA,cAAD,CAA3C,EAAgE,mBAAO;AAAC;AAAA,cAAD,CAAvE,CAAtE,GACA,SADA;AAGA,OAJA,EAIC,IAJD,EAIQ,UAAUA,OAAV,EAAkBC,IAAlB,EAAuBC,MAAvB,EAA8BC,IAA9B,EAAoC;AAAE;AAE/C;;;;;AAIA;;;;;AAIA,YAAIC,oBAAoB;AAAG;AAAe,oBAAY;AAClD,mBAASA,oBAAT,CAA8BC,WAA9B,EAA2C;AACvC,iBAAKA,WAAL,GAAmBA,WAAnB;AACA,iBAAKC,KAAL,GAAa,EAAb;AACA,iBAAKC,UAAL,GAAkB,CAAlB;AACA,iBAAKC,kBAAL,GAA0B,CAA1B;AACA,iBAAKC,SAAL,GAAiB,KAAjB;AACA,iBAAKC,OAAL,GAAerC,MAAM,CAACsC,QAAP,CAAgBC,eAA/B;AACA;;;;AAGA,iBAAKC,iBAAL,GAAyB;AACrBC,6BAAe,EAAE,UADI;AAErB;AACA;AACAC,yBAAW,EAAE,CAJQ;AAKrBC,yBAAW,EAAE,CALQ;AAMrB;AACA;AACA;AACAC,4BAAc,EAAE;AATK,aAAzB;AAWA;;;;AAGA,iBAAKC,eAAL,GAAuB;AACnB;AACAC,0BAAY,EAAE,4GAFK;AAGnBC,wBAAU,EAAE,KAHO;AAInBC,uBAAS,EAAE,QAJQ,CAIC;;AAJD,aAAvB;AAMA,iBAAKC,gBAAL,GAAwB,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAxB;AACA,iBAAKC,gBAAL,GAAwB,KAAKC,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAAxB;AACH;AACD;;;;;AAGApB,8BAAoB,CAAC5B,SAArB,CAA+BmD,YAA/B;AAA8C;;;AAG9C,sBAAY;AACR;AACA,gBAAIC,MAAM,GAAG,KAAKlB,OAAL,CAAa,cAAb,CAAb;AACA;;AACA,gBAAImB,KAAK,GAAGxD,MAAM,CAAC,aAAD,CAAlB;;AACA,gBAAIuD,MAAM,GAAGC,KAAb,EAAoB;AAChB,qBAAOA,KAAP;AACH,aAFD,MAGK;AACD,qBAAOD,MAAP;AACH;AACJ,WAdD;AAeA;;;;;AAGAxB,8BAAoB,CAAC5B,SAArB,CAA+BsD,OAA/B;AAAyC;;;AAGzC,sBAAY;AACR,mBAAOzD,MAAM,CAAC0D,WAAP,IAAsB,KAAKrB,OAAL,CAAasB,SAA1C;AACH,WALD;AAMA;;;;;;AAIA5B,8BAAoB,CAAC5B,SAArB,CAA+ByD,SAA/B;AAA2C;;;;AAI3C,oBAAUC,EAAV,EAAc;AACV;AACA,gBAAIC,SAAS,GAAG,CAAhB;AACA;;AACA,gBAAIC,UAAU,GAAG,CAAjB;;AACA,eAAG;AACC,kBAAI,CAACC,KAAK,CAACH,EAAE,CAACC,SAAJ,CAAV,EAA0B;AACtBA,yBAAS,IAAID,EAAE,CAACC,SAAhB;AACH;;AACD,kBAAI,CAACE,KAAK,CAACH,EAAE,CAACE,UAAJ,CAAV,EAA2B;AACvBA,0BAAU,IAAIF,EAAE,CAACE,UAAjB;AACH;AACJ,aAPD,QAOSF,EAAE,GAAGA,EAAE,CAACI,YAPjB;;AAQA,mBAAO;AACHC,iBAAG,EAAEJ,SADF;AAEHK,kBAAI,EAAEJ;AAFH,aAAP;AAIH,WArBD;AAsBA;;;;;;;AAKAhC,8BAAoB,CAAC5B,SAArB,CAA+BiE,UAA/B;AAA4C;;;;;AAK5C,oBAAUP,EAAV,EAAcQ,CAAd,EAAiB;AACb,gBAAIA,CAAC,KAAK,KAAK,CAAf,EAAkB;AAAEA,eAAC,GAAG,CAAJ;AAAQ;AAC5B;;;AACA,gBAAIC,GAAG,GAAGT,EAAE,CAACU,YAAb;AACA;;AACA,gBAAIC,QAAQ,GAAG,KAAKf,OAAL,EAAf;AACA;;AACA,gBAAIgB,MAAM,GAAGD,QAAQ,GAAG,KAAKlB,YAAL,EAAxB;AACA;;AACA,gBAAIoB,KAAK,GAAG,KAAKd,SAAL,CAAeC,EAAf,EAAmBK,GAA/B;AACA;;AACA,gBAAIS,QAAQ,GAAGD,KAAK,GAAGJ,GAAvB,CAXa,CAYb;AACA;AACA;AACA;;AACA,mBAAQI,KAAK,GAAGJ,GAAG,GAAGD,CAAf,IAAqBI,MAArB,IAAgCE,QAAQ,GAAGL,GAAG,GAAGD,CAAlB,IAAwBG,QAA9D;AACH,WAtBD;AAuBA;;;;;;;AAKAzC,8BAAoB,CAAC5B,SAArB,CAA+ByE,MAA/B;AAAwC;;;;;AAKxC,oBAAUC,CAAV,EAAaC,CAAb,EAAgB;AACZ,iBAAK,IAAIC,GAAT,IAAgBD,CAAhB,EAAmB;AACf,kBAAIA,CAAC,CAACE,cAAF,CAAiBD,GAAjB,CAAJ,EAA2B;AACvBF,iBAAC,CAACE,GAAD,CAAD,GAASD,CAAC,CAACC,GAAD,CAAV;AACH;AACJ;;AACD,mBAAOF,CAAP;AACH,WAZD;AAaA;;;;;;;;;;;AASA9C,8BAAoB,CAAC5B,SAArB,CAA+B8E,IAA/B;AAAsC;;;;;;;;;AAStC,oBAAUpB,EAAV,EAAcqB,cAAd,EAA8BC,YAA9B,EAA4CC,gBAA5C,EAA8DC,eAA9D,EAA+E;AAC3E,iBAAKF,YAAL,GAAoBA,YAApB;AACA,iBAAKtB,EAAL,GAAUA,EAAV;AACA,iBAAKzB,SAAL,GAAiB,KAAK+C,YAAL,KAAsBC,gBAAgB,GAAG,IAAH,GAAU,KAAhD,CAAjB;AACA,iBAAKC,eAAL,GAAuBA,eAAvB;AACA,iBAAKH,cAAL,GAAsB,KAAKN,MAAL,CAAY,KAAK/B,eAAjB,EAAkCqC,cAAlC,CAAtB;AACA,iBAAKE,gBAAL,GAAwB,KAAKR,MAAL,CAAY,KAAKpC,iBAAjB,EAAoC4C,gBAApC,CAAxB;AACA,mBAAO,KAAKE,KAAL,EAAP;AACH,WAjBD;AAkBA;;;;;;;AAKAvD,8BAAoB,CAAC5B,SAArB,CAA+BoF,iBAA/B;AAAmD;;;;;AAKnD,oBAAUC,QAAV,EAAoBC,OAApB,EAA6B;AACzB;AACA,gBAAIC,OAAO,GAAG,mBAAO;AAAC;AAAA,kBAAD,CAArB;;AACA,mBAAO,IAAIA,OAAJ,CAAYF,QAAZ,EAAsBC,OAAtB,CAAP;AACH,WATD;AAUA;;;;;AAGA1D,8BAAoB,CAAC5B,SAArB,CAA+BmF,KAA/B;AAAuC;;;AAGvC,sBAAY;AACR,gBAAI,KAAKlD,SAAT,EAAoB;AAChB;AACA,mBAAKyB,EAAL,CAAQ8B,SAAR,CAAkBC,GAAlB,CAAsB,KAAKR,gBAAL,CAAsB3C,eAA5C;AACH,aAJO,CAKR;;;AACA,gBAAI,KAAK4C,eAAT,EAA0B;AACtB,mBAAKQ,YAAL,GAAoB,mBAAO;AAAC;AAAA,oBAAD,CAA3B;AACH,aARO,CASR;;;AACA,gBAAIhE,MAAM,CAACiE,iBAAP,CAAyB,KAAK9D,WAA9B,CAAJ,EAAgD;AAC5C,qBAAO,KAAK+D,YAAL,EAAP;AACH;;AACD,mBAAO,IAAP;AACH,WAjBD;AAkBA;;;;;AAGAhE,8BAAoB,CAAC5B,SAArB,CAA+B4F,YAA/B;AAA8C;;;AAG9C,sBAAY;AACR,gBAAIC,KAAK,GAAG,IAAZ,CADQ,CAER;;;AACA,iBAAKC,MAAL,GAAc,KAAKV,iBAAL,CAAuB,KAAK1B,EAA5B,EAAgC,KAAKqB,cAArC,CAAd,CAHQ,CAIR;;AACA,gBAAI,KAAK9C,SAAL,IAAkB,KAAK6D,MAA3B,EAAmC;AAC/B;AACAjG,oBAAM,CAACkG,gBAAP,CAAwB,QAAxB,EAAkC,KAAKjD,gBAAvC,EAAyD,KAAzD;AACAjD,oBAAM,CAACkG,gBAAP,CAAwB,QAAxB,EAAkC,KAAK9C,gBAAvC,EAAyD,KAAzD;AACA;;;;AAGA,mBAAK6C,MAAL,CAAY7F,EAAZ,CAAe,gBAAf,EAAiC,UAAU6B,KAAV,EAAiB;AAC9CkE,qBAAK,CAAChG,SAAN,CAAgBmB,KAAhB,CAAsB8E,IAAtB,CAA2BJ,KAAK,CAACnC,EAAN,CAASwC,QAApC,EAA8CC,OAA9C,CAAsD,UAAUC,OAAV,EAAmB;AACrEA,yBAAO,CAACZ,SAAR,CAAkBa,MAAlB,CAAyB,SAAzB;AACH,iBAFD;AAGH,eAJD;;AAKA,mBAAKP,MAAL,CAAY7F,EAAZ,CAAe,gBAAf,EAAiC,UAAU6B,KAAV,EAAiB;AAC9CkE,qBAAK,CAAChG,SAAN,CAAgBmB,KAAhB,CAAsB8E,IAAtB,CAA2BJ,KAAK,CAACnC,EAAN,CAASwC,QAApC,EAA8CC,OAA9C,CAAsD,UAAUC,OAAV,EAAmB;AACrEA,yBAAO,CAACZ,SAAR,CAAkBa,MAAlB,CAAyB,SAAzB;AACH,iBAFD;;AAGAR,qBAAK,CAACC,MAAN,CAAaQ,MAAb;AACH,eALD;AAMH;;AACD,mBAAO,KAAKR,MAAZ;AACH,WA5BD;AA6BA;;;;;AAGAlE,8BAAoB,CAAC5B,SAArB,CAA+B+C,WAA/B;AAA6C;;;AAG7C,sBAAY;AACR;AACA,gBAAIwD,IAAI,GAAG,IAAX;;AACA,gBAAI,CAAC,KAAKC,SAAV,EAAqB;AACjB,mBAAKA,SAAL,GAAiB,IAAjB;AACAC,wBAAU,CAAC,YAAY;AAAEF,oBAAI,CAACG,WAAL;AAAqB,eAApC,EAAsC,GAAtC,CAAV;AACH;AACJ,WAVD;AAWA;;;;;AAGA9E,8BAAoB,CAAC5B,SAArB,CAA+B0G,WAA/B;AAA6C;;;AAG7C,sBAAY;AACR,gBAAIb,KAAK,GAAG,IAAZ;AACA;;;AACA,gBAAIU,IAAI,GAAG,IAAX;AACA;;AACA,gBAAIzE,KAAK,GAAG,KAAKgE,MAAL,CAAYhE,KAAZ,CAAkB6E,GAAlB,CAAsB,UAAUC,IAAV,EAAgB;AAAE,qBAAOA,IAAI,CAACR,OAAZ;AAAsB,aAA9D,CAAZ;;AACA,gBAAItE,KAAK,CAAChB,MAAV,EAAkB;AACdgB,mBAAK,CAACqE,OAAN,CAAc,UAAUzC,EAAV,EAActC,CAAd,EAAiB;AAC3B,oBAAIyE,KAAK,CAAC5B,UAAN,CAAiBP,EAAjB,EAAqB6C,IAAI,CAACtB,gBAAL,CAAsBxC,cAA3C,CAAJ,EAAgE;AAC5D;AACA,sBAAIoE,MAAM,GAAGhB,KAAK,CAACvC,OAAN,KAAkBuC,KAAK,CAAC1C,YAAN,KAAuB,CAAtD;AACAoD,sBAAI,CAAC7C,EAAL,CAAQoD,KAAR,CAAcC,uBAAd,GAAwC,SAASF,MAAT,GAAkB,IAA1D;AACAN,sBAAI,CAAC7C,EAAL,CAAQoD,KAAR,CAAcE,oBAAd,GAAqC,SAASH,MAAT,GAAkB,IAAvD;AACAN,sBAAI,CAAC7C,EAAL,CAAQoD,KAAR,CAAcG,iBAAd,GAAkC,SAASJ,MAAT,GAAkB,IAApD;;AACA,sBAAIN,IAAI,CAACtB,gBAAL,CAAsB1C,WAAtB,IAAqCgE,IAAI,CAACtB,gBAAL,CAAsBzC,WAA/D,EAA4E;AACxE;AACA,wBAAI0E,YAAY,GAAIC,IAAI,CAACC,MAAL,MAAiBb,IAAI,CAACtB,gBAAL,CAAsBzC,WAAtB,GAAoC+D,IAAI,CAACtB,gBAAL,CAAsB1C,WAA3E,IACdgE,IAAI,CAACtB,gBAAL,CAAsB1C,WADT,GACwB,GAD3C;AAEAmB,sBAAE,CAACoD,KAAH,CAASO,uBAAT,GAAmCH,YAAnC;AACAxD,sBAAE,CAACoD,KAAH,CAASQ,oBAAT,GAAgCJ,YAAhC;AACAxD,sBAAE,CAACoD,KAAH,CAASS,iBAAT,GAA6BL,YAA7B;AACH;;AACDxD,oBAAE,CAAC8B,SAAH,CAAaC,GAAb,CAAiB,SAAjB,EAd4D,CAe5D;AACH,iBAhBD,MAiBK;AACD/B,oBAAE,CAAC8B,SAAH,CAAaa,MAAb,CAAoB,SAApB;AACH;AACJ,eArBD;AAsBH;;AACD,iBAAKG,SAAL,GAAiB,KAAjB;AACH,WAlCD;AAmCA;;;;;AAGA5E,8BAAoB,CAAC5B,SAArB,CAA+BkD,cAA/B;AAAgD;;;AAGhD,sBAAY;AACR;AACA,gBAAIqD,IAAI,GAAG,IAAX;AACAP,iBAAK,CAAChG,SAAN,CAAgBmB,KAAhB,CAAsB8E,IAAtB,CAA2B,KAAKvC,EAAL,CAAQwC,QAAnC,EAA6CC,OAA7C,CAAqD,UAAUC,OAAV,EAAmB;AACpEA,qBAAO,CAACZ,SAAR,CAAkBa,MAAlB,CAAyB,SAAzB;AACH,aAFD;AAGA;;;;AAGA,qBAASmB,OAAT,GAAmB;AACfjB,kBAAI,CAACG,WAAL;;AACAH,kBAAI,CAACkB,aAAL,GAAqB,IAArB;AACH;;AACD,gBAAI,KAAKA,aAAT,EAAwB;AACpBC,0BAAY,CAAC,KAAKD,aAAN,CAAZ;AACH;;AACD,iBAAKA,aAAL,GAAqBhB,UAAU,CAACe,OAAD,EAAU,GAAV,CAA/B;AACH,WApBD;AAqBA;;;;;;AAIA5F,8BAAoB,CAAC5B,SAArB,CAA+B2H,mBAA/B;AAAqD;;;;AAIrD,sBAAY;AACR,cAAE,KAAK3F,kBAAP;;AACA,gBAAI,KAAKA,kBAAL,KAA4B,KAAKD,UAArC,EAAiD;AAC7ClC,oBAAM,CAAC+H,mBAAP,CAA2B,QAA3B,EAAqC,KAAK9E,gBAA1C,EAA4D,KAA5D;AACH;AACJ,WATD;AAUA;;;;;;AAIAlB,8BAAoB,CAAC5B,SAArB,CAA+B6H,SAA/B;AAA2C;;;;AAI3C,sBAAY;AACRhI,kBAAM,CAAC+H,mBAAP,CAA2B,QAA3B,EAAqC,KAAK9E,gBAA1C,EAA4D,KAA5D;AACAjD,kBAAM,CAAC+H,mBAAP,CAA2B,QAA3B,EAAqC,KAAK3E,gBAA1C,EAA4D,KAA5D;AACH,WAPD;AAQA;;;;;;AAIArB,8BAAoB,CAAC5B,SAArB,CAA+B8H,eAA/B;AAAiD;;;;AAIjD,sBAAY;AACR,gBAAI,KAAK7F,SAAT,EAAoB;AAChB+D,mBAAK,CAAChG,SAAN,CAAgBmB,KAAhB,CAAsB8E,IAAtB,CAA2B,KAAKvC,EAAL,CAAQwC,QAAnC,EAA6CC,OAA7C,CAAqD,UAAUC,OAAV,EAAmB;AACpEA,uBAAO,CAACZ,SAAR,CAAkBa,MAAlB,CAAyB,SAAzB;AACH,eAFD;AAGH;AACJ,WAVD;AAWA;;;;;;;AAKAzE,8BAAoB,CAAC5B,SAArB,CAA+ByF,GAA/B;AAAqC;;;;;AAKrC,oBAAUW,OAAV,EAAmB;AACf,gBAAIP,KAAK,GAAG,IAAZ;AACA;;;AACA,gBAAIhD,SAAS,GAAG,KAAKkC,cAAL,CAAoBlC,SAApB,CAA8BkF,WAA9B,EAAhB,CAHe,CAIf;;AACA,gBAAI,KAAKhD,cAAL,CAAoBiD,MAAxB,EAAgC;AAC5B5B,qBAAO,CAACU,KAAR,CAAcmB,YAAd,GAA6B,KAAKlD,cAAL,CAAoBiD,MAApB,GAA6B,IAA1D;AACH;;AACD,gBAAI,KAAKtE,EAAL,CAAQwE,aAAR,MAA2B,KAAKxE,EAAL,CAAQyE,QAAR,CAAiB/B,OAAjB,CAA/B,EAA0D;AACtD,mBAAK1C,EAAL,CAAQ0E,WAAR,CAAoBhC,OAApB;AACH;;AACD,gBAAI,KAAKlB,eAAT,EAA0B;AACtBuB,wBAAU,CAAC,YAAY;AACnBZ,qBAAK,CAACH,YAAN,CAAmBU,OAAnB,EAA4B,UAAUiC,QAAV,EAAoB;AAC5C,oBAAExC,KAAK,CAAC7D,kBAAR;;AACA6D,uBAAK,CAAC/D,KAAN,CAAYtB,IAAZ,CAAiB4F,OAAjB,EAF4C,CAG5C;;;AACA,sBAAIvD,SAAS,KAAK,SAAlB,EAA6B;AACzB,wBAAIgD,KAAK,CAACC,MAAN,CAAahE,KAAb,CAAmBhB,MAAnB,KAA8B,CAAlC,EAAqC;AACjC+E,2BAAK,CAACnC,EAAN,CAAS4E,YAAT,CAAsBlC,OAAtB,EAA+BP,KAAK,CAACC,MAAN,CAAahE,KAAb,CAAmB,CAAnB,EAAsBsE,OAArD;AACH,qBAFD,MAGK;AACDP,2BAAK,CAACnC,EAAN,CAAS6E,WAAT,CAAqBnC,OAArB;AACH;AACJ,mBAPD,MAQK,IAAIvD,SAAS,KAAK,QAAlB,EAA4B;AAC7BgD,yBAAK,CAACnC,EAAN,CAAS6E,WAAT,CAAqBnC,OAArB;AACH,mBAFI,MAGA;AACDP,yBAAK,CAACnC,EAAN,CAAS6E,WAAT,CAAqBnC,OAArB;AACH;;AACDK,4BAAU,CAAC,YAAY;AACnB,wBAAI5D,SAAS,KAAK,SAAlB,EAA6B;AACzB,0BAAIgD,KAAK,CAACC,MAAN,CAAahE,KAAb,CAAmBhB,MAAnB,KAA8B,CAAlC,EAAqC;AACjC+E,6BAAK,CAACC,MAAN,CAAa0C,SAAb,CAAuBpC,OAAvB;AACH,uBAFD,MAGK;AACDP,6BAAK,CAACC,MAAN,CAAa2C,QAAb,CAAsBrC,OAAtB;AACH;AACJ,qBAPD,MAQK,IAAIvD,SAAS,KAAK,QAAlB,EAA4B;AAC7BgD,2BAAK,CAACC,MAAN,CAAa2C,QAAb,CAAsBrC,OAAtB;AACH,qBAFI,MAGA;AACDP,2BAAK,CAACC,MAAN,CAAa4C,QAAb,CAAsBtC,OAAtB;AACH;;AACDP,yBAAK,CAACC,MAAN,CAAaQ,MAAb;AACH,mBAhBS,EAgBP,CAhBO,CAAV;AAiBH,iBAnCD;AAoCH,eArCS,EAqCP,CArCO,CAAV;AAsCH,aAvCD,MAwCK;AACDG,wBAAU,CAAC,YAAY;AACnB,kBAAEZ,KAAK,CAAC7D,kBAAR;;AACA6D,qBAAK,CAAC/D,KAAN,CAAYtB,IAAZ,CAAiB4F,OAAjB;;AACA,oBAAIvD,SAAS,KAAK,SAAlB,EAA6B;AACzB,sBAAIgD,KAAK,CAACC,MAAN,CAAahE,KAAb,CAAmBhB,MAAnB,KAA8B,CAAlC,EAAqC;AACjC+E,yBAAK,CAACnC,EAAN,CAAS4E,YAAT,CAAsBlC,OAAtB,EAA+BP,KAAK,CAACC,MAAN,CAAahE,KAAb,CAAmB,CAAnB,EAAsBsE,OAArD,EADiC,CAEjC;;AACH,mBAHD,MAIK;AACDP,yBAAK,CAACnC,EAAN,CAAS6E,WAAT,CAAqBnC,OAArB,EADC,CAED;;AACH;AACJ,iBATD,MAUK,IAAIvD,SAAS,KAAK,QAAlB,EAA4B;AAC7BgD,uBAAK,CAACnC,EAAN,CAAS6E,WAAT,CAAqBnC,OAArB,EAD6B,CAE7B;;AACH,iBAHI,MAIA;AACDP,uBAAK,CAACnC,EAAN,CAAS6E,WAAT,CAAqBnC,OAArB,EADC,CAED;;AACH;;AACDK,0BAAU,CAAC,YAAY;AACnB,sBAAI5D,SAAS,KAAK,SAAlB,EAA6B;AACzB,wBAAIgD,KAAK,CAACC,MAAN,CAAahE,KAAb,CAAmBhB,MAAnB,KAA8B,CAAlC,EAAqC;AACjC+E,2BAAK,CAACC,MAAN,CAAa0C,SAAb,CAAuBpC,OAAvB;AACH,qBAFD,MAGK;AACDP,2BAAK,CAACC,MAAN,CAAa2C,QAAb,CAAsBrC,OAAtB;AACH;AACJ,mBAPD,MAQK,IAAIvD,SAAS,KAAK,QAAlB,EAA4B;AAC7BgD,yBAAK,CAACC,MAAN,CAAa2C,QAAb,CAAsBrC,OAAtB;AACH,mBAFI,MAGA;AACDP,yBAAK,CAACC,MAAN,CAAa4C,QAAb,CAAsBtC,OAAtB;AACH;;AACDP,uBAAK,CAACC,MAAN,CAAaQ,MAAb;AACH,iBAhBS,EAgBP,EAhBO,CAAV;AAiBH,eAtCS,EAsCP,CAtCO,CAAV;AAuCH;AACJ,WAjGD;AAkGA;;;;;;;AAKA1E,8BAAoB,CAAC5B,SAArB,CAA+B2I,YAA/B;AAA8C;;;;;AAK9C,oBAAUvC,OAAV,EAAmB;AACf,gBAAIP,KAAK,GAAG,IAAZ;AACA;;;AACA,gBAAIhD,SAAS,GAAG,KAAKkC,cAAL,CAAoBlC,SAApB,CAA8BkF,WAA9B,EAAhB,CAHe,CAIf;;AACA,gBAAI,KAAKhD,cAAL,CAAoBiD,MAAxB,EAAgC;AAC5B5B,qBAAO,CAACU,KAAR,CAAcmB,YAAd,GAA6B,KAAKlD,cAAL,CAAoBiD,MAApB,GAA6B,IAA1D;AACH;;AACD,gBAAI,KAAK9C,eAAT,EAA0B;AACtBuB,wBAAU,CAAC,YAAY;AACnBZ,qBAAK,CAACH,YAAN,CAAmBU,OAAnB,EAA4B,UAAUiC,QAAV,EAAoB,CAC/C,CADD;AAEH,eAHS,EAGP,CAHO,CAAV;AAIH,aALD,MAMK;AACD5B,wBAAU,CAAC,YAAY;AACnB,oBAAI5D,SAAS,KAAK,SAAlB,EAA6B;AACzB,sBAAIgD,KAAK,CAACC,MAAN,CAAahE,KAAb,CAAmBhB,MAAnB,KAA8B,CAAlC,EAAqC;AACjC+E,yBAAK,CAACnC,EAAN,CAAS4E,YAAT,CAAsBlC,OAAtB,EAA+BP,KAAK,CAACC,MAAN,CAAahE,KAAb,CAAmB,CAAnB,EAAsBsE,OAArD,EADiC,CAEjC;;AACH,mBAHD,MAIK;AACDP,yBAAK,CAACnC,EAAN,CAAS6E,WAAT,CAAqBnC,OAArB,EADC,CAED;;AACH;AACJ,iBATD,MAUK,IAAIvD,SAAS,KAAK,QAAlB,EAA4B;AAC7BgD,uBAAK,CAACnC,EAAN,CAAS6E,WAAT,CAAqBnC,OAArB,EAD6B,CAE7B;;AACH,iBAHI,MAIA;AACDP,uBAAK,CAACnC,EAAN,CAAS6E,WAAT,CAAqBnC,OAArB,EADC,CAED;;AACH;;AACDK,0BAAU,CAAC,YAAY;AACnB,sBAAIZ,KAAK,CAAC7D,kBAAN,KAA6B6D,KAAK,CAAC9D,UAAvC,EAAmD;AAC/C,wBAAIc,SAAS,KAAK,SAAlB,EAA6B;AACzB,0BAAIgD,KAAK,CAACC,MAAN,CAAahE,KAAb,CAAmBhB,MAAnB,KAA8B,CAAlC,EAAqC;AACjC+E,6BAAK,CAACC,MAAN,CAAa0C,SAAb,CAAuBpC,OAAvB;;AACAP,6BAAK,CAACC,MAAN,CAAaQ,MAAb;AACH,uBAHD,MAIK;AACDT,6BAAK,CAACC,MAAN,CAAa2C,QAAb,CAAsBrC,OAAtB;;AACAP,6BAAK,CAACC,MAAN,CAAaQ,MAAb;AACH;AACJ,qBATD,MAUK,IAAIzD,SAAS,KAAK,QAAlB,EAA4B;AAC7BgD,2BAAK,CAACC,MAAN,CAAa2C,QAAb,CAAsBrC,OAAtB;;AACAP,2BAAK,CAACC,MAAN,CAAaQ,MAAb;AACH,qBAHI,MAIA;AACDT,2BAAK,CAACC,MAAN,CAAa4C,QAAb,CAAsBtC,OAAtB;;AACAP,2BAAK,CAACC,MAAN,CAAaQ,MAAb;AACH;AACJ;AACJ,iBArBS,EAqBP,GArBO,CAAV;AAsBH,eAzCS,EAyCP,CAzCO,CAAV;AA0CH;AACJ,WA/DD;AAgEA;;;;;;AAIA1E,8BAAoB,CAAC5B,SAArB,CAA+B4I,mBAA/B;AAAqD;;;;AAIrD,sBAAY;AACR,gBAAI/C,KAAK,GAAG,IAAZ;;AACA,gBAAI,KAAK7D,kBAAL,KAA4B,KAAKD,UAArC,EAAiD;AAC7C;AACA,kBAAI8G,cAAc,GAAG,KAAK/G,KAAL,CAAWgH,IAAX,CAAgB,UAAUpE,CAAV,EAAaC,CAAb,EAAgB;AACjD,uBAAOD,CAAC,CAACqE,OAAF,CAAUC,KAAV,GAAkBrE,CAAC,CAACoE,OAAF,CAAUC,KAAnC;AACH,eAFoB,CAArB;;AAGA,qBAAO,KAAKtF,EAAL,CAAQwE,aAAR,EAAP,EAAgC;AAC5B,qBAAKxE,EAAL,CAAQ0E,WAAR,CAAoB,KAAK1E,EAAL,CAAQuF,SAA5B;AACH;;AACDxC,wBAAU,CAAC,YAAY;AACnBoC,8BAAc,CAAC1C,OAAf,CAAuB,UAAUS,IAAV,EAAgB;AACnCf,uBAAK,CAACnC,EAAN,CAAS6E,WAAT,CAAqB3B,IAArB;;AACAf,uBAAK,CAACC,MAAN,CAAa2C,QAAb,CAAsB7B,IAAtB;AACH,iBAHD;;AAIA,oBAAIf,KAAK,CAACC,MAAV,EAAkB;AACdD,uBAAK,CAACC,MAAN,CAAaoD,WAAb;;AACArD,uBAAK,CAACC,MAAN,CAAaQ,MAAb;AACH;AACJ,eATS,EASP,GATO,CAAV;AAUH;AACJ,WAzBD;AA0BA;;;;;;;AAKA1E,8BAAoB,CAAC5B,SAArB,CAA+BmJ,YAA/B;AAA8C;;;;;AAK9C,oBAAUC,KAAV,EAAiB;AACb,iBAAKrE,cAAL,CAAoBlC,SAApB,GAAgCuG,KAAhC;AACH,WAPD;AAQA;;;;;;;AAKAxH,8BAAoB,CAAC5B,SAArB,CAA+BqJ,UAA/B;AAA4C;;;;;AAK5C,oBAAUzC,IAAV,EAAgB;AACZ,gBAAIf,KAAK,GAAG,IAAZ;;AACA,iBAAKiC,eAAL;;AACA,gBAAIlB,IAAJ,EAAU;AACNA,kBAAI,CAACpB,SAAL,CAAea,MAAf,CAAsB,SAAtB;AACA;;AACA,kBAAIiD,IAAI,GAAG3H,IAAI,CAAC4H,UAAL,CAAgBC,MAAhB,CAAuB,UAAUC,QAAV,EAAoB;AAClD;AACA,oBAAIT,KAAK,GAAGpC,IAAI,CAAC8C,YAAL,CAAkB,YAAlB,CAAZ;AACA;;AACA,oBAAI3I,KAAK,GAAG8E,KAAK,CAACC,MAAN,CAAahE,KAAb,CAAmB6H,SAAnB,CAA6B,UAAUC,WAAV,EAAuB;AAC5D,yBAAOA,WAAW,CAACxD,OAAZ,CAAoBsD,YAApB,CAAiC,YAAjC,MAAmDV,KAA1D;AACH,iBAFW,CAAZ;;AAGAvC,0BAAU,CAAC,YAAY;AACnB;AACA,sBAAIoD,IAAI,GAAGhE,KAAK,CAACC,MAAN,CAAahE,KAAb,CAAmBf,KAAnB,EAA0BqF,OAArC;;AACAP,uBAAK,CAACiE,gBAAN,CAAuBL,QAAvB,EAAiCI,IAAjC;AACA;;;AACA,sBAAIE,IAAI,GAAGlE,KAAK,CAAC/D,KAAN,CAAY6H,SAAZ,CAAsB,UAAUvD,OAAV,EAAmB;AAChD,2BAAOA,OAAO,CAAC2C,OAAR,CAAgBC,KAAhB,KAA0BpC,IAAI,CAACmC,OAAL,CAAaC,KAA9C;AACH,mBAFU,CAAX;;AAGAnD,uBAAK,CAAC/D,KAAN,CAAYd,MAAZ,CAAmB+I,IAAnB,EAAyB,CAAzB;AACH,iBATS,EASP,EATO,CAAV;AAUH,eAjBU,CAAX;AAkBA,qBAAOT,IAAP;AACH;;AACD,mBAAO3H,IAAI,CAACqI,KAAL,EAAP;AACH,WAhCD;AAiCA;;;;;;AAIApI,8BAAoB,CAAC5B,SAArB,CAA+BiK,eAA/B;AAAiD;;;;AAIjD,sBAAY;AACR,gBAAIpE,KAAK,GAAG,IAAZ;;AACA,iBAAKiC,eAAL;;AACA,gBAAI,KAAKhC,MAAL,CAAYhE,KAAZ,CAAkBhB,MAAtB,EAA8B;AAC1B,mBAAKgF,MAAL,CAAYhE,KAAZ,CAAkB,CAAlB,EAAqBsE,OAArB,CAA6BZ,SAA7B,CAAuCa,MAAvC,CAA8C,SAA9C;AACA;;;AACA,kBAAIiD,IAAI,GAAG3H,IAAI,CAAC4H,UAAL,CAAgBC,MAAhB,CAAuB,UAAUC,QAAV,EAAoB;AAClD;AACA;AACA5D,qBAAK,CAACiE,gBAAN,CAAuBL,QAAvB,EAAiC5D,KAAK,CAACC,MAAN,CAAahE,KAAb,CAAmB,CAAnB,EAAsBsE,OAAvD;;AACAP,qBAAK,CAAC/D,KAAN,CAAYd,MAAZ,CAAmB,CAAnB,EAAsB,CAAtB,EAJkD,CAKlD;;AACH,eANU,CAAX;AAOA,qBAAOsI,IAAP;AACH;;AACD,mBAAO3H,IAAI,CAACqI,KAAL,EAAP;AACH,WApBD;AAqBA;;;;;;AAIApI,8BAAoB,CAAC5B,SAArB,CAA+BkK,cAA/B;AAAgD;;;;AAIhD,sBAAY;AACR,gBAAIrE,KAAK,GAAG,IAAZ;;AACA,iBAAKiC,eAAL;AACA;;AACA,gBAAIwB,IAAI,GAAG3H,IAAI,CAAC4H,UAAL,CAAgBC,MAAhB,CAAuB,UAAUC,QAAV,EAAoB;AAClDhD,wBAAU,CAAC,YAAY;AACnB;AACA,oBAAI3E,KAAK,GAAG,EAAZ;;AACA+D,qBAAK,CAACC,MAAN,CAAahE,KAAb,CAAmBqE,OAAnB,CAA2B,UAAUyD,WAAV,EAAuB7I,KAAvB,EAA8B;AACrDe,uBAAK,CAACtB,IAAN,CAAW;AAAE4F,2BAAO,EAAEwD,WAAW,CAACxD,OAAvB;AAAgCrF,yBAAK,EAAEA;AAAvC,mBAAX;;AACA8E,uBAAK,CAACsE,aAAN,CAAoBP,WAAW,CAACxD,OAAhC;AACH,iBAHD;AAIA;;;AACA,oBAAIyD,IAAI,GAAGhE,KAAK,CAACC,MAAN,CAAahE,KAAb,CAAmB+D,KAAK,CAACC,MAAN,CAAahE,KAAb,CAAmBhB,MAAnB,GAA4B,CAA/C,EAAkDsF,OAA7D;AACA;;AACA,oBAAIgE,aAAa,GAAG,SAAhBA,aAAgB,GAAY;AAC5BX,0BAAQ,CAACY,IAAT,CAAcvI,KAAd;AACA2E,4BAAU,CAAC,YAAY;AACnBZ,yBAAK,CAACC,MAAN,CAAaoD,WAAb;;AACArD,yBAAK,CAACC,MAAN,CAAaQ,MAAb;;AACAT,yBAAK,CAAC/D,KAAN,GAAc,EAAd;AACA+D,yBAAK,CAAC9D,UAAN,GAAmB,CAAnB;AACA8D,yBAAK,CAAC7D,kBAAN,GAA2B,CAA3B;AACH,mBANS,EAMP,EANO,CAAV;AAOA6H,sBAAI,CAACjC,mBAAL,CAAyB,eAAzB,EAA0CwC,aAA1C,EAAyD,KAAzD;AACH,iBAVD;;AAWAP,oBAAI,CAAC9D,gBAAL,CAAsB,eAAtB,EAAuCqE,aAAvC,EAAsD,KAAtD;;AACA,oBAAIvE,KAAK,CAACd,cAAN,CAAqBuF,kBAArB,KAA4C,GAAhD,EAAqD;AACjDF,+BAAa;AAChB;AACJ,eAzBS,EAyBP,EAzBO,CAAV;AA0BH,aA3BU,CAAX;AA4BA,mBAAOd,IAAP;AACH,WArCD;AAsCA;;;;;;;AAKA1H,8BAAoB,CAAC5B,SAArB,CAA+BmK,aAA/B;AAA+C;;;;;AAK/C,oBAAUN,IAAV,EAAgB;AACZA,gBAAI,CAAC/C,KAAL,CAAWyD,UAAX,GAAwB,eAAe,KAAKxF,cAAL,CAAoBuF,kBAAnC,GAAwD,YAAxD,GAAuE,KAAKvF,cAAL,CAAoBuF,kBAAnH;AACAT,gBAAI,CAAC/C,KAAL,CAAW0D,SAAX,GAAuB,cAAvB;AACAX,gBAAI,CAAC/C,KAAL,CAAW2D,OAAX,GAAqB,GAArB;AACH,WATD;AAUA;;;;;;;;AAMA7I,8BAAoB,CAAC5B,SAArB,CAA+B8J,gBAA/B;AAAkD;;;;;;AAMlD,oBAAUL,QAAV,EAAoBI,IAApB,EAA0B;AACtB,gBAAIhE,KAAK,GAAG,IAAZ;;AACA,gBAAIgE,IAAJ,EAAU;AACN,mBAAKM,aAAL,CAAmBN,IAAnB;AACA;;AACA,kBAAIa,eAAe,GAAG,SAAlBA,eAAkB,GAAY;AAC9B;AACA,oBAAIC,OAAO,GAAG3E,KAAK,CAAChG,SAAN,CAAgBmB,KAAhB,CAAsB8E,IAAtB,CAA2BJ,KAAK,CAACnC,EAAN,CAASwC,QAApC,EAA8CyD,SAA9C,CAAwD,UAAUvD,OAAV,EAAmB;AACrF,yBAAOA,OAAO,CAACsD,YAAR,CAAqB,YAArB,MAAuCG,IAAI,CAACH,YAAL,CAAkB,YAAlB,CAA9C;AACH,iBAFa,CAAd;;AAGA,oBAAIiB,OAAO,KAAK,CAAC,CAAjB,EAAoB;AAChBlB,0BAAQ,CAACY,IAAT,CAAc;AAAEjE,2BAAO,EAAEyD,IAAX;AAAiB9I,yBAAK,EAAE4J;AAAxB,mBAAd;AACH;;AACDlE,0BAAU,CAAC,YAAY;AACnBZ,uBAAK,CAACC,MAAN,CAAaoD,WAAb;;AACArD,uBAAK,CAACC,MAAN,CAAaQ,MAAb;AACH,iBAHS,EAGP,EAHO,CAAV;AAIAuD,oBAAI,CAACjC,mBAAL,CAAyB,eAAzB,EAA0C8C,eAA1C,EAA2D,KAA3D;AACH,eAbD;;AAcAb,kBAAI,CAAC9D,gBAAL,CAAsB,eAAtB,EAAuC2E,eAAvC,EAAwD,KAAxD;AACH;AACJ,WA3BD;;AA4BA9I,8BAAoB,CAACgJ,UAArB,GAAkC,CAC9B;AAAEC,gBAAI,EAAEpJ,IAAI,CAACqJ;AAAb,WAD8B,CAAlC;AAGA;;AACAlJ,8BAAoB,CAACmJ,cAArB,GAAsC,YAAY;AAAE,mBAAO,CACvD;AAAEF,kBAAI,EAAEG,SAAR;AAAmBJ,wBAAU,EAAE,CAAC;AAAEC,oBAAI,EAAEpJ,IAAI,CAACwJ,MAAb;AAAqB/J,oBAAI,EAAE,CAACO,IAAI,CAACyJ,WAAN;AAA3B,eAAD;AAA/B,aADuD,CAAP;AAEhD,WAFJ;;AAGA,iBAAOtJ,oBAAP;AACH,SAltByC,EAA1C;AAotBA;;;;;AAIA;;;;;;AAIA,YAAIuJ,sBAAsB;AAAG;AAAe,oBAAY;AACpD,mBAASA,sBAAT,CAAgCtJ,WAAhC,EAA6CwD,QAA7C,EAAuD+F,kBAAvD,EAA2E;AACvE,iBAAKvJ,WAAL,GAAmBA,WAAnB;AACA,iBAAKwD,QAAL,GAAgBA,QAAhB;AACA,iBAAK+F,kBAAL,GAA0BA,kBAA1B,CAHuE,CAIvE;;AACA,iBAAKrG,cAAL,GAAsB,EAAtB;AACA,iBAAKC,YAAL,GAAoB,KAApB;AACA,iBAAKE,eAAL,GAAuB,KAAvB,CAPuE,CAQvE;;AACA,iBAAKmG,cAAL,GAAsB,IAAI5J,IAAI,CAAC6J,YAAT,EAAtB;AACA,iBAAKC,cAAL,GAAsB,IAAI9J,IAAI,CAAC6J,YAAT,EAAtB;AACA,iBAAKE,eAAL,GAAuB,IAAI/J,IAAI,CAAC6J,YAAT,EAAvB;AACH;AACD;;;;;AAGAH,gCAAsB,CAACnL,SAAvB,CAAiCyL,QAAjC;AAA4C;;;AAG5C,sBAAY;AACR,iBAAKpG,QAAL,CAAcqG,aAAd,CAA4BlG,SAA5B,CAAsCC,GAAtC,CAA0C,MAA1C;;AACA,iBAAKL,iBAAL;AACH,WAND;AAOA;;;;;AAGA+F,gCAAsB,CAACnL,SAAvB,CAAiC2L,kBAAjC;AAAsD;;;AAGtD,sBAAY,CACR;AACA;AACH,WAND;AAOA;;;;;AAGAR,gCAAsB,CAACnL,SAAvB,CAAiC4L,WAAjC;AAA+C;;;AAG/C,sBAAY;AACR,gBAAI,KAAK9F,MAAT,EAAiB;AACb,mBAAKA,MAAL,CAAY+F,OAAZ;;AACA,mBAAKT,kBAAL,CAAwBvD,SAAxB;AACH;AACJ,WARD;AASA;;;;;AAGAsD,gCAAsB,CAACnL,SAAvB,CAAiCsG,MAAjC;AAA0C;;;AAG1C,sBAAY;AACR,gBAAIT,KAAK,GAAG,IAAZ;;AACAY,sBAAU,CAAC,YAAY;AACnBZ,mBAAK,CAACC,MAAN,CAAaQ,MAAb;AACH,aAFS,EAEP,EAFO,CAAV;AAGH,WARD;AASA;;;;;;AAIA6E,gCAAsB,CAACnL,SAAvB,CAAiCqG,MAAjC;AAA0C;;;;AAI1C,oBAAUD,OAAV,EAAmB;AACf,iBAAKN,MAAL,CAAYO,MAAZ,CAAmBD,OAAnB;;AACA,iBAAKE,MAAL;AACH,WAPD;AAQA;;;;;;AAIA6E,gCAAsB,CAACnL,SAAvB,CAAiCyF,GAAjC;AAAuC;;;;AAIvC,oBAAUW,OAAV,EAAmB;AACf,iBAAKgF,kBAAL,CAAwB3F,GAAxB,CAA4BW,OAA5B;AACH,WAND;AAOA;;;;;AAGA+E,gCAAsB,CAACnL,SAAvB,CAAiCoF,iBAAjC;AAAqD;;;AAGrD,sBAAY;AACR,gBAAIS,KAAK,GAAG,IAAZ,CADQ,CAER;;;AACA,iBAAKC,MAAL,GAAc,KAAKsF,kBAAL,CACTtG,IADS,CACJ,KAAKO,QAAL,CAAcqG,aADV,EACyB,KAAK3G,cAD9B,EAC8C,KAAKC,YADnD,EACiE,KAAK8G,sBADtE,EAC8F,KAAK5G,eADnG,CAAd,CAHQ,CAKR;;AACA,iBAAKY,MAAL,CAAY7F,EAAZ,CAAe,gBAAf,EAAiC,UAAU6B,KAAV,EAAiB;AAC9C+D,mBAAK,CAACwF,cAAN,CAAqBU,IAArB,CAA0BjK,KAA1B;AACH,aAFD;;AAGA,iBAAKgE,MAAL,CAAY7F,EAAZ,CAAe,gBAAf,EAAiC,UAAU6B,KAAV,EAAiB;AAC9C+D,mBAAK,CAAC0F,cAAN,CAAqBQ,IAArB,CAA0BjK,KAA1B;AACH,aAFD;;AAGA,iBAAKgE,MAAL,CAAYgC,eAAZ,GAA8B,YAAY;AACtCjC,mBAAK,CAACuF,kBAAN,CAAyBtD,eAAzB;AACH,aAFD;;AAGA,iBAAKhC,MAAL,CAAYqD,YAAZ,GAA2B,UAAUC,KAAV,EAAiB;AACxCvD,mBAAK,CAACuF,kBAAN,CAAyBjC,YAAzB,CAAsCC,KAAtC;AACH,aAFD;;AAGA,iBAAKtD,MAAL,CAAYuD,UAAZ,GAAyB,UAAUzC,IAAV,EAAgB;AACrC,qBAAOf,KAAK,CAACuF,kBAAN,CAAyB/B,UAAzB,CAAoCzC,IAApC,CAAP;AACH,aAFD;;AAGA,iBAAKd,MAAL,CAAYmE,eAAZ,GAA8B,YAAY;AACtC,qBAAOpE,KAAK,CAACuF,kBAAN,CAAyBnB,eAAzB,EAAP;AACH,aAFD;;AAGA,iBAAKnE,MAAL,CAAYoE,cAAZ,GAA6B,YAAY;AACrC,qBAAOrE,KAAK,CAACuF,kBAAN,CAAyBlB,cAAzB,EAAP;AACH,aAFD;;AAGA,iBAAKpE,MAAL,CAAYkG,YAAZ,GAA2B,YAAY;AACnC,qBAAOnG,KAAK,CAACuF,kBAAN,CAAyBxC,mBAAzB,EAAP;AACH,aAFD,CA3BQ,CA8BR;;;AACA,iBAAK4C,eAAL,CAAqBO,IAArB,CAA0B,KAAKjG,MAA/B;AACA,iBAAKQ,MAAL;AACH,WApCD;;AAqCA6E,gCAAsB,CAACP,UAAvB,GAAoC,CAChC;AAAEC,gBAAI,EAAEpJ,IAAI,CAACwK,SAAb;AAAwB/K,gBAAI,EAAE,CAAC;AACnBgL,sBAAQ,EAAE,oCADS;AAEnBC,sBAAQ,EAAE,2BAFS;AAGnBC,oBAAM,EAAE,CACJ,iDADI;AAHW,aAAD;AAA9B,WADgC,CAApC;AASA;;AACAjB,gCAAsB,CAACJ,cAAvB,GAAwC,YAAY;AAAE,mBAAO,CACzD;AAAEF,kBAAI,EAAEG,SAAR;AAAmBJ,wBAAU,EAAE,CAAC;AAAEC,oBAAI,EAAEpJ,IAAI,CAACwJ,MAAb;AAAqB/J,oBAAI,EAAE,CAACO,IAAI,CAACyJ,WAAN;AAA3B,eAAD;AAA/B,aADyD,EAEzD;AAAEL,kBAAI,EAAEpJ,IAAI,CAAC4K;AAAb,aAFyD,EAGzD;AAAExB,kBAAI,EAAEjJ;AAAR,aAHyD,CAAP;AAIlD,WAJJ;;AAKAuJ,gCAAsB,CAACmB,cAAvB,GAAwC;AACpCvH,0BAAc,EAAE,CAAC;AAAE8F,kBAAI,EAAEpJ,IAAI,CAAC8K;AAAb,aAAD,CADoB;AAEpCvH,wBAAY,EAAE,CAAC;AAAE6F,kBAAI,EAAEpJ,IAAI,CAAC8K;AAAb,aAAD,CAFsB;AAGpCT,kCAAsB,EAAE,CAAC;AAAEjB,kBAAI,EAAEpJ,IAAI,CAAC8K;AAAb,aAAD,CAHY;AAIpCrH,2BAAe,EAAE,CAAC;AAAE2F,kBAAI,EAAEpJ,IAAI,CAAC8K;AAAb,aAAD,CAJmB;AAKpClB,0BAAc,EAAE,CAAC;AAAER,kBAAI,EAAEpJ,IAAI,CAAC+K;AAAb,aAAD,CALoB;AAMpCjB,0BAAc,EAAE,CAAC;AAAEV,kBAAI,EAAEpJ,IAAI,CAAC+K;AAAb,aAAD,CANoB;AAOpChB,2BAAe,EAAE,CAAC;AAAEX,kBAAI,EAAEpJ,IAAI,CAAC+K;AAAb,aAAD;AAPmB,WAAxC;AASA,iBAAOrB,sBAAP;AACH,SAlJ2C,EAA5C;AAoJA;;;;;AAIA;;;;;;AAIA,YAAIsB,sBAAsB;AAAG;AAAe,oBAAY;AACpD,mBAASA,sBAAT,CAAgCpH,QAAhC,EAA0CqH,OAA1C,EAAmDC,UAAnD,EAA+DvB,kBAA/D,EAAmF;AAC/E,iBAAK/F,QAAL,GAAgBA,QAAhB;AACA,iBAAKqH,OAAL,GAAeA,OAAf;AACA,iBAAKC,UAAL,GAAkBA,UAAlB;AACA,iBAAKvB,kBAAL,GAA0BA,kBAA1B;AACH;AACD;;;;;AAGAqB,gCAAsB,CAACzM,SAAvB,CAAiCyL,QAAjC;AAA4C;;;AAG5C,sBAAY,CACR;AACH,WALD;AAMA;;;;AAGA;;;;;;AAIAgB,gCAAsB,CAACzM,SAAvB,CAAiC4M,eAAjC;AAAmD;;;;AAInD,sBAAY;AACR,gBAAIlL,MAAM,CAACiE,iBAAP,CAAyB,KAAKgH,UAA9B,CAAJ,EAA+C;AAC3C,mBAAKvB,kBAAL,CAAwBrJ,UAAxB,GAD2C,CAE3C;;AACA,mBAAKsD,QAAL,CAAcqG,aAAd,CAA4BmB,YAA5B,CAAyC,YAAzC,EAAuD,KAAKzB,kBAAL,CAAwBrJ,UAA/E,EAH2C,CAI3C;AACA;AACA;AACA;AACA;;;AACA,mBAAK2K,OAAL,CAAajH,GAAb,CAAiB,KAAKJ,QAAL,CAAcqG,aAA/B;;AACA,mBAAKoB,mBAAL;AACH;AACJ,WAjBD;AAkBA;;;;;AAGAL,gCAAsB,CAACzM,SAAvB,CAAiC4L,WAAjC;AAA+C;;;AAG/C,sBAAY,CACX,CAJD;AAKA;;;;;;AAIAa,gCAAsB,CAACzM,SAAvB,CAAiC8M,mBAAjC;AAAuD;;;;AAIvD,sBAAY;AACRC,4BAAgB,GAAGlN,MAAM,CAACkN,gBAAP,IAA2BlN,MAAM,CAACmN,sBAArD;;AACA,gBAAID,gBAAJ,EAAsB;AAClB;;;AAGA,kBAAIE,MAAM,GAAG,IAAb;AACA;;AACA,kBAAIxD,QAAQ,GAAG,IAAIsD,gBAAJ,CAAqB,UAAUG,SAAV,EAAqBC,mBAArB,EAA0C;AAC1EF,sBAAM,CAACP,OAAP,CAAepG,MAAf;AACH,eAFc,CAAf,CANkB,CASlB;AACA;;AACAmD,sBAAQ,CAAC2D,OAAT,CAAiB,KAAK/H,QAAL,CAAcqG,aAA/B,EAA8C;AAC1C2B,uBAAO,EAAE,IADiC;AAE1CC,yBAAS,EAAE;AAF+B,eAA9C;AAIH;AACJ,WAtBD;;AAuBAb,gCAAsB,CAAC7B,UAAvB,GAAoC,CAChC;AAAEC,gBAAI,EAAEpJ,IAAI,CAAC8L,SAAb;AAAwBrM,gBAAI,EAAE,CAAC;AACnB;AACAgL,sBAAQ,EAAE;AAFS,aAAD;AAA9B,WADgC,CAApC;AAMA;;AACAO,gCAAsB,CAAC1B,cAAvB,GAAwC,YAAY;AAAE,mBAAO,CACzD;AAAEF,kBAAI,EAAEpJ,IAAI,CAAC4K;AAAb,aADyD,EAEzD;AAAExB,kBAAI,EAAEM,sBAAR;AAAgCP,wBAAU,EAAE,CAAC;AAAEC,oBAAI,EAAEpJ,IAAI,CAACwJ,MAAb;AAAqB/J,oBAAI,EAAE,CAACO,IAAI,CAAC+L,UAAL,CAAgB,YAAY;AAAE,yBAAOrC,sBAAP;AAAgC,iBAA9D,CAAD;AAA3B,eAAD;AAA5C,aAFyD,EAGzD;AAAEN,kBAAI,EAAEG,SAAR;AAAmBJ,wBAAU,EAAE,CAAC;AAAEC,oBAAI,EAAEpJ,IAAI,CAACwJ,MAAb;AAAqB/J,oBAAI,EAAE,CAACO,IAAI,CAACyJ,WAAN;AAA3B,eAAD;AAA/B,aAHyD,EAIzD;AAAEL,kBAAI,EAAEjJ;AAAR,aAJyD,CAAP;AAKlD,WALJ;;AAMA,iBAAO6K,sBAAP;AACH,SA1F2C,EAA5C;AA4FA;;;;;AAIA;;;;;;AAIA,YAAIgB,mBAAmB;AAAG;AAAe,oBAAY;AACjD,mBAASA,mBAAT,GAA+B,CAC9B;;AACDA,6BAAmB,CAAC7C,UAApB,GAAiC,CAC7B;AAAEC,gBAAI,EAAEpJ,IAAI,CAACiM,QAAb;AAAuBxM,gBAAI,EAAE,CAAC;AAClByM,qBAAO,EAAE,CAACjM,MAAM,CAACkM,YAAR,CADS;AAElBpM,qBAAO,EAAE,CAAC2J,sBAAD,EAAyBsB,sBAAzB,CAFS;AAGlBoB,0BAAY,EAAE,CAAC1C,sBAAD,EAAyBsB,sBAAzB,CAHI;AAIlBqB,uBAAS,EAAE,CAAClM,oBAAD;AAJO,aAAD;AAA7B,WAD6B,CAAjC;AAQA,iBAAO6L,mBAAP;AACH,SAZwC,EAAzC;AAcA;;;;;AAIA;;;;;AAGA,YAAIM,eAAe;AAAG;AAAe,oBAAY;AAC7C,mBAASA,eAAT,GAA2B,CAC1B;;AACD,iBAAOA,eAAP;AACH,SAJoC,EAArC;AAKA;;;;;AAKA;;;;;AAGA,YAAIxI,OAAO;AAAG;AAAe,oBAAY;AACrC,mBAASA,OAAT,CAAiB2G,QAAjB,EAA2B5G,OAA3B,EAAoC,CACnC;;AAED,iBAAOC,OAAP;AACH,SAL4B,EAA7B;AAMA;;;;;AAKA;;;;;AAKA;;;;AAIA;;;;AAIA;;;;AAIA;;;;AAIA;;;;AAIA;;;;;;AAKA/D,eAAO,CAACiM,mBAAR,GAA8BA,mBAA9B;AACAjM,eAAO,CAAC2J,sBAAR,GAAiCA,sBAAjC;AACA3J,eAAO,CAACiL,sBAAR,GAAiCA,sBAAjC;AACAjL,eAAO,CAACI,oBAAR,GAA+BA,oBAA/B;AACAJ,eAAO,CAAC+D,OAAR,GAAkBA,OAAlB;AACA/D,eAAO,CAACuM,eAAR,GAA0BA,eAA1B;AAEAC,cAAM,CAACC,cAAP,CAAsBzM,OAAtB,EAA+B,YAA/B,EAA6C;AAAE4H,eAAK,EAAE;AAAT,SAA7C;AAEC,OA9jCA,CAAD;;;;;;;;;;;;;;;ACAA;AAAA;;;;;;;AAME,iBAAUvJ,MAAV,EAAkBD,OAAlB,EAA4B;AAC5B,qBAD4B,CAE5B;;AACA;;AAA2B;;AAC3B,YAAK,IAAL,EAAiD;AAC/C;AACA,2CAAQ,CACJ;AAAA;AAAA,iBADI,EAEJ;AAAA;AAAA,iBAFI,EAGJ;AAAA;AAAA,iBAHI,EAIJ;AAAA;AAAA,iBAJI,CAAR,EAKG,gCACD,UAAUE,SAAV,EAAqBoO,OAArB,EAA8BC,KAA9B,EAAqCC,IAArC,EAA4C;AAC1C,mBAAOxO,OAAO,CAAEC,MAAF,EAAUC,SAAV,EAAqBoO,OAArB,EAA8BC,KAA9B,EAAqCC,IAArC,CAAd;AACD,WAHA,CAGA,KAHA,CAGA,OAHA,EAGA,4BAHA,CALH,EAQG,+FARH;AAUD,SAZD,MAYO,CAkBN;AAEF,OApCC,EAoCCvO,MApCD,EAoCS,SAASD,OAAT,CAAkBC,MAAlB,EAA0BC,SAA1B,EAAqCoO,OAArC,EAA8CC,KAA9C,EAAqDC,IAArD,EAA4D;AACvE,qBADuE,CAGvE;;AAEA,YAAIC,OAAO,GAAGxO,MAAM,CAACwO,OAArB;AACA,YAAIC,MAAM,GAAGzO,MAAM,CAACyO,MAApB;;AACA,YAAIC,IAAI,GAAG,SAAPA,IAAO,GAAW,CAAE,CAAxB,CAPuE,CASvE;AAEA;;;AACA,YAAIC,IAAI,GAAG,CAAX,CAZuE,CAavE;;AACA,YAAIC,SAAS,GAAG,EAAhB;AAGA;;;;;;AAKA,iBAASC,QAAT,CAAmBtI,OAAnB,EAA4Bd,OAA5B,EAAsC;AACpC,cAAIqJ,YAAY,GAAGR,KAAK,CAACS,eAAN,CAAuBxI,OAAvB,CAAnB;;AACA,cAAK,CAACuI,YAAN,EAAqB;AACnB,gBAAKN,OAAL,EAAe;AACbA,qBAAO,CAACQ,KAAR,CAAe,qBAAqB,KAAKC,WAAL,CAAiBC,SAAtC,GACb,IADa,IACJJ,YAAY,IAAIvI,OADZ,CAAf;AAED;;AACD;AACD;;AACD,eAAKA,OAAL,GAAeuI,YAAf,CAToC,CAUpC;;AACA,cAAKL,MAAL,EAAc;AACZ,iBAAKU,QAAL,GAAgBV,MAAM,CAAE,KAAKlI,OAAP,CAAtB;AACD,WAbmC,CAepC;;;AACA,eAAKd,OAAL,GAAe6I,KAAK,CAAC1J,MAAN,CAAc,EAAd,EAAkB,KAAKqK,WAAL,CAAiBG,QAAnC,CAAf;AACA,eAAKC,MAAL,CAAa5J,OAAb,EAjBoC,CAmBpC;;AACA,cAAI6J,EAAE,GAAG,EAAEX,IAAX;AACA,eAAKpI,OAAL,CAAagJ,YAAb,GAA4BD,EAA5B,CArBoC,CAqBJ;;AAChCV,mBAAS,CAAEU,EAAF,CAAT,GAAkB,IAAlB,CAtBoC,CAsBZ;AAExB;;AACA,eAAKE,OAAL;;AAEA,cAAIC,YAAY,GAAG,KAAKC,UAAL,CAAgB,YAAhB,CAAnB;;AACA,cAAKD,YAAL,EAAoB;AAClB,iBAAKhJ,MAAL;AACD;AACF,SArDsE,CAuDvE;;;AACAoI,gBAAQ,CAACK,SAAT,GAAqB,UAArB;AACAL,gBAAQ,CAACN,IAAT,GAAgBA,IAAhB,CAzDuE,CA2DvE;;AACAM,gBAAQ,CAACO,QAAT,GAAoB;AAClBO,wBAAc,EAAE;AACdC,oBAAQ,EAAE;AADI,WADE;AAIlB7M,oBAAU,EAAE,IAJM;AAKlB8M,oBAAU,EAAE,IALM;AAMlBC,mBAAS,EAAE,IANO;AAOlBC,gBAAM,EAAE,IAPU;AAQlBC,yBAAe,EAAE,IARC;AASlB;AACAvF,4BAAkB,EAAE,MAVF;AAWlBwF,qBAAW,EAAE;AACXrF,mBAAO,EAAE,CADE;AAEXD,qBAAS,EAAE;AAFA,WAXK;AAelBuF,sBAAY,EAAE;AACZtF,mBAAO,EAAE,CADG;AAEZD,qBAAS,EAAE;AAFC;AAfI,SAApB;AAqBA,YAAIzK,KAAK,GAAG2O,QAAQ,CAAC1O,SAArB,CAjFuE,CAkFvE;;AACAmO,aAAK,CAAC1J,MAAN,CAAc1E,KAAd,EAAqBD,SAAS,CAACE,SAA/B;AAEA;;;;;AAIAD,aAAK,CAACmP,MAAN,GAAe,UAAUc,IAAV,EAAiB;AAC9B7B,eAAK,CAAC1J,MAAN,CAAc,KAAKa,OAAnB,EAA4B0K,IAA5B;AACD,SAFD;AAIA;;;;;AAGAjQ,aAAK,CAACwP,UAAN,GAAmB,UAAUL,MAAV,EAAmB;AACpC,cAAIe,SAAS,GAAG,KAAKnB,WAAL,CAAiBoB,aAAjB,CAAgChB,MAAhC,CAAhB;AACA,iBAAOe,SAAS,IAAI,KAAK3K,OAAL,CAAc2K,SAAd,MAA8BjF,SAA3C,GACL,KAAK1F,OAAL,CAAc2K,SAAd,CADK,GACuB,KAAK3K,OAAL,CAAc4J,MAAd,CAD9B;AAED,SAJD;;AAMAR,gBAAQ,CAACwB,aAAT,GAAyB;AACvB;AACAtN,oBAAU,EAAE,cAFW;AAGvBuN,oBAAU,EAAE,cAHW;AAIvBC,uBAAa,EAAE,iBAJQ;AAKvBV,oBAAU,EAAE,cALW;AAMvBC,mBAAS,EAAE,aANY;AAOvBC,gBAAM,EAAE,eAPe;AAQvBC,yBAAe,EAAE;AARM,SAAzB;;AAWA9P,aAAK,CAACsP,OAAN,GAAgB,YAAW;AACzB;AACA,eAAKnG,WAAL,GAFyB,CAGzB;;AACA,eAAKmH,MAAL,GAAc,EAAd;AACA,eAAKC,KAAL,CAAY,KAAKhL,OAAL,CAAagL,KAAzB,EALyB,CAMzB;;AACAnC,eAAK,CAAC1J,MAAN,CAAc,KAAK2B,OAAL,CAAaU,KAA3B,EAAkC,KAAKxB,OAAL,CAAakK,cAA/C,EAPyB,CASzB;;AACA,cAAIe,aAAa,GAAG,KAAKhB,UAAL,CAAgB,QAAhB,CAApB;;AACA,cAAKgB,aAAL,EAAqB;AACnB,iBAAKC,UAAL;AACD;AACF,SAdD,CAjHuE,CAiIvE;;;AACAzQ,aAAK,CAACmJ,WAAN,GAAoB,YAAW;AAC7B;AACA,eAAKpH,KAAL,GAAa,KAAK2O,QAAL,CAAe,KAAKrK,OAAL,CAAaF,QAA5B,CAAb;AACD,SAHD;AAMA;;;;;;;AAKAnG,aAAK,CAAC0Q,QAAN,GAAiB,UAAUC,KAAV,EAAkB;AAEjC,cAAIC,SAAS,GAAG,KAAKC,uBAAL,CAA8BF,KAA9B,CAAhB;;AACA,cAAItC,IAAI,GAAG,KAAKU,WAAL,CAAiBV,IAA5B,CAHiC,CAKjC;;AACA,cAAItM,KAAK,GAAG,EAAZ;;AACA,eAAM,IAAIV,CAAC,GAAC,CAAZ,EAAeA,CAAC,GAAGuP,SAAS,CAAC7P,MAA7B,EAAqCM,CAAC,EAAtC,EAA2C;AACzC,gBAAIyI,IAAI,GAAG8G,SAAS,CAACvP,CAAD,CAApB;AACA,gBAAIwF,IAAI,GAAG,IAAIwH,IAAJ,CAAUvE,IAAV,EAAgB,IAAhB,CAAX;AACA/H,iBAAK,CAACtB,IAAN,CAAYoG,IAAZ;AACD;;AAED,iBAAO9E,KAAP;AACD,SAdD;AAgBA;;;;;;;AAKA/B,aAAK,CAAC6Q,uBAAN,GAAgC,UAAUF,KAAV,EAAkB;AAChD,iBAAOvC,KAAK,CAAC0C,kBAAN,CAA0BH,KAA1B,EAAiC,KAAKpL,OAAL,CAAa3C,YAA9C,CAAP;AACD,SAFD;AAIA;;;;;;AAIA5C,aAAK,CAAC+Q,eAAN,GAAwB,YAAW;AACjC,iBAAO,KAAKhP,KAAL,CAAW6E,GAAX,CAAgB,UAAUC,IAAV,EAAiB;AACtC,mBAAOA,IAAI,CAACR,OAAZ;AACD,WAFM,CAAP;AAGD,SAJD,CA1KuE,CAgLvE;;AAEA;;;;;AAGArG,aAAK,CAACuG,MAAN,GAAe,YAAW;AACxB,eAAKyK,YAAL;;AACA,eAAKC,aAAL,GAFwB,CAIxB;;;AACA,cAAIZ,aAAa,GAAG,KAAKb,UAAL,CAAgB,eAAhB,CAApB;;AACA,cAAI0B,SAAS,GAAGb,aAAa,KAAKpF,SAAlB,GACdoF,aADc,GACE,CAAC,KAAKc,eADxB;AAEA,eAAKC,WAAL,CAAkB,KAAKrP,KAAvB,EAA8BmP,SAA9B,EARwB,CAUxB;;AACA,eAAKC,eAAL,GAAuB,IAAvB;AACD,SAZD,CArLuE,CAmMvE;;;AACAnR,aAAK,CAACoF,KAAN,GAAcpF,KAAK,CAACuG,MAApB;AAEA;;;;AAGAvG,aAAK,CAACgR,YAAN,GAAqB,YAAW;AAC9B,eAAK7C,OAAL;AACD,SAFD;;AAKAnO,aAAK,CAACmO,OAAN,GAAgB,YAAW;AACzB,eAAKkD,IAAL,GAAYlD,OAAO,CAAE,KAAK9H,OAAP,CAAnB;AACD,SAFD;AAIA;;;;;;;;;;;;AAUArG,aAAK,CAACsR,eAAN,GAAwB,UAAUC,WAAV,EAAuBF,IAAvB,EAA8B;AACpD,cAAIlC,MAAM,GAAG,KAAK5J,OAAL,CAAcgM,WAAd,CAAb;AACA,cAAIzH,IAAJ;;AACA,cAAK,CAACqF,MAAN,EAAe;AACb;AACA,iBAAMoC,WAAN,IAAsB,CAAtB;AACD,WAHD,MAGO;AACL;AACA,gBAAK,OAAOpC,MAAP,IAAiB,QAAtB,EAAiC;AAC/BrF,kBAAI,GAAG,KAAKzD,OAAL,CAAamL,aAAb,CAA4BrC,MAA5B,CAAP;AACD,aAFD,MAEO,IAAKA,MAAM,YAAYsC,WAAvB,EAAqC;AAC1C3H,kBAAI,GAAGqF,MAAP;AACD,aANI,CAOL;;;AACA,iBAAMoC,WAAN,IAAsBzH,IAAI,GAAGqE,OAAO,CAAErE,IAAF,CAAP,CAAiBuH,IAAjB,CAAH,GAA6BlC,MAAvD;AACD;AACF,SAhBD;AAkBA;;;;;;AAIAnP,aAAK,CAACoR,WAAN,GAAoB,UAAUrP,KAAV,EAAiBmP,SAAjB,EAA6B;AAC/CnP,eAAK,GAAG,KAAK2P,kBAAL,CAAyB3P,KAAzB,CAAR;;AAEA,eAAK4P,YAAL,CAAmB5P,KAAnB,EAA0BmP,SAA1B;;AAEA,eAAKU,WAAL;AACD,SAND;AAQA;;;;;;;;AAMA5R,aAAK,CAAC0R,kBAAN,GAA2B,UAAU3P,KAAV,EAAkB;AAC3C,iBAAOA,KAAK,CAAC8P,MAAN,CAAc,UAAUhL,IAAV,EAAiB;AACpC,mBAAO,CAACA,IAAI,CAACiL,SAAb;AACD,WAFM,CAAP;AAGD,SAJD;AAMA;;;;;;;AAKA9R,aAAK,CAAC2R,YAAN,GAAqB,UAAU5P,KAAV,EAAiBmP,SAAjB,EAA6B;AAChD,eAAKa,oBAAL,CAA2B,QAA3B,EAAqChQ,KAArC;;AAEA,cAAK,CAACA,KAAD,IAAU,CAACA,KAAK,CAAChB,MAAtB,EAA+B;AAC7B;AACA;AACD;;AAED,cAAIiR,KAAK,GAAG,EAAZ;AAEAjQ,eAAK,CAACqE,OAAN,CAAe,UAAUS,IAAV,EAAiB;AAC9B;AACA,gBAAI6I,QAAQ,GAAG,KAAKuC,sBAAL,CAA6BpL,IAA7B,CAAf,CAF8B,CAG9B;;;AACA6I,oBAAQ,CAAC7I,IAAT,GAAgBA,IAAhB;AACA6I,oBAAQ,CAACwB,SAAT,GAAqBA,SAAS,IAAIrK,IAAI,CAACqL,eAAvC;AACAF,iBAAK,CAACvR,IAAN,CAAYiP,QAAZ;AACD,WAPD,EAOG,IAPH;;AASA,eAAKyC,mBAAL,CAA0BH,KAA1B;AACD,SApBD;AAsBA;;;;;;;AAKAhS,aAAK,CAACiS,sBAAN,GAA+B,YAAuB;AACpD,iBAAO;AACLG,aAAC,EAAE,CADE;AAELC,aAAC,EAAE;AAFE,WAAP;AAID,SALD;AAOA;;;;;;;;AAMArS,aAAK,CAACmS,mBAAN,GAA4B,UAAUH,KAAV,EAAkB;AAC5C,eAAKM,aAAL;AACAN,eAAK,CAAC5L,OAAN,CAAe,UAAUmM,GAAV,EAAelR,CAAf,EAAmB;AAChC,iBAAKmR,aAAL,CAAoBD,GAAG,CAAC1L,IAAxB,EAA8B0L,GAAG,CAACH,CAAlC,EAAqCG,GAAG,CAACF,CAAzC,EAA4CE,GAAG,CAACrB,SAAhD,EAA2D7P,CAA3D;AACD,WAFD,EAEG,IAFH;AAGD,SALD,CAnTuE,CA0TvE;;;AACArB,aAAK,CAACsS,aAAN,GAAsB,YAAW;AAC/B,cAAIG,OAAO,GAAG,KAAKlN,OAAL,CAAakN,OAA3B;;AACA,cAAKA,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAKxH,SAArC,EAAiD;AAC/C,iBAAKwH,OAAL,GAAe,CAAf;AACA;AACD;;AACD,eAAKA,OAAL,GAAeC,eAAe,CAAED,OAAF,CAA9B;AACA,iBAAO,KAAKA,OAAZ;AACD,SARD;AAUA;;;;;;;;;AAOAzS,aAAK,CAACwS,aAAN,GAAsB,UAAU3L,IAAV,EAAgBuL,CAAhB,EAAmBC,CAAnB,EAAsBnB,SAAtB,EAAiC7P,CAAjC,EAAqC;AACzD,cAAK6P,SAAL,EAAiB;AACf;AACArK,gBAAI,CAAC8L,IAAL,CAAWP,CAAX,EAAcC,CAAd;AACD,WAHD,MAGO;AACLxL,gBAAI,CAAC4L,OAAL,CAAcpR,CAAC,GAAG,KAAKoR,OAAvB;AACA5L,gBAAI,CAAC+L,MAAL,CAAaR,CAAb,EAAgBC,CAAhB;AACD;AACF,SARD;AAUA;;;;;;AAIArS,aAAK,CAAC4R,WAAN,GAAoB,YAAW;AAC7B,eAAK9B,eAAL;AACD,SAFD;;AAIA9P,aAAK,CAAC8P,eAAN,GAAwB,YAAW;AACjC,cAAI+C,mBAAmB,GAAG,KAAKrD,UAAL,CAAgB,iBAAhB,CAA1B;;AACA,cAAK,CAACqD,mBAAN,EAA4B;AAC1B;AACD;;AACD,cAAIxB,IAAI,GAAG,KAAKyB,iBAAL,EAAX;;AACA,cAAKzB,IAAL,EAAY;AACV,iBAAK0B,oBAAL,CAA2B1B,IAAI,CAAC2B,KAAhC,EAAuC,IAAvC;;AACA,iBAAKD,oBAAL,CAA2B1B,IAAI,CAAC4B,MAAhC,EAAwC,KAAxC;AACD;AACF,SAVD;AAYA;;;;;;;;AAMAjT,aAAK,CAAC8S,iBAAN,GAA0BtE,IAA1B;AAEA;;;;;AAIAxO,aAAK,CAAC+S,oBAAN,GAA6B,UAAUG,OAAV,EAAmBC,OAAnB,EAA6B;AACxD,cAAKD,OAAO,KAAKjI,SAAjB,EAA6B;AAC3B;AACD;;AAED,cAAImI,QAAQ,GAAG,KAAK/B,IAApB,CALwD,CAMxD;;AACA,cAAK+B,QAAQ,CAACC,WAAd,EAA4B;AAC1BH,mBAAO,IAAIC,OAAO,GAAGC,QAAQ,CAACE,WAAT,GAAuBF,QAAQ,CAACG,YAAhC,GACnBH,QAAQ,CAACI,eADU,GACQJ,QAAQ,CAACK,gBADpB,GAEhBL,QAAQ,CAACM,aAAT,GAAyBN,QAAQ,CAACO,UAAlC,GACAP,QAAQ,CAACQ,cADT,GAC0BR,QAAQ,CAACS,iBAHrC;AAID;;AAEDX,iBAAO,GAAG9L,IAAI,CAAC0M,GAAL,CAAUZ,OAAV,EAAmB,CAAnB,CAAV;AACA,eAAK7M,OAAL,CAAaU,KAAb,CAAoBoM,OAAO,GAAG,OAAH,GAAa,QAAxC,IAAqDD,OAAO,GAAG,IAA/D;AACD,SAhBD;AAkBA;;;;;;;AAKAlT,aAAK,CAAC+R,oBAAN,GAA6B,UAAU5R,SAAV,EAAqB4B,KAArB,EAA6B;AACxD,cAAI+D,KAAK,GAAG,IAAZ;;AACA,mBAASiO,UAAT,GAAsB;AACpBjO,iBAAK,CAACkO,aAAN,CAAqB7T,SAAS,GAAG,UAAjC,EAA6C,IAA7C,EAAmD,CAAE4B,KAAF,CAAnD;AACD;;AAED,cAAIkH,KAAK,GAAGlH,KAAK,CAAChB,MAAlB;;AACA,cAAK,CAACgB,KAAD,IAAU,CAACkH,KAAhB,EAAwB;AACtB8K,sBAAU;AACV;AACD;;AAED,cAAIE,SAAS,GAAG,CAAhB;;AACA,mBAASC,IAAT,GAAgB;AACdD,qBAAS;;AACT,gBAAKA,SAAS,IAAIhL,KAAlB,EAA0B;AACxB8K,wBAAU;AACX;AACF,WAlBuD,CAoBxD;;;AACAhS,eAAK,CAACqE,OAAN,CAAe,UAAUS,IAAV,EAAiB;AAC9BA,gBAAI,CAACnG,IAAL,CAAWP,SAAX,EAAsB+T,IAAtB;AACD,WAFD;AAGD,SAxBD;AA0BA;;;;;;;;AAMAlU,aAAK,CAACgU,aAAN,GAAsB,UAAUlJ,IAAV,EAAgBqJ,KAAhB,EAAuBhT,IAAvB,EAA8B;AAClD;AACA,cAAIiT,QAAQ,GAAGD,KAAK,GAAG,CAAEA,KAAF,EAAUE,MAAV,CAAkBlT,IAAlB,CAAH,GAA8BA,IAAlD;AACA,eAAKD,SAAL,CAAgB4J,IAAhB,EAAsBsJ,QAAtB;;AAEA,cAAK7F,MAAL,EAAc;AACZ;AACA,iBAAKU,QAAL,GAAgB,KAAKA,QAAL,IAAiBV,MAAM,CAAE,KAAKlI,OAAP,CAAvC;;AACA,gBAAK8N,KAAL,EAAa;AACX;AACA,kBAAIG,MAAM,GAAG/F,MAAM,CAACgG,KAAP,CAAcJ,KAAd,CAAb;AACAG,oBAAM,CAACxJ,IAAP,GAAcA,IAAd;AACA,mBAAKmE,QAAL,CAAcuF,OAAd,CAAuBF,MAAvB,EAA+BnT,IAA/B;AACD,aALD,MAKO;AACL;AACA,mBAAK8N,QAAL,CAAcuF,OAAd,CAAuB1J,IAAvB,EAA6B3J,IAA7B;AACD;AACF;AACF,SAlBD,CA7auE,CAicvE;;AAGA;;;;;;;AAKAnB,aAAK,CAACyU,MAAN,GAAe,UAAU3K,IAAV,EAAiB;AAC9B,cAAIjD,IAAI,GAAG,KAAK6N,OAAL,CAAc5K,IAAd,CAAX;;AACA,cAAKjD,IAAL,EAAY;AACVA,gBAAI,CAACiL,SAAL,GAAiB,IAAjB;AACD;AACF,SALD;AAOA;;;;;;AAIA9R,aAAK,CAAC2U,QAAN,GAAiB,UAAU7K,IAAV,EAAiB;AAChC,cAAIjD,IAAI,GAAG,KAAK6N,OAAL,CAAc5K,IAAd,CAAX;;AACA,cAAKjD,IAAL,EAAY;AACV,mBAAOA,IAAI,CAACiL,SAAZ;AACD;AACF,SALD;AAOA;;;;;;AAIA9R,aAAK,CAACuQ,KAAN,GAAc,UAAUI,KAAV,EAAkB;AAC9BA,eAAK,GAAG,KAAKiE,KAAL,CAAYjE,KAAZ,CAAR;;AACA,cAAK,CAACA,KAAN,EAAc;AACZ;AACD;;AAED,eAAKL,MAAL,GAAc,KAAKA,MAAL,CAAY+D,MAAZ,CAAoB1D,KAApB,CAAd,CAN8B,CAO9B;;AACAA,eAAK,CAACvK,OAAN,CAAe,KAAKqO,MAApB,EAA4B,IAA5B;AACD,SATD;AAWA;;;;;;AAIAzU,aAAK,CAAC6U,OAAN,GAAgB,UAAUlE,KAAV,EAAkB;AAChCA,eAAK,GAAG,KAAKiE,KAAL,CAAYjE,KAAZ,CAAR;;AACA,cAAK,CAACA,KAAN,EAAa;AACX;AACD;;AAEDA,eAAK,CAACvK,OAAN,CAAe,UAAU0D,IAAV,EAAiB;AAC9B;AACAsE,iBAAK,CAAC0G,UAAN,CAAkB,KAAKxE,MAAvB,EAA+BxG,IAA/B;AACA,iBAAK6K,QAAL,CAAe7K,IAAf;AACD,WAJD,EAIG,IAJH;AAKD,SAXD;AAaA;;;;;;;AAKA9J,aAAK,CAAC4U,KAAN,GAAc,UAAUjE,KAAV,EAAkB;AAC9B,cAAK,CAACA,KAAN,EAAc;AACZ;AACD,WAH6B,CAI9B;;;AACA,cAAK,OAAOA,KAAP,IAAgB,QAArB,EAAgC;AAC9BA,iBAAK,GAAG,KAAKtK,OAAL,CAAa0O,gBAAb,CAA+BpE,KAA/B,CAAR;AACD;;AACDA,eAAK,GAAGvC,KAAK,CAAC4G,SAAN,CAAiBrE,KAAjB,CAAR;AACA,iBAAOA,KAAP;AACD,SAVD;;AAYA3Q,aAAK,CAACiR,aAAN,GAAsB,YAAW;AAC/B,cAAK,CAAC,KAAKX,MAAN,IAAgB,CAAC,KAAKA,MAAL,CAAYvP,MAAlC,EAA2C;AACzC;AACD;;AAED,eAAKkU,gBAAL;;AAEA,eAAK3E,MAAL,CAAYlK,OAAZ,CAAqB,KAAK8O,YAA1B,EAAwC,IAAxC;AACD,SARD,CA5gBuE,CAshBvE;;;AACAlV,aAAK,CAACiV,gBAAN,GAAyB,YAAW;AAClC;AACA,cAAIE,YAAY,GAAG,KAAK9O,OAAL,CAAa+O,qBAAb,EAAnB;AACA,cAAI/D,IAAI,GAAG,KAAKA,IAAhB;AACA,eAAKgE,aAAL,GAAqB;AACnBpR,gBAAI,EAAEkR,YAAY,CAAClR,IAAb,GAAoBoN,IAAI,CAACiC,WAAzB,GAAuCjC,IAAI,CAACmC,eAD/B;AAEnBxP,eAAG,EAAEmR,YAAY,CAACnR,GAAb,GAAmBqN,IAAI,CAACsC,UAAxB,GAAqCtC,IAAI,CAACuC,cAF5B;AAGnB0B,iBAAK,EAAEH,YAAY,CAACG,KAAb,IAAuBjE,IAAI,CAACkC,YAAL,GAAoBlC,IAAI,CAACoC,gBAAhD,CAHY;AAInB8B,kBAAM,EAAEJ,YAAY,CAACI,MAAb,IAAwBlE,IAAI,CAACqC,aAAL,GAAqBrC,IAAI,CAACwC,iBAAlD;AAJW,WAArB;AAMD,SAVD;AAYA;;;;;AAGA7T,aAAK,CAACkV,YAAN,GAAqB1G,IAArB;AAEA;;;;;;AAKAxO,aAAK,CAACwV,iBAAN,GAA0B,UAAU1L,IAAV,EAAiB;AACzC,cAAIqL,YAAY,GAAGrL,IAAI,CAACsL,qBAAL,EAAnB;AACA,cAAIK,QAAQ,GAAG,KAAKJ,aAApB;AACA,cAAIhE,IAAI,GAAGlD,OAAO,CAAErE,IAAF,CAAlB;AACA,cAAI4L,MAAM,GAAG;AACXzR,gBAAI,EAAEkR,YAAY,CAAClR,IAAb,GAAoBwR,QAAQ,CAACxR,IAA7B,GAAoCoN,IAAI,CAACsE,UADpC;AAEX3R,eAAG,EAAEmR,YAAY,CAACnR,GAAb,GAAmByR,QAAQ,CAACzR,GAA5B,GAAkCqN,IAAI,CAACuE,SAFjC;AAGXN,iBAAK,EAAEG,QAAQ,CAACH,KAAT,GAAiBH,YAAY,CAACG,KAA9B,GAAsCjE,IAAI,CAACwE,WAHvC;AAIXN,kBAAM,EAAEE,QAAQ,CAACF,MAAT,GAAkBJ,YAAY,CAACI,MAA/B,GAAwClE,IAAI,CAACnJ;AAJ1C,WAAb;AAMA,iBAAOwN,MAAP;AACD,SAXD,CA7iBuE,CA0jBvE;AAEA;AACA;;;AACA1V,aAAK,CAAC8V,WAAN,GAAoB1H,KAAK,CAAC0H,WAA1B;AAEA;;;;AAGA9V,aAAK,CAACyQ,UAAN,GAAmB,YAAW;AAC5B3Q,gBAAM,CAACkG,gBAAP,CAAyB,QAAzB,EAAmC,IAAnC;AACA,eAAK+P,aAAL,GAAqB,IAArB;AACD,SAHD;AAKA;;;;;AAGA/V,aAAK,CAACgW,YAAN,GAAqB,YAAW;AAC9BlW,gBAAM,CAAC+H,mBAAP,CAA4B,QAA5B,EAAsC,IAAtC;AACA,eAAKkO,aAAL,GAAqB,KAArB;AACD,SAHD;;AAKA/V,aAAK,CAACiW,QAAN,GAAiB,YAAW;AAC1B,eAAKpG,MAAL;AACD,SAFD;;AAIAzB,aAAK,CAAC8H,cAAN,CAAsBvH,QAAtB,EAAgC,UAAhC,EAA4C,GAA5C;;AAEA3O,aAAK,CAAC6P,MAAN,GAAe,YAAW;AACxB;AACA;AACA,cAAK,CAAC,KAAKkG,aAAN,IAAuB,CAAC,KAAKI,iBAAL,EAA7B,EAAwD;AACtD;AACD;;AAED,eAAK5P,MAAL;AACD,SARD;AAUA;;;;;;AAIAvG,aAAK,CAACmW,iBAAN,GAA0B,YAAW;AACnC,cAAI9E,IAAI,GAAGlD,OAAO,CAAE,KAAK9H,OAAP,CAAlB,CADmC,CAEnC;AACA;;AACA,cAAI+P,QAAQ,GAAG,KAAK/E,IAAL,IAAaA,IAA5B;AACA,iBAAO+E,QAAQ,IAAI/E,IAAI,CAACgF,UAAL,KAAoB,KAAKhF,IAAL,CAAUgF,UAAjD;AACD,SAND,CApmBuE,CA4mBvE;;AAEA;;;;;;;AAKArW,aAAK,CAAC2I,QAAN,GAAiB,UAAUgI,KAAV,EAAkB;AACjC,cAAI5O,KAAK,GAAG,KAAK2O,QAAL,CAAeC,KAAf,CAAZ,CADiC,CAEjC;;;AACA,cAAK5O,KAAK,CAAChB,MAAX,EAAoB;AAClB,iBAAKgB,KAAL,GAAa,KAAKA,KAAL,CAAWsS,MAAX,CAAmBtS,KAAnB,CAAb;AACD;;AACD,iBAAOA,KAAP;AACD,SAPD;AASA;;;;;;AAIA/B,aAAK,CAAC0I,QAAN,GAAiB,UAAUiI,KAAV,EAAkB;AACjC,cAAI5O,KAAK,GAAG,KAAK4G,QAAL,CAAegI,KAAf,CAAZ;;AACA,cAAK,CAAC5O,KAAK,CAAChB,MAAZ,EAAqB;AACnB;AACD,WAJgC,CAKjC;;;AACA,eAAKqQ,WAAL,CAAkBrP,KAAlB,EAAyB,IAAzB;AACA,eAAKuU,MAAL,CAAavU,KAAb;AACD,SARD;AAUA;;;;;;AAIA/B,aAAK,CAACyI,SAAN,GAAkB,UAAUkI,KAAV,EAAkB;AAClC,cAAI5O,KAAK,GAAG,KAAK2O,QAAL,CAAeC,KAAf,CAAZ;;AACA,cAAK,CAAC5O,KAAK,CAAChB,MAAZ,EAAqB;AACnB;AACD,WAJiC,CAKlC;;;AACA,cAAIwV,aAAa,GAAG,KAAKxU,KAAL,CAAWX,KAAX,CAAiB,CAAjB,CAApB;AACA,eAAKW,KAAL,GAAaA,KAAK,CAACsS,MAAN,CAAckC,aAAd,CAAb,CAPkC,CAQlC;;AACA,eAAKvF,YAAL;;AACA,eAAKC,aAAL,GAVkC,CAWlC;;;AACA,eAAKG,WAAL,CAAkBrP,KAAlB,EAAyB,IAAzB;AACA,eAAKuU,MAAL,CAAavU,KAAb,EAbkC,CAclC;;AACA,eAAKqP,WAAL,CAAkBmF,aAAlB;AACD,SAhBD;AAkBA;;;;;;AAIAvW,aAAK,CAACsW,MAAN,GAAe,UAAUvU,KAAV,EAAkB;AAC/B,eAAKgQ,oBAAL,CAA2B,QAA3B,EAAqChQ,KAArC;;AACA,cAAK,CAACA,KAAD,IAAU,CAACA,KAAK,CAAChB,MAAtB,EAA+B;AAC7B;AACD;;AACD,cAAI0R,OAAO,GAAG,KAAKH,aAAL,EAAd;AACAvQ,eAAK,CAACqE,OAAN,CAAe,UAAUS,IAAV,EAAgBxF,CAAhB,EAAoB;AACjCwF,gBAAI,CAAC4L,OAAL,CAAcpR,CAAC,GAAGoR,OAAlB;AACA5L,gBAAI,CAACyP,MAAL;AACD,WAHD;AAID,SAVD;AAYA;;;;;;AAIAtW,aAAK,CAACwW,IAAN,GAAa,UAAUzU,KAAV,EAAkB;AAC7B,eAAKgQ,oBAAL,CAA2B,MAA3B,EAAmChQ,KAAnC;;AACA,cAAK,CAACA,KAAD,IAAU,CAACA,KAAK,CAAChB,MAAtB,EAA+B;AAC7B;AACD;;AACD,cAAI0R,OAAO,GAAG,KAAKH,aAAL,EAAd;AACAvQ,eAAK,CAACqE,OAAN,CAAe,UAAUS,IAAV,EAAgBxF,CAAhB,EAAoB;AACjCwF,gBAAI,CAAC4L,OAAL,CAAcpR,CAAC,GAAGoR,OAAlB;AACA5L,gBAAI,CAAC2P,IAAL;AACD,WAHD;AAID,SAVD;AAYA;;;;;;AAIAxW,aAAK,CAACyW,kBAAN,GAA2B,UAAU9F,KAAV,EAAkB;AAC3C,cAAI5O,KAAK,GAAG,KAAK2U,QAAL,CAAe/F,KAAf,CAAZ;AACA,eAAK2F,MAAL,CAAavU,KAAb;AACD,SAHD;AAKA;;;;;;AAIA/B,aAAK,CAAC2W,gBAAN,GAAyB,UAAUhG,KAAV,EAAkB;AACzC,cAAI5O,KAAK,GAAG,KAAK2U,QAAL,CAAe/F,KAAf,CAAZ;AACA,eAAK6F,IAAL,CAAWzU,KAAX;AACD,SAHD;AAKA;;;;;;;;AAMA/B,aAAK,CAAC0U,OAAN,GAAgB,UAAU5K,IAAV,EAAiB;AAC/B;AACA,eAAM,IAAIzI,CAAC,GAAC,CAAZ,EAAeA,CAAC,GAAG,KAAKU,KAAL,CAAWhB,MAA9B,EAAsCM,CAAC,EAAvC,EAA4C;AAC1C,gBAAIwF,IAAI,GAAG,KAAK9E,KAAL,CAAWV,CAAX,CAAX;;AACA,gBAAKwF,IAAI,CAACR,OAAL,IAAgByD,IAArB,EAA4B;AAC1B;AACA,qBAAOjD,IAAP;AACD;AACF;AACF,SATD;AAWA;;;;;;;AAKA7G,aAAK,CAAC0W,QAAN,GAAiB,UAAU/F,KAAV,EAAkB;AACjCA,eAAK,GAAGvC,KAAK,CAAC4G,SAAN,CAAiBrE,KAAjB,CAAR;AACA,cAAI5O,KAAK,GAAG,EAAZ;AACA4O,eAAK,CAACvK,OAAN,CAAe,UAAU0D,IAAV,EAAiB;AAC9B,gBAAIjD,IAAI,GAAG,KAAK6N,OAAL,CAAc5K,IAAd,CAAX;;AACA,gBAAKjD,IAAL,EAAY;AACV9E,mBAAK,CAACtB,IAAN,CAAYoG,IAAZ;AACD;AACF,WALD,EAKG,IALH;AAOA,iBAAO9E,KAAP;AACD,SAXD;AAaA;;;;;;AAIA/B,aAAK,CAACsG,MAAN,GAAe,UAAUqK,KAAV,EAAkB;AAC/B,cAAIiG,WAAW,GAAG,KAAKF,QAAL,CAAe/F,KAAf,CAAlB;;AAEA,eAAKoB,oBAAL,CAA2B,QAA3B,EAAqC6E,WAArC,EAH+B,CAK/B;;;AACA,cAAK,CAACA,WAAD,IAAgB,CAACA,WAAW,CAAC7V,MAAlC,EAA2C;AACzC;AACD;;AAED6V,qBAAW,CAACxQ,OAAZ,CAAqB,UAAUS,IAAV,EAAiB;AACpCA,gBAAI,CAACP,MAAL,GADoC,CAEpC;;AACA8H,iBAAK,CAAC0G,UAAN,CAAkB,KAAK/S,KAAvB,EAA8B8E,IAA9B;AACD,WAJD,EAIG,IAJH;AAKD,SAfD,CAzvBuE,CA0wBvE;AAEA;;;AACA7G,aAAK,CAAC8L,OAAN,GAAgB,YAAW;AACzB;AACA,cAAI/E,KAAK,GAAG,KAAKV,OAAL,CAAaU,KAAzB;AACAA,eAAK,CAACkM,MAAN,GAAe,EAAf;AACAlM,eAAK,CAAC2I,QAAN,GAAiB,EAAjB;AACA3I,eAAK,CAACiM,KAAN,GAAc,EAAd,CALyB,CAMzB;;AACA,eAAKjR,KAAL,CAAWqE,OAAX,CAAoB,UAAUS,IAAV,EAAiB;AACnCA,gBAAI,CAACiF,OAAL;AACD,WAFD;AAIA,eAAKkK,YAAL;AAEA,cAAI5G,EAAE,GAAG,KAAK/I,OAAL,CAAagJ,YAAtB;AACA,iBAAOX,SAAS,CAAEU,EAAF,CAAhB,CAdyB,CAcD;;AACxB,iBAAO,KAAK/I,OAAL,CAAagJ,YAApB,CAfyB,CAgBzB;;AACA,cAAKd,MAAL,EAAc;AACZA,kBAAM,CAACsI,UAAP,CAAmB,KAAKxQ,OAAxB,EAAiC,KAAK0I,WAAL,CAAiBC,SAAlD;AACD;AAEF,SArBD,CA7wBuE,CAoyBvE;;AAEA;;;;;;;AAKAL,gBAAQ,CAACmI,IAAT,GAAgB,UAAUhN,IAAV,EAAiB;AAC/BA,cAAI,GAAGsE,KAAK,CAACS,eAAN,CAAuB/E,IAAvB,CAAP;AACA,cAAIsF,EAAE,GAAGtF,IAAI,IAAIA,IAAI,CAACuF,YAAtB;AACA,iBAAOD,EAAE,IAAIV,SAAS,CAAEU,EAAF,CAAtB;AACD,SAJD,CA3yBuE,CAkzBvE;;AAEA;;;;;;AAIAT,gBAAQ,CAAClF,MAAT,GAAkB,UAAUuF,SAAV,EAAqBzJ,OAArB,EAA+B;AAC/C;AACA,cAAIwR,MAAM,GAAGC,QAAQ,CAAErI,QAAF,CAArB,CAF+C,CAG/C;;AACAoI,gBAAM,CAAC7H,QAAP,GAAkBd,KAAK,CAAC1J,MAAN,CAAc,EAAd,EAAkBiK,QAAQ,CAACO,QAA3B,CAAlB;AACAd,eAAK,CAAC1J,MAAN,CAAcqS,MAAM,CAAC7H,QAArB,EAA+B3J,OAA/B;AACAwR,gBAAM,CAAC5G,aAAP,GAAuB/B,KAAK,CAAC1J,MAAN,CAAc,EAAd,EAAkBiK,QAAQ,CAACwB,aAA3B,CAAvB;AAEA4G,gBAAM,CAAC/H,SAAP,GAAmBA,SAAnB;AAEA+H,gBAAM,CAACD,IAAP,GAAcnI,QAAQ,CAACmI,IAAvB,CAV+C,CAY/C;;AACAC,gBAAM,CAAC1I,IAAP,GAAc2I,QAAQ,CAAE3I,IAAF,CAAtB,CAb+C,CAe/C;;AAEAD,eAAK,CAAC6I,QAAN,CAAgBF,MAAhB,EAAwB/H,SAAxB,EAjB+C,CAmB/C;AAEA;;AACA,cAAKT,MAAM,IAAIA,MAAM,CAAC2I,OAAtB,EAAgC;AAC9B3I,kBAAM,CAAC2I,OAAP,CAAgBlI,SAAhB,EAA2B+H,MAA3B;AACD;;AAED,iBAAOA,MAAP;AACD,SA3BD;;AA6BA,iBAASC,QAAT,CAAmBG,MAAnB,EAA4B;AAC1B,mBAASC,QAAT,GAAoB;AAClBD,kBAAM,CAAC5V,KAAP,CAAc,IAAd,EAAoB8V,SAApB;AACD;;AAEDD,kBAAQ,CAACnX,SAAT,GAAqBgO,MAAM,CAACxE,MAAP,CAAe0N,MAAM,CAAClX,SAAtB,CAArB;AACAmX,kBAAQ,CAACnX,SAAT,CAAmB8O,WAAnB,GAAiCqI,QAAjC;AAEA,iBAAOA,QAAP;AACD,SA91BsE,CAg2BvE;AAEA;;;AACA,YAAIE,OAAO,GAAG;AACZC,YAAE,EAAE,CADQ;AAEZC,WAAC,EAAE;AAFS,SAAd,CAn2BuE,CAw2BvE;AACA;;AACA,iBAAS9E,eAAT,CAA0B+E,IAA1B,EAAiC;AAC/B,cAAK,OAAOA,IAAP,IAAe,QAApB,EAA+B;AAC7B,mBAAOA,IAAP;AACD;;AACD,cAAIC,OAAO,GAAGD,IAAI,CAACE,KAAL,CAAY,mBAAZ,CAAd;AACA,cAAIC,GAAG,GAAGF,OAAO,IAAIA,OAAO,CAAC,CAAD,CAA5B;AACA,cAAIG,IAAI,GAAGH,OAAO,IAAIA,OAAO,CAAC,CAAD,CAA7B;;AACA,cAAK,CAACE,GAAG,CAAC7W,MAAV,EAAmB;AACjB,mBAAO,CAAP;AACD;;AACD6W,aAAG,GAAGE,UAAU,CAAEF,GAAF,CAAhB;AACA,cAAIG,IAAI,GAAGT,OAAO,CAAEO,IAAF,CAAP,IAAmB,CAA9B;AACA,iBAAOD,GAAG,GAAGG,IAAb;AACD,SAv3BsE,CAy3BvE;AAEA;;;AACApJ,gBAAQ,CAACN,IAAT,GAAgBA,IAAhB;AAEA,eAAOM,QAAP;AAEC,OAp6BC,CAAF;;;;;;;;;;;;;;;ACNA;AAAA;;;;;AAIE,iBAAU7O,MAAV,EAAkBD,OAAlB,EAA4B;AAC5B;;AACA;;AAA2B;AAC3B,YAAK,IAAL,EAAiD;AAC/C;AACA,2CAAQ,CACJ;AAAA;AAAA,iBADI,EAEJ;AAAA;AAAA,iBAFI,CAAR,EAGG,iCACDA,OAJF,EAIS,mMAJT,EAIS,+FAJT;AAMD,SARD,MAQO,CAaN;AAEF,OA1BC,EA0BCC,MA1BD,EA0BS,SAASD,OAAT,CAAkBE,SAAlB,EAA6BoO,OAA7B,EAAuC;AAClD,qBADkD,CAGlD;;AAEA,iBAAS6J,UAAT,CAAqBzF,GAArB,EAA2B;AACzB,eAAM,IAAI0F,IAAV,IAAkB1F,GAAlB,EAAwB;AACtB,mBAAO,KAAP;AACD;;AACD0F,cAAI,GAAG,IAAP;AACA,iBAAO,IAAP;AACD,SAXiD,CAalD;;;AAGA,YAAIC,YAAY,GAAG9V,QAAQ,CAACC,eAAT,CAAyB0E,KAA5C;AAEA,YAAIoR,kBAAkB,GAAG,OAAOD,YAAY,CAAC1N,UAApB,IAAkC,QAAlC,GACvB,YADuB,GACR,kBADjB;AAEA,YAAI4N,iBAAiB,GAAG,OAAOF,YAAY,CAACzN,SAApB,IAAiC,QAAjC,GACtB,WADsB,GACR,iBADhB;AAGA,YAAI4N,kBAAkB,GAAG;AACvBC,0BAAgB,EAAE,qBADK;AAEvB9N,oBAAU,EAAE;AAFW,UAGtB2N,kBAHsB,CAAzB,CAvBkD,CA4BlD;;AACA,YAAII,gBAAgB,GAAG;AACrB9N,mBAAS,EAAE2N,iBADU;AAErB5N,oBAAU,EAAE2N,kBAFS;AAGrB5N,4BAAkB,EAAE4N,kBAAkB,GAAG,UAHpB;AAIrBA,4BAAkB,EAAEA,kBAAkB,GAAG,UAJpB;AAKrBK,yBAAe,EAAEL,kBAAkB,GAAG;AALjB,SAAvB,CA7BkD,CAqClD;;AAEA,iBAAS9J,IAAT,CAAehI,OAAf,EAAwBE,MAAxB,EAAiC;AAC/B,cAAK,CAACF,OAAN,EAAgB;AACd;AACD;;AAED,eAAKA,OAAL,GAAeA,OAAf,CAL+B,CAM/B;;AACA,eAAKE,MAAL,GAAcA,MAAd;AACA,eAAKmJ,QAAL,GAAgB;AACd0C,aAAC,EAAE,CADW;AAEdC,aAAC,EAAE;AAFW,WAAhB;;AAKA,eAAK/C,OAAL;AACD,SArDiD,CAuDlD;;;AACA,YAAItP,KAAK,GAAGqO,IAAI,CAACpO,SAAL,GAAiBgO,MAAM,CAACxE,MAAP,CAAe1J,SAAS,CAACE,SAAzB,CAA7B;AACAD,aAAK,CAAC+O,WAAN,GAAoBV,IAApB;;AAEArO,aAAK,CAACsP,OAAN,GAAgB,YAAW;AACzB;AACA,eAAKmJ,OAAL,GAAe;AACbC,yBAAa,EAAE,EADF;AAEbC,iBAAK,EAAE,EAFM;AAGbC,iBAAK,EAAE;AAHM,WAAf;AAMA,eAAKC,GAAL,CAAS;AACPnJ,oBAAQ,EAAE;AADH,WAAT;AAGD,SAXD,CA3DkD,CAwElD;;;AACA1P,aAAK,CAAC8V,WAAN,GAAoB,UAAU3B,KAAV,EAAkB;AACpC,cAAI2E,MAAM,GAAG,OAAO3E,KAAK,CAACrJ,IAA1B;;AACA,cAAK,KAAMgO,MAAN,CAAL,EAAsB;AACpB,iBAAMA,MAAN,EAAgB3E,KAAhB;AACD;AACF,SALD;;AAOAnU,aAAK,CAACmO,OAAN,GAAgB,YAAW;AACzB,eAAKkD,IAAL,GAAYlD,OAAO,CAAE,KAAK9H,OAAP,CAAnB;AACD,SAFD;AAIA;;;;;;AAIArG,aAAK,CAAC6Y,GAAN,GAAY,UAAU9R,KAAV,EAAkB;AAC5B,cAAIgS,SAAS,GAAG,KAAK1S,OAAL,CAAaU,KAA7B;;AAEA,eAAM,IAAIkR,IAAV,IAAkBlR,KAAlB,EAA0B;AACxB;AACA,gBAAIiS,aAAa,GAAGT,gBAAgB,CAAEN,IAAF,CAAhB,IAA4BA,IAAhD;AACAc,qBAAS,CAAEC,aAAF,CAAT,GAA6BjS,KAAK,CAAEkR,IAAF,CAAlC;AACD;AACF,SARD,CAxFkD,CAkGjD;;;AACDjY,aAAK,CAACiZ,WAAN,GAAoB,YAAW;AAC7B,cAAIlS,KAAK,GAAGmS,gBAAgB,CAAE,KAAK7S,OAAP,CAA5B;;AACA,cAAI8S,YAAY,GAAG,KAAK5S,MAAL,CAAYiJ,UAAZ,CAAuB,YAAvB,CAAnB;;AACA,cAAI4J,WAAW,GAAG,KAAK7S,MAAL,CAAYiJ,UAAZ,CAAuB,WAAvB,CAAlB;;AACA,cAAI6J,MAAM,GAAGtS,KAAK,CAAEoS,YAAY,GAAG,MAAH,GAAY,OAA1B,CAAlB;AACA,cAAIG,MAAM,GAAGvS,KAAK,CAAEqS,WAAW,GAAG,KAAH,GAAW,QAAxB,CAAlB;AACA,cAAIhH,CAAC,GAAG0F,UAAU,CAAEuB,MAAF,CAAlB;AACA,cAAIhH,CAAC,GAAGyF,UAAU,CAAEwB,MAAF,CAAlB,CAP6B,CAQ7B;;AACA,cAAIC,UAAU,GAAG,KAAKhT,MAAL,CAAY8K,IAA7B;;AACA,cAAKgI,MAAM,CAAC7Y,OAAP,CAAe,GAAf,KAAuB,CAAC,CAA7B,EAAiC;AAC/B4R,aAAC,GAAKA,CAAC,GAAG,GAAN,GAAcmH,UAAU,CAACvG,KAA7B;AACD;;AACD,cAAKsG,MAAM,CAAC9Y,OAAP,CAAe,GAAf,KAAuB,CAAC,CAA7B,EAAiC;AAC/B6R,aAAC,GAAKA,CAAC,GAAG,GAAN,GAAckH,UAAU,CAACtG,MAA7B;AACD,WAf4B,CAgB7B;;;AACAb,WAAC,GAAGtO,KAAK,CAAEsO,CAAF,CAAL,GAAa,CAAb,GAAiBA,CAArB;AACAC,WAAC,GAAGvO,KAAK,CAAEuO,CAAF,CAAL,GAAa,CAAb,GAAiBA,CAArB,CAlB6B,CAmB7B;;AACAD,WAAC,IAAI+G,YAAY,GAAGI,UAAU,CAACjG,WAAd,GAA4BiG,UAAU,CAAChG,YAAxD;AACAlB,WAAC,IAAI+G,WAAW,GAAGG,UAAU,CAAC5F,UAAd,GAA2B4F,UAAU,CAAC7F,aAAtD;AAEA,eAAKhE,QAAL,CAAc0C,CAAd,GAAkBA,CAAlB;AACA,eAAK1C,QAAL,CAAc2C,CAAd,GAAkBA,CAAlB;AACD,SAzBD,CAnGkD,CA8HlD;;;AACArS,aAAK,CAACwZ,cAAN,GAAuB,YAAW;AAChC,cAAID,UAAU,GAAG,KAAKhT,MAAL,CAAY8K,IAA7B;AACA,cAAItK,KAAK,GAAG,EAAZ;;AACA,cAAIoS,YAAY,GAAG,KAAK5S,MAAL,CAAYiJ,UAAZ,CAAuB,YAAvB,CAAnB;;AACA,cAAI4J,WAAW,GAAG,KAAK7S,MAAL,CAAYiJ,UAAZ,CAAuB,WAAvB,CAAlB,CAJgC,CAMhC;;;AACA,cAAIiK,QAAQ,GAAGN,YAAY,GAAG,aAAH,GAAmB,cAA9C;AACA,cAAIO,SAAS,GAAGP,YAAY,GAAG,MAAH,GAAY,OAAxC;AACA,cAAIQ,cAAc,GAAGR,YAAY,GAAG,OAAH,GAAa,MAA9C;AAEA,cAAI/G,CAAC,GAAG,KAAK1C,QAAL,CAAc0C,CAAd,GAAkBmH,UAAU,CAAEE,QAAF,CAApC,CAXgC,CAYhC;;AACA1S,eAAK,CAAE2S,SAAF,CAAL,GAAqB,KAAKE,SAAL,CAAgBxH,CAAhB,CAArB,CAbgC,CAchC;;AACArL,eAAK,CAAE4S,cAAF,CAAL,GAA0B,EAA1B,CAfgC,CAiBhC;;AACA,cAAIE,QAAQ,GAAGT,WAAW,GAAG,YAAH,GAAkB,eAA5C;AACA,cAAIU,SAAS,GAAGV,WAAW,GAAG,KAAH,GAAW,QAAtC;AACA,cAAIW,cAAc,GAAGX,WAAW,GAAG,QAAH,GAAc,KAA9C;AAEA,cAAI/G,CAAC,GAAG,KAAK3C,QAAL,CAAc2C,CAAd,GAAkBkH,UAAU,CAAEM,QAAF,CAApC,CAtBgC,CAuBhC;;AACA9S,eAAK,CAAE+S,SAAF,CAAL,GAAqB,KAAKE,SAAL,CAAgB3H,CAAhB,CAArB,CAxBgC,CAyBhC;;AACAtL,eAAK,CAAEgT,cAAF,CAAL,GAA0B,EAA1B;AAEA,eAAKlB,GAAL,CAAU9R,KAAV;AACA,eAAK7F,SAAL,CAAgB,QAAhB,EAA0B,CAAE,IAAF,CAA1B;AACD,SA9BD;;AAgCAlB,aAAK,CAAC4Z,SAAN,GAAkB,UAAUxH,CAAV,EAAc;AAC9B,cAAI6H,YAAY,GAAG,KAAK1T,MAAL,CAAYiJ,UAAZ,CAAuB,YAAvB,CAAnB;;AACA,iBAAO,KAAKjJ,MAAL,CAAYhB,OAAZ,CAAoB2U,eAApB,IAAuC,CAACD,YAAxC,GACD7H,CAAC,GAAG,KAAK7L,MAAL,CAAY8K,IAAZ,CAAiB2B,KAAvB,GAAiC,GAAnC,GAA2C,GADtC,GAC4CZ,CAAC,GAAG,IADvD;AAED,SAJD;;AAMApS,aAAK,CAACga,SAAN,GAAkB,UAAU3H,CAAV,EAAc;AAC9B,cAAI4H,YAAY,GAAG,KAAK1T,MAAL,CAAYiJ,UAAZ,CAAuB,YAAvB,CAAnB;;AACA,iBAAO,KAAKjJ,MAAL,CAAYhB,OAAZ,CAAoB2U,eAApB,IAAuCD,YAAvC,GACD5H,CAAC,GAAG,KAAK9L,MAAL,CAAY8K,IAAZ,CAAiB4B,MAAvB,GAAkC,GAApC,GAA4C,GADvC,GAC6CZ,CAAC,GAAG,IADxD;AAED,SAJD;;AAMArS,aAAK,CAACma,aAAN,GAAsB,UAAU/H,CAAV,EAAaC,CAAb,EAAiB;AACrC,eAAK4G,WAAL,GADqC,CAErC;;AACA,cAAImB,IAAI,GAAG,KAAK1K,QAAL,CAAc0C,CAAzB;AACA,cAAIiI,IAAI,GAAG,KAAK3K,QAAL,CAAc2C,CAAzB;AAEA,cAAIiI,UAAU,GAAGlI,CAAC,IAAI,KAAK1C,QAAL,CAAc0C,CAAnB,IAAwBC,CAAC,IAAI,KAAK3C,QAAL,CAAc2C,CAA5D,CANqC,CAQrC;;AACA,eAAKkI,WAAL,CAAkBnI,CAAlB,EAAqBC,CAArB,EATqC,CAWrC;;AACA,cAAKiI,UAAU,IAAI,CAAC,KAAKE,eAAzB,EAA2C;AACzC,iBAAKhB,cAAL;AACA;AACD;;AAED,cAAIiB,MAAM,GAAGrI,CAAC,GAAGgI,IAAjB;AACA,cAAIM,MAAM,GAAGrI,CAAC,GAAGgI,IAAjB;AACA,cAAIM,eAAe,GAAG,EAAtB;AACAA,yBAAe,CAAClQ,SAAhB,GAA4B,KAAKmQ,YAAL,CAAmBH,MAAnB,EAA2BC,MAA3B,CAA5B;AAEA,eAAKlQ,UAAL,CAAgB;AACdqQ,cAAE,EAAEF,eADU;AAEdG,2BAAe,EAAE;AACfrQ,uBAAS,EAAE,KAAK+O;AADD,aAFH;AAKduB,sBAAU,EAAE;AALE,WAAhB;AAOD,SA7BD;;AA+BA/a,aAAK,CAAC4a,YAAN,GAAqB,UAAUxI,CAAV,EAAaC,CAAb,EAAiB;AACpC;AACA,cAAI8G,YAAY,GAAG,KAAK5S,MAAL,CAAYiJ,UAAZ,CAAuB,YAAvB,CAAnB;;AACA,cAAI4J,WAAW,GAAG,KAAK7S,MAAL,CAAYiJ,UAAZ,CAAuB,WAAvB,CAAlB;;AACA4C,WAAC,GAAG+G,YAAY,GAAG/G,CAAH,GAAO,CAACA,CAAxB;AACAC,WAAC,GAAG+G,WAAW,GAAG/G,CAAH,GAAO,CAACA,CAAvB;AACA,iBAAO,iBAAiBD,CAAjB,GAAqB,MAArB,GAA8BC,CAA9B,GAAkC,QAAzC;AACD,SAPD,CA1MkD,CAmNlD;;;AACArS,aAAK,CAAC2S,IAAN,GAAa,UAAUP,CAAV,EAAaC,CAAb,EAAiB;AAC5B,eAAKkI,WAAL,CAAkBnI,CAAlB,EAAqBC,CAArB;AACA,eAAKmH,cAAL;AACD,SAHD;;AAKAxZ,aAAK,CAAC4S,MAAN,GAAe5S,KAAK,CAACma,aAArB;;AAEAna,aAAK,CAACua,WAAN,GAAoB,UAAUnI,CAAV,EAAaC,CAAb,EAAiB;AACnC,eAAK3C,QAAL,CAAc0C,CAAd,GAAkB0F,UAAU,CAAE1F,CAAF,CAA5B;AACA,eAAK1C,QAAL,CAAc2C,CAAd,GAAkByF,UAAU,CAAEzF,CAAF,CAA5B;AACD,SAHD,CA3NkD,CAgOlD;;AAEA;;;;AAKA;;;AACArS,aAAK,CAACgb,cAAN,GAAuB,UAAU7Z,IAAV,EAAiB;AACtC,eAAK0X,GAAL,CAAU1X,IAAI,CAAC0Z,EAAf;;AACA,cAAK1Z,IAAI,CAAC4Z,UAAV,EAAuB;AACrB,iBAAKE,aAAL,CAAoB9Z,IAAI,CAAC0Z,EAAzB;AACD;;AACD,eAAM,IAAI5C,IAAV,IAAkB9W,IAAI,CAAC2Z,eAAvB,EAAyC;AACvC3Z,gBAAI,CAAC2Z,eAAL,CAAsB7C,IAAtB,EAA6B/R,IAA7B,CAAmC,IAAnC;AACD;AACF,SARD;AAUA;;;;;;;;;;AAQAlG,aAAK,CAACwK,UAAN,GAAmB,UAAUrJ,IAAV,EAAiB;AAClC;AACA,cAAK,CAAC2W,UAAU,CAAE,KAAKvR,MAAL,CAAYhB,OAAZ,CAAoBgF,kBAAtB,CAAhB,EAA6D;AAC3D,iBAAKyQ,cAAL,CAAqB7Z,IAArB;;AACA;AACD;;AAED,cAAI+Z,WAAW,GAAG,KAAKzC,OAAvB,CAPkC,CAQlC;;AACA,eAAM,IAAIR,IAAV,IAAkB9W,IAAI,CAAC2Z,eAAvB,EAAyC;AACvCI,uBAAW,CAACtC,KAAZ,CAAmBX,IAAnB,IAA4B9W,IAAI,CAAC2Z,eAAL,CAAsB7C,IAAtB,CAA5B;AACD,WAXiC,CAYlC;;;AACA,eAAMA,IAAN,IAAc9W,IAAI,CAAC0Z,EAAnB,EAAwB;AACtBK,uBAAW,CAACxC,aAAZ,CAA2BT,IAA3B,IAAoC,IAApC,CADsB,CAEtB;;AACA,gBAAK9W,IAAI,CAAC4Z,UAAV,EAAuB;AACrBG,yBAAW,CAACvC,KAAZ,CAAmBV,IAAnB,IAA4B,IAA5B;AACD;AACF,WAnBiC,CAqBlC;;;AACA,cAAK9W,IAAI,CAACga,IAAV,EAAiB;AACf,iBAAKtC,GAAL,CAAU1X,IAAI,CAACga,IAAf,EADe,CAEf;;AACA,gBAAIhX,CAAC,GAAG,KAAKkC,OAAL,CAAahC,YAArB,CAHe,CAIf;;AACAF,aAAC,GAAG,IAAJ;AACD,WA5BiC,CA6BlC;;;AACA,eAAKiX,gBAAL,CAAuBja,IAAI,CAAC0Z,EAA5B,EA9BkC,CA+BlC;;AACA,eAAKhC,GAAL,CAAU1X,IAAI,CAAC0Z,EAAf;AAEA,eAAKL,eAAL,GAAuB,IAAvB;AAED,SApCD,CA1PkD,CAgSlD;AACA;;;AACA,iBAASa,WAAT,CAAsBC,GAAtB,EAA4B;AAC1B,iBAAOA,GAAG,CAACC,OAAJ,CAAa,UAAb,EAAyB,UAAUC,EAAV,EAAe;AAC7C,mBAAO,MAAMA,EAAE,CAACxT,WAAH,EAAb;AACD,WAFM,CAAP;AAGD;;AAED,YAAIyT,eAAe,GAAG,aAAaJ,WAAW,CAAEjD,iBAAF,CAA9C;;AAEApY,aAAK,CAACob,gBAAN,GAAyB,YAAsB;AAC7C;AACA;AACA,cAAK,KAAKZ,eAAV,EAA4B;AAC1B;AACD,WAL4C,CAO7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,cAAIkB,QAAQ,GAAG,KAAKnV,MAAL,CAAYhB,OAAZ,CAAoBgF,kBAAnC;AACAmR,kBAAQ,GAAG,OAAOA,QAAP,IAAmB,QAAnB,GAA8BA,QAAQ,GAAG,IAAzC,GAAgDA,QAA3D,CAlB6C,CAmB7C;;AACA,eAAK7C,GAAL,CAAS;AACPV,8BAAkB,EAAEsD,eADb;AAEPlR,8BAAkB,EAAEmR,QAFb;AAGPlD,2BAAe,EAAE,KAAKmD,YAAL,IAAqB;AAH/B,WAAT,EApB6C,CAyB7C;;AACA,eAAKtV,OAAL,CAAaL,gBAAb,CAA+BqS,kBAA/B,EAAmD,IAAnD,EAAyD,KAAzD;AACD,SA3BD,CA1SkD,CAuUlD;;;AAEArY,aAAK,CAAC4b,qBAAN,GAA8B,UAAUzH,KAAV,EAAkB;AAC9C,eAAK0H,eAAL,CAAsB1H,KAAtB;AACD,SAFD;;AAIAnU,aAAK,CAAC8b,gBAAN,GAAyB,UAAU3H,KAAV,EAAkB;AACzC,eAAK0H,eAAL,CAAsB1H,KAAtB;AACD,SAFD,CA7UkD,CAiVlD;;;AACA,YAAI4H,sBAAsB,GAAG;AAC3B,+BAAqB;AADM,SAA7B;;AAIA/b,aAAK,CAAC6b,eAAN,GAAwB,UAAU1H,KAAV,EAAkB;AACxC;AACA,cAAKA,KAAK,CAAC6H,MAAN,KAAiB,KAAK3V,OAA3B,EAAqC;AACnC;AACD;;AACD,cAAI6U,WAAW,GAAG,KAAKzC,OAAvB,CALwC,CAMxC;;AACA,cAAIwD,YAAY,GAAGF,sBAAsB,CAAE5H,KAAK,CAAC8H,YAAR,CAAtB,IAAgD9H,KAAK,CAAC8H,YAAzE,CAPwC,CASxC;;AACA,iBAAOf,WAAW,CAACxC,aAAZ,CAA2BuD,YAA3B,CAAP,CAVwC,CAWxC;;AACA,cAAKjE,UAAU,CAAEkD,WAAW,CAACxC,aAAd,CAAf,EAA+C;AAC7C;AACA,iBAAKwD,iBAAL;AACD,WAfuC,CAgBxC;;;AACA,cAAKD,YAAY,IAAIf,WAAW,CAACvC,KAAjC,EAAyC;AACvC;AACA,iBAAKtS,OAAL,CAAaU,KAAb,CAAoBoN,KAAK,CAAC8H,YAA1B,IAA2C,EAA3C;AACA,mBAAOf,WAAW,CAACvC,KAAZ,CAAmBsD,YAAnB,CAAP;AACD,WArBuC,CAsBxC;;;AACA,cAAKA,YAAY,IAAIf,WAAW,CAACtC,KAAjC,EAAyC;AACvC,gBAAIkC,eAAe,GAAGI,WAAW,CAACtC,KAAZ,CAAmBqD,YAAnB,CAAtB;AACAnB,2BAAe,CAAC5U,IAAhB,CAAsB,IAAtB;AACA,mBAAOgV,WAAW,CAACtC,KAAZ,CAAmBqD,YAAnB,CAAP;AACD;;AAED,eAAK/a,SAAL,CAAgB,eAAhB,EAAiC,CAAE,IAAF,CAAjC;AACD,SA9BD;;AAgCAlB,aAAK,CAACkc,iBAAN,GAA0B,YAAW;AACnC,eAAKC,sBAAL;AACA,eAAK9V,OAAL,CAAawB,mBAAb,CAAkCwQ,kBAAlC,EAAsD,IAAtD,EAA4D,KAA5D;AACA,eAAKmC,eAAL,GAAuB,KAAvB;AACD,SAJD;AAMA;;;;;;AAIAxa,aAAK,CAACib,aAAN,GAAsB,UAAUlU,KAAV,EAAkB;AACtC;AACA,cAAIqV,UAAU,GAAG,EAAjB;;AACA,eAAM,IAAInE,IAAV,IAAkBlR,KAAlB,EAA0B;AACxBqV,sBAAU,CAAEnE,IAAF,CAAV,GAAqB,EAArB;AACD;;AACD,eAAKY,GAAL,CAAUuD,UAAV;AACD,SAPD;;AASA,YAAIC,oBAAoB,GAAG;AACzBlE,4BAAkB,EAAE,EADK;AAEzB5N,4BAAkB,EAAE,EAFK;AAGzBiO,yBAAe,EAAE;AAHQ,SAA3B;;AAMAxY,aAAK,CAACmc,sBAAN,GAA+B,YAAW;AACxC;AACA,eAAKtD,GAAL,CAAUwD,oBAAV;AACD,SAHD,CA/YkD,CAoZlD;;;AAEArc,aAAK,CAACyS,OAAN,GAAgB,UAAU6J,KAAV,EAAkB;AAChCA,eAAK,GAAGxY,KAAK,CAAEwY,KAAF,CAAL,GAAiB,CAAjB,GAAqBA,KAA7B;AACA,eAAKX,YAAL,GAAoBW,KAAK,GAAG,IAA5B;AACD,SAHD,CAtZkD,CA2ZlD;AAEA;;;AACAtc,aAAK,CAACuc,UAAN,GAAmB,YAAW;AAC5B,eAAKlW,OAAL,CAAamW,UAAb,CAAwBnU,WAAxB,CAAqC,KAAKhC,OAA1C,EAD4B,CAE5B;;AACA,eAAKwS,GAAL,CAAS;AAAE4D,mBAAO,EAAE;AAAX,WAAT;AACA,eAAKvb,SAAL,CAAgB,QAAhB,EAA0B,CAAE,IAAF,CAA1B;AACD,SALD;;AAOAlB,aAAK,CAACsG,MAAN,GAAe,YAAW;AACxB;AACA,cAAK,CAAC6R,kBAAD,IAAuB,CAACL,UAAU,CAAE,KAAKvR,MAAL,CAAYhB,OAAZ,CAAoBgF,kBAAtB,CAAvC,EAAoF;AAClF,iBAAKgS,UAAL;AACA;AACD,WALuB,CAOxB;;;AACA,eAAK7b,IAAL,CAAW,eAAX,EAA4B,YAAW;AACrC,iBAAK6b,UAAL;AACD,WAFD;AAGA,eAAK/F,IAAL;AACD,SAZD;;AAcAxW,aAAK,CAACsW,MAAN,GAAe,YAAW;AACxB,iBAAO,KAAKoG,QAAZ,CADwB,CAExB;;AACA,eAAK7D,GAAL,CAAS;AAAE4D,mBAAO,EAAE;AAAX,WAAT;AAEA,cAAIlX,OAAO,GAAG,KAAKgB,MAAL,CAAYhB,OAA1B;AAEA,cAAIuV,eAAe,GAAG,EAAtB;AACA,cAAI6B,qBAAqB,GAAG,KAAKC,kCAAL,CAAwC,cAAxC,CAA5B;AACA9B,yBAAe,CAAE6B,qBAAF,CAAf,GAA2C,KAAKE,qBAAhD;AAEA,eAAKrS,UAAL,CAAgB;AACd2Q,gBAAI,EAAE5V,OAAO,CAACwK,WADA;AAEd8K,cAAE,EAAEtV,OAAO,CAACyK,YAFE;AAGd+K,sBAAU,EAAE,IAHE;AAIdD,2BAAe,EAAEA;AAJH,WAAhB;AAMD,SAjBD;;AAmBA9a,aAAK,CAAC6c,qBAAN,GAA8B,YAAW;AACvC;AACA;AACA,cAAK,CAAC,KAAKH,QAAX,EAAsB;AACpB,iBAAKxb,SAAL,CAAe,QAAf;AACD;AACF,SAND;AAQA;;;;;;;AAKAlB,aAAK,CAAC4c,kCAAN,GAA2C,UAAUE,aAAV,EAA0B;AACnE,cAAIC,WAAW,GAAG,KAAKxW,MAAL,CAAYhB,OAAZ,CAAqBuX,aAArB,CAAlB,CADmE,CAEnE;;AACA,cAAKC,WAAW,CAACrS,OAAjB,EAA2B;AACzB,mBAAO,SAAP;AACD,WALkE,CAMnE;;;AACA,eAAM,IAAIuN,IAAV,IAAkB8E,WAAlB,EAAgC;AAC9B,mBAAO9E,IAAP;AACD;AACF,SAVD;;AAYAjY,aAAK,CAACwW,IAAN,GAAa,YAAW;AACtB;AACA,eAAKkG,QAAL,GAAgB,IAAhB,CAFsB,CAGtB;;AACA,eAAK7D,GAAL,CAAS;AAAE4D,mBAAO,EAAE;AAAX,WAAT;AAEA,cAAIlX,OAAO,GAAG,KAAKgB,MAAL,CAAYhB,OAA1B;AAEA,cAAIuV,eAAe,GAAG,EAAtB;AACA,cAAI6B,qBAAqB,GAAG,KAAKC,kCAAL,CAAwC,aAAxC,CAA5B;AACA9B,yBAAe,CAAE6B,qBAAF,CAAf,GAA2C,KAAKK,mBAAhD;AAEA,eAAKxS,UAAL,CAAgB;AACd2Q,gBAAI,EAAE5V,OAAO,CAACyK,YADA;AAEd6K,cAAE,EAAEtV,OAAO,CAACwK,WAFE;AAGd;AACAgL,sBAAU,EAAE,IAJE;AAKdD,2BAAe,EAAEA;AALH,WAAhB;AAOD,SAnBD;;AAqBA9a,aAAK,CAACgd,mBAAN,GAA4B,YAAW;AACrC;AACA;AACA,cAAK,KAAKN,QAAV,EAAqB;AACnB,iBAAK7D,GAAL,CAAS;AAAE4D,qBAAO,EAAE;AAAX,aAAT;AACA,iBAAKvb,SAAL,CAAe,MAAf;AACD;AACF,SAPD;;AASAlB,aAAK,CAAC8L,OAAN,GAAgB,YAAW;AACzB,eAAK+M,GAAL,CAAS;AACPnJ,oBAAQ,EAAE,EADH;AAEPzL,gBAAI,EAAE,EAFC;AAGPqR,iBAAK,EAAE,EAHA;AAIPtR,eAAG,EAAE,EAJE;AAKPuR,kBAAM,EAAE,EALD;AAMP/K,sBAAU,EAAE,EANL;AAOPC,qBAAS,EAAE;AAPJ,WAAT;AASD,SAVD;;AAYA,eAAO4D,IAAP;AAEC,OAriBC,CAAF;;;;;;;;;;;;;;;ACJA;AAAA;;;;;;AAMA;;AACA;;;AAEA,OAAE,UAAUvO,MAAV,EAAkBD,OAAlB,EAA4B;AAC5B;;AAA2B;AAC3B,YAAK,IAAL,EAAiD;AAC/C;AACA,6CAAQA,OAAR,EAAe,0MAAf,EAAe,+FAAf;AACD,SAHD,MAGO,CAMN;AAEF,OAbD,EAaIC,MAbJ,EAaY,SAASD,OAAT,GAAmB;AAC/B,qBAD+B,CAG/B;AAEA;;AACA,iBAASod,YAAT,CAAuB5T,KAAvB,EAA+B;AAC7B,cAAIuO,GAAG,GAAGE,UAAU,CAAEzO,KAAF,CAApB,CAD6B,CAE7B;;AACA,cAAI6T,OAAO,GAAG7T,KAAK,CAAC7I,OAAN,CAAc,GAAd,KAAsB,CAAC,CAAvB,IAA4B,CAACsD,KAAK,CAAE8T,GAAF,CAAhD;AACA,iBAAOsF,OAAO,IAAItF,GAAlB;AACD;;AAED,iBAASpJ,IAAT,GAAgB,CAAE;;AAElB,YAAI2O,QAAQ,GAAG,OAAO7O,OAAP,IAAkB,WAAlB,GAAgCE,IAAhC,GACb,UAAU4O,OAAV,EAAoB;AAClB9O,iBAAO,CAACQ,KAAR,CAAesO,OAAf;AACD,SAHH,CAf+B,CAoB/B;;AAEA,YAAIC,YAAY,GAAG,CACjB,aADiB,EAEjB,cAFiB,EAGjB,YAHiB,EAIjB,eAJiB,EAKjB,YALiB,EAMjB,aANiB,EAOjB,WAPiB,EAQjB,cARiB,EASjB,iBATiB,EAUjB,kBAViB,EAWjB,gBAXiB,EAYjB,mBAZiB,CAAnB;AAeA,YAAIC,kBAAkB,GAAGD,YAAY,CAACtc,MAAtC;;AAEA,iBAASwc,WAAT,GAAuB;AACrB,cAAIlM,IAAI,GAAG;AACT2B,iBAAK,EAAE,CADE;AAETC,kBAAM,EAAE,CAFC;AAGToD,sBAAU,EAAE,CAHH;AAITmH,uBAAW,EAAE,CAJJ;AAKTC,sBAAU,EAAE,CALH;AAMTC,uBAAW,EAAE;AANJ,WAAX;;AAQA,eAAM,IAAIrc,CAAC,GAAC,CAAZ,EAAeA,CAAC,GAAGic,kBAAnB,EAAuCjc,CAAC,EAAxC,EAA6C;AAC3C,gBAAIkQ,WAAW,GAAG8L,YAAY,CAAChc,CAAD,CAA9B;AACAgQ,gBAAI,CAAEE,WAAF,CAAJ,GAAsB,CAAtB;AACD;;AACD,iBAAOF,IAAP;AACD,SArD8B,CAuD/B;;AAEA;;;;;;AAIA,iBAASsM,QAAT,CAAmB7T,IAAnB,EAA0B;AACxB,cAAI/C,KAAK,GAAGmS,gBAAgB,CAAEpP,IAAF,CAA5B;;AACA,cAAK,CAAC/C,KAAN,EAAc;AACZoW,oBAAQ,CAAE,oBAAoBpW,KAApB,GACR,6DADQ,GAER,gCAFM,CAAR;AAGD;;AACD,iBAAOA,KAAP;AACD,SArE8B,CAuE/B;;;AAEA,YAAI6W,OAAO,GAAG,KAAd;AAEA,YAAIC,cAAJ;AAEA;;;;;;AAKA,iBAASC,KAAT,GAAiB;AACf;AACA,cAAKF,OAAL,EAAe;AACb;AACD;;AACDA,iBAAO,GAAG,IAAV,CALe,CAOf;;AAEA;;;;;AAIA,cAAIG,GAAG,GAAG3b,QAAQ,CAAC4b,aAAT,CAAuB,KAAvB,CAAV;AACAD,aAAG,CAAChX,KAAJ,CAAUiM,KAAV,GAAkB,OAAlB;AACA+K,aAAG,CAAChX,KAAJ,CAAUkX,OAAV,GAAoB,iBAApB;AACAF,aAAG,CAAChX,KAAJ,CAAUmX,WAAV,GAAwB,OAAxB;AACAH,aAAG,CAAChX,KAAJ,CAAUoX,WAAV,GAAwB,iBAAxB;AACAJ,aAAG,CAAChX,KAAJ,CAAUqX,SAAV,GAAsB,YAAtB;AAEA,cAAIC,IAAI,GAAGjc,QAAQ,CAACic,IAAT,IAAiBjc,QAAQ,CAACC,eAArC;AACAgc,cAAI,CAAC7V,WAAL,CAAkBuV,GAAlB;AACA,cAAIhX,KAAK,GAAG4W,QAAQ,CAAEI,GAAF,CAApB,CAtBe,CAuBf;;AACAF,wBAAc,GAAGzW,IAAI,CAACkX,KAAL,CAAYrB,YAAY,CAAElW,KAAK,CAACiM,KAAR,CAAxB,KAA6C,GAA9D;AACA7E,iBAAO,CAAC0P,cAAR,GAAyBA,cAAzB;AAEAQ,cAAI,CAAChW,WAAL,CAAkB0V,GAAlB;AACD,SA9G8B,CAgH/B;;;AAEA,iBAAS5P,OAAT,CAAkBrE,IAAlB,EAAyB;AACvBgU,eAAK,GADkB,CAGvB;;AACA,cAAK,OAAOhU,IAAP,IAAe,QAApB,EAA+B;AAC7BA,gBAAI,GAAG1H,QAAQ,CAACoP,aAAT,CAAwB1H,IAAxB,CAAP;AACD,WANsB,CAQvB;;;AACA,cAAK,CAACA,IAAD,IAAS,OAAOA,IAAP,IAAe,QAAxB,IAAoC,CAACA,IAAI,CAACyU,QAA/C,EAA0D;AACxD;AACD;;AAED,cAAIxX,KAAK,GAAG4W,QAAQ,CAAE7T,IAAF,CAApB,CAbuB,CAevB;;AACA,cAAK/C,KAAK,CAAC0V,OAAN,IAAiB,MAAtB,EAA+B;AAC7B,mBAAOc,WAAW,EAAlB;AACD;;AAED,cAAIlM,IAAI,GAAG,EAAX;AACAA,cAAI,CAAC2B,KAAL,GAAalJ,IAAI,CAAC0U,WAAlB;AACAnN,cAAI,CAAC4B,MAAL,GAAcnJ,IAAI,CAACzF,YAAnB;AAEA,cAAIgP,WAAW,GAAGhC,IAAI,CAACgC,WAAL,GAAmBtM,KAAK,CAACqX,SAAN,IAAmB,YAAxD,CAxBuB,CA0BvB;;AACA,eAAM,IAAI/c,CAAC,GAAC,CAAZ,EAAeA,CAAC,GAAGic,kBAAnB,EAAuCjc,CAAC,EAAxC,EAA6C;AAC3C,gBAAIkQ,WAAW,GAAG8L,YAAY,CAAChc,CAAD,CAA9B;AACA,gBAAIgI,KAAK,GAAGtC,KAAK,CAAEwK,WAAF,CAAjB;AACA,gBAAIqG,GAAG,GAAGE,UAAU,CAAEzO,KAAF,CAApB,CAH2C,CAI3C;;AACAgI,gBAAI,CAAEE,WAAF,CAAJ,GAAsB,CAACzN,KAAK,CAAE8T,GAAF,CAAN,GAAgBA,GAAhB,GAAsB,CAA5C;AACD;;AAED,cAAI6G,YAAY,GAAGpN,IAAI,CAACiC,WAAL,GAAmBjC,IAAI,CAACkC,YAA3C;AACA,cAAImL,aAAa,GAAGrN,IAAI,CAACsC,UAAL,GAAkBtC,IAAI,CAACqC,aAA3C;AACA,cAAIiL,WAAW,GAAGtN,IAAI,CAACsE,UAAL,GAAkBtE,IAAI,CAACwE,WAAzC;AACA,cAAI+I,YAAY,GAAGvN,IAAI,CAACuE,SAAL,GAAiBvE,IAAI,CAACnJ,YAAzC;AACA,cAAIiW,WAAW,GAAG9M,IAAI,CAACmC,eAAL,GAAuBnC,IAAI,CAACoC,gBAA9C;AACA,cAAIoL,YAAY,GAAGxN,IAAI,CAACuC,cAAL,GAAsBvC,IAAI,CAACwC,iBAA9C;AAEA,cAAIiL,oBAAoB,GAAGzL,WAAW,IAAIwK,cAA1C,CA1CuB,CA4CvB;;AACA,cAAIkB,UAAU,GAAG9B,YAAY,CAAElW,KAAK,CAACiM,KAAR,CAA7B;;AACA,cAAK+L,UAAU,KAAK,KAApB,EAA4B;AAC1B1N,gBAAI,CAAC2B,KAAL,GAAa+L,UAAU,KACrB;AACED,gCAAoB,GAAG,CAAH,GAAOL,YAAY,GAAGN,WAFvB,CAAvB;AAGD;;AAED,cAAIa,WAAW,GAAG/B,YAAY,CAAElW,KAAK,CAACkM,MAAR,CAA9B;;AACA,cAAK+L,WAAW,KAAK,KAArB,EAA6B;AAC3B3N,gBAAI,CAAC4B,MAAL,GAAc+L,WAAW,KACvB;AACEF,gCAAoB,GAAG,CAAH,GAAOJ,aAAa,GAAGG,YAFtB,CAAzB;AAGD;;AAEDxN,cAAI,CAACgF,UAAL,GAAkBhF,IAAI,CAAC2B,KAAL,IAAeyL,YAAY,GAAGN,WAA9B,CAAlB;AACA9M,cAAI,CAACmM,WAAL,GAAmBnM,IAAI,CAAC4B,MAAL,IAAgByL,aAAa,GAAGG,YAAhC,CAAnB;AAEAxN,cAAI,CAACoM,UAAL,GAAkBpM,IAAI,CAAC2B,KAAL,GAAa2L,WAA/B;AACAtN,cAAI,CAACqM,WAAL,GAAmBrM,IAAI,CAAC4B,MAAL,GAAc2L,YAAjC;AAEA,iBAAOvN,IAAP;AACD;;AAED,eAAOlD,OAAP;AAEC,OArMD;;;;;;;;;;;;;;;ACTA;AAAA;;;;;AAKA;;;AAEE,iBAAUrO,MAAV,EAAkBD,OAAlB,EAA4B;AAC5B;;AACA;;AAA0B;AAE1B,YAAK,IAAL,EAAiD;AAC/C;AACA,2CAAQ,CACN;AAAA;AAAA,iBADM,CAAR,EAEG,6BAAF,GAAE,UAAUof,eAAV,EAA4B;AAC7B,mBAAOpf,OAAO,CAAEC,MAAF,EAAUmf,eAAV,CAAd;AACD,WAFA,CAEA,KAFA,CAEA,OAFA,EAEA,4BAFA,CAFD,EAIC,+FAJD;AAKD,SAPD,MAOO,CAYN;AAEF,OAzBC,EAyBCnf,MAzBD,EAyBS,SAASD,OAAT,CAAkBC,MAAlB,EAA0Bmf,eAA1B,EAA4C;AAEvD;;AAEA,YAAI7Q,KAAK,GAAG,EAAZ,CAJuD,CAMvD;AAEA;;AACAA,aAAK,CAAC1J,MAAN,GAAe,UAAUC,CAAV,EAAaC,CAAb,EAAiB;AAC9B,eAAM,IAAIqT,IAAV,IAAkBrT,CAAlB,EAAsB;AACpBD,aAAC,CAAEsT,IAAF,CAAD,GAAYrT,CAAC,CAAEqT,IAAF,CAAb;AACD;;AACD,iBAAOtT,CAAP;AACD,SALD,CATuD,CAgBvD;;;AAEAyJ,aAAK,CAAC8Q,MAAN,GAAe,UAAUtH,GAAV,EAAemG,GAAf,EAAqB;AAClC,iBAAO,CAAInG,GAAG,GAAGmG,GAAR,GAAgBA,GAAlB,IAA0BA,GAAjC;AACD,SAFD,CAlBuD,CAsBvD;;;AAEA,YAAIoB,UAAU,GAAGlZ,KAAK,CAAChG,SAAN,CAAgBmB,KAAjC,CAxBuD,CA0BvD;;AACAgN,aAAK,CAAC4G,SAAN,GAAkB,UAAUzC,GAAV,EAAgB;AAChC,cAAKtM,KAAK,CAACmZ,OAAN,CAAe7M,GAAf,CAAL,EAA4B;AAC1B;AACA,mBAAOA,GAAP;AACD,WAJ+B,CAKhC;;;AACA,cAAKA,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAKtH,SAA7B,EAAyC;AACvC,mBAAO,EAAP;AACD;;AAED,cAAIoU,WAAW,GAAG,OAAO9M,GAAP,IAAc,QAAd,IAA0B,OAAOA,GAAG,CAACxR,MAAX,IAAqB,QAAjE;;AACA,cAAKse,WAAL,EAAmB;AACjB;AACA,mBAAOF,UAAU,CAACjZ,IAAX,CAAiBqM,GAAjB,CAAP;AACD,WAd+B,CAgBhC;;;AACA,iBAAO,CAAEA,GAAF,CAAP;AACD,SAlBD,CA3BuD,CA+CvD;;;AAEAnE,aAAK,CAAC0G,UAAN,GAAmB,UAAUwK,GAAV,EAAe/M,GAAf,EAAqB;AACtC,cAAIvR,KAAK,GAAGse,GAAG,CAAC9e,OAAJ,CAAa+R,GAAb,CAAZ;;AACA,cAAKvR,KAAK,IAAI,CAAC,CAAf,EAAmB;AACjBse,eAAG,CAACre,MAAJ,CAAYD,KAAZ,EAAmB,CAAnB;AACD;AACF,SALD,CAjDuD,CAwDvD;;;AAEAoN,aAAK,CAACmR,SAAN,GAAkB,UAAUzV,IAAV,EAAgBqC,QAAhB,EAA2B;AAC3C,iBAAQrC,IAAI,CAAC0S,UAAL,IAAmB1S,IAAI,IAAI1H,QAAQ,CAACic,IAA5C,EAAmD;AACjDvU,gBAAI,GAAGA,IAAI,CAAC0S,UAAZ;;AACA,gBAAKyC,eAAe,CAAEnV,IAAF,EAAQqC,QAAR,CAApB,EAAyC;AACvC,qBAAOrC,IAAP;AACD;AACF;AACF,SAPD,CA1DuD,CAmEvD;AAEA;;;AACAsE,aAAK,CAACS,eAAN,GAAwB,UAAU/E,IAAV,EAAiB;AACvC,cAAK,OAAOA,IAAP,IAAe,QAApB,EAA+B;AAC7B,mBAAO1H,QAAQ,CAACoP,aAAT,CAAwB1H,IAAxB,CAAP;AACD;;AACD,iBAAOA,IAAP;AACD,SALD,CAtEuD,CA6EvD;AAEA;;;AACAsE,aAAK,CAAC0H,WAAN,GAAoB,UAAU3B,KAAV,EAAkB;AACpC,cAAI2E,MAAM,GAAG,OAAO3E,KAAK,CAACrJ,IAA1B;;AACA,cAAK,KAAMgO,MAAN,CAAL,EAAsB;AACpB,iBAAMA,MAAN,EAAgB3E,KAAhB;AACD;AACF,SALD,CAhFuD,CAuFvD;;;AAEA/F,aAAK,CAAC0C,kBAAN,GAA2B,UAAUH,KAAV,EAAiBxE,QAAjB,EAA4B;AACrD;AACAwE,eAAK,GAAGvC,KAAK,CAAC4G,SAAN,CAAiBrE,KAAjB,CAAR;AACA,cAAI6O,OAAO,GAAG,EAAd;AAEA7O,eAAK,CAACvK,OAAN,CAAe,UAAU0D,IAAV,EAAiB;AAC9B;AACA,gBAAK,EAAGA,IAAI,YAAY2H,WAAnB,CAAL,EAAwC;AACtC;AACD,aAJ6B,CAK9B;;;AACA,gBAAK,CAACtF,QAAN,EAAiB;AACfqT,qBAAO,CAAC/e,IAAR,CAAcqJ,IAAd;AACA;AACD,aAT6B,CAU9B;AACA;;;AACA,gBAAKmV,eAAe,CAAEnV,IAAF,EAAQqC,QAAR,CAApB,EAAyC;AACvCqT,qBAAO,CAAC/e,IAAR,CAAcqJ,IAAd;AACD,aAd6B,CAe9B;;;AACA,gBAAI2V,UAAU,GAAG3V,IAAI,CAACiL,gBAAL,CAAuB5I,QAAvB,CAAjB,CAhB8B,CAiB9B;;AACA,iBAAM,IAAI9K,CAAC,GAAC,CAAZ,EAAeA,CAAC,GAAGoe,UAAU,CAAC1e,MAA9B,EAAsCM,CAAC,EAAvC,EAA4C;AAC1Cme,qBAAO,CAAC/e,IAAR,CAAcgf,UAAU,CAACpe,CAAD,CAAxB;AACD;AACF,WArBD;AAuBA,iBAAOme,OAAP;AACD,SA7BD,CAzFuD,CAwHvD;;;AAEApR,aAAK,CAAC8H,cAAN,GAAuB,UAAUwJ,MAAV,EAAkBC,UAAlB,EAA8BC,SAA9B,EAA0C;AAC/DA,mBAAS,GAAGA,SAAS,IAAI,GAAzB,CAD+D,CAE/D;;AACA,cAAI9G,MAAM,GAAG4G,MAAM,CAACzf,SAAP,CAAkB0f,UAAlB,CAAb;AACA,cAAIE,WAAW,GAAGF,UAAU,GAAG,SAA/B;;AAEAD,gBAAM,CAACzf,SAAP,CAAkB0f,UAAlB,IAAiC,YAAW;AAC1C,gBAAIG,OAAO,GAAG,KAAMD,WAAN,CAAd;AACAlY,wBAAY,CAAEmY,OAAF,CAAZ;AAEA,gBAAI3e,IAAI,GAAGkW,SAAX;;AACA,gBAAIvR,KAAK,GAAG,IAAZ;;AACA,iBAAM+Z,WAAN,IAAsBnZ,UAAU,CAAE,YAAW;AAC3CoS,oBAAM,CAACvX,KAAP,CAAcuE,KAAd,EAAqB3E,IAArB;AACA,qBAAO2E,KAAK,CAAE+Z,WAAF,CAAZ;AACD,aAH+B,EAG7BD,SAH6B,CAAhC;AAID,WAVD;AAWD,SAjBD,CA1HuD,CA6IvD;;;AAEAxR,aAAK,CAAC2R,QAAN,GAAiB,UAAUC,QAAV,EAAqB;AACpC,cAAIC,UAAU,GAAG7d,QAAQ,CAAC6d,UAA1B;;AACA,cAAKA,UAAU,IAAI,UAAd,IAA4BA,UAAU,IAAI,aAA/C,EAA+D;AAC7D;AACAvZ,sBAAU,CAAEsZ,QAAF,CAAV;AACD,WAHD,MAGO;AACL5d,oBAAQ,CAAC4D,gBAAT,CAA2B,kBAA3B,EAA+Cga,QAA/C;AACD;AACF,SARD,CA/IuD,CAyJvD;AAEA;;;AACA5R,aAAK,CAAC8R,QAAN,GAAiB,UAAU5E,GAAV,EAAgB;AAC/B,iBAAOA,GAAG,CAACC,OAAJ,CAAa,aAAb,EAA4B,UAAU5D,KAAV,EAAiB6D,EAAjB,EAAqB2E,EAArB,EAA0B;AAC3D,mBAAO3E,EAAE,GAAG,GAAL,GAAW2E,EAAlB;AACD,WAFM,EAEJnY,WAFI,EAAP;AAGD,SAJD;;AAMA,YAAIsG,OAAO,GAAGxO,MAAM,CAACwO,OAArB;AACA;;;;;;AAKAF,aAAK,CAAC6I,QAAN,GAAiB,UAAUmJ,WAAV,EAAuBpR,SAAvB,EAAmC;AAClDZ,eAAK,CAAC2R,QAAN,CAAgB,YAAW;AACzB,gBAAIM,eAAe,GAAGjS,KAAK,CAAC8R,QAAN,CAAgBlR,SAAhB,CAAtB;AACA,gBAAIsR,QAAQ,GAAG,UAAUD,eAAzB;AACA,gBAAIE,aAAa,GAAGne,QAAQ,CAAC2S,gBAAT,CAA2B,MAAMuL,QAAN,GAAiB,GAA5C,CAApB;AACA,gBAAIE,WAAW,GAAGpe,QAAQ,CAAC2S,gBAAT,CAA2B,SAASsL,eAApC,CAAlB;AACA,gBAAI1P,KAAK,GAAGvC,KAAK,CAAC4G,SAAN,CAAiBuL,aAAjB,EACTlM,MADS,CACDjG,KAAK,CAAC4G,SAAN,CAAiBwL,WAAjB,CADC,CAAZ;AAEA,gBAAIC,eAAe,GAAGH,QAAQ,GAAG,UAAjC;AACA,gBAAI/R,MAAM,GAAGzO,MAAM,CAACyO,MAApB;AAEAoC,iBAAK,CAACvK,OAAN,CAAe,UAAU0D,IAAV,EAAiB;AAC9B,kBAAI4W,IAAI,GAAG5W,IAAI,CAACH,YAAL,CAAmB2W,QAAnB,KACTxW,IAAI,CAACH,YAAL,CAAmB8W,eAAnB,CADF;AAEA,kBAAIlb,OAAJ;;AACA,kBAAI;AACFA,uBAAO,GAAGmb,IAAI,IAAIC,IAAI,CAACC,KAAL,CAAYF,IAAZ,CAAlB;AACD,eAFD,CAEE,OAAQ5R,KAAR,EAAgB;AAChB;AACA,oBAAKR,OAAL,EAAe;AACbA,yBAAO,CAACQ,KAAR,CAAe,mBAAmBwR,QAAnB,GAA8B,MAA9B,GAAuCxW,IAAI,CAAC+W,SAA5C,GACf,IADe,GACR/R,KADP;AAED;;AACD;AACD,eAb6B,CAc9B;;;AACA,kBAAIxG,QAAQ,GAAG,IAAI8X,WAAJ,CAAiBtW,IAAjB,EAAuBvE,OAAvB,CAAf,CAf8B,CAgB9B;;AACA,kBAAKgJ,MAAL,EAAc;AACZA,sBAAM,CAACuI,IAAP,CAAahN,IAAb,EAAmBkF,SAAnB,EAA8B1G,QAA9B;AACD;AACF,aApBD;AAsBD,WAhCD;AAiCD,SAlCD,CAxKuD,CA4MvD;;;AAEA,eAAO8F,KAAP;AAEC,OAzOC,CAAF;;;;;;;;;;;;;;;ACPA;AAAA;;;;;;;;;AAQE,iBAAUtO,MAAV,EAAkBD,OAAlB,EAA4B;AAC5B;;AACA;;AAA2B;AAC3B,YAAK,IAAL,EAAiD;AAC/C;AACA,2CAAQ,CACJ;AAAA;AAAA,iBADI,EAEJ;AAAA;AAAA,iBAFI,CAAR,EAGG,iCACDA,OAJF,EAIS,mMAJT,EAIS,+FAJT;AAKD,SAPD,MAOO,CAYN;AAEF,OAxBC,EAwBCC,MAxBD,EAwBS,SAASD,OAAT,CAAkB8O,QAAlB,EAA4BR,OAA5B,EAAsC;AAEjD,qBAFiD,CAIjD;AAEE;;AACA,YAAI3I,OAAO,GAAGmJ,QAAQ,CAAClF,MAAT,CAAgB,SAAhB,CAAd,CAP+C,CAQ/C;;AACAjE,eAAO,CAAC2K,aAAR,CAAsB2Q,QAAtB,GAAiC,YAAjC;AAEA,YAAI9gB,KAAK,GAAGwF,OAAO,CAACvF,SAApB;;AAEAD,aAAK,CAACgR,YAAN,GAAqB,YAAW;AAC9B,eAAK7C,OAAL;;AACA,eAAKmD,eAAL,CAAsB,aAAtB,EAAqC,YAArC;;AACA,eAAKA,eAAL,CAAsB,QAAtB,EAAgC,YAAhC;;AACA,eAAKyP,cAAL,GAJ8B,CAM9B;;AACA,eAAKC,KAAL,GAAa,EAAb;;AACA,eAAM,IAAI3f,CAAC,GAAC,CAAZ,EAAeA,CAAC,GAAG,KAAK4f,IAAxB,EAA8B5f,CAAC,EAA/B,EAAoC;AAClC,iBAAK2f,KAAL,CAAWvgB,IAAX,CAAiB,CAAjB;AACD;;AAED,eAAKygB,IAAL,GAAY,CAAZ;AACA,eAAKC,kBAAL,GAA0B,CAA1B;AACD,SAdD;;AAgBAnhB,aAAK,CAAC+gB,cAAN,GAAuB,YAAW;AAChC,eAAKK,iBAAL,GADgC,CAEhC;;AACA,cAAK,CAAC,KAAKC,WAAX,EAAyB;AACvB,gBAAIC,SAAS,GAAG,KAAKvf,KAAL,CAAW,CAAX,CAAhB;AACA,gBAAIwf,aAAa,GAAGD,SAAS,IAAIA,SAAS,CAACjb,OAA3C,CAFuB,CAGvB;;AACA,iBAAKgb,WAAL,GAAmBE,aAAa,IAAIpT,OAAO,CAAEoT,aAAF,CAAP,CAAyB9D,UAA1C,IACjB;AACA,iBAAK+D,cAFP;AAGD;;AAED,cAAIH,WAAW,GAAG,KAAKA,WAAL,IAAoB,KAAKpZ,MAA3C,CAZgC,CAchC;;AACA,cAAIuZ,cAAc,GAAG,KAAKA,cAAL,GAAsB,KAAKvZ,MAAhD;AACA,cAAIgZ,IAAI,GAAGO,cAAc,GAAGH,WAA5B,CAhBgC,CAiBhC;;AACA,cAAII,MAAM,GAAGJ,WAAW,GAAGG,cAAc,GAAGH,WAA5C,CAlBgC,CAmBhC;;AACA,cAAIK,UAAU,GAAGD,MAAM,IAAIA,MAAM,GAAG,CAAnB,GAAuB,OAAvB,GAAiC,OAAlD;AACAR,cAAI,GAAG7Z,IAAI,CAAEsa,UAAF,CAAJ,CAAoBT,IAApB,CAAP;AACA,eAAKA,IAAL,GAAY7Z,IAAI,CAAC0M,GAAL,CAAUmN,IAAV,EAAgB,CAAhB,CAAZ;AACD,SAvBD;;AAyBAjhB,aAAK,CAACohB,iBAAN,GAA0B,YAAW;AACnC;AACA,cAAIO,UAAU,GAAG,KAAKnS,UAAL,CAAgB,UAAhB,CAAjB;;AACA,cAAIoS,SAAS,GAAGD,UAAU,GAAG,KAAKtb,OAAL,CAAamW,UAAhB,GAA6B,KAAKnW,OAA5D,CAHmC,CAInC;AACA;;AACA,cAAIgL,IAAI,GAAGlD,OAAO,CAAEyT,SAAF,CAAlB;AACA,eAAKJ,cAAL,GAAsBnQ,IAAI,IAAIA,IAAI,CAACgF,UAAnC;AACD,SARD;;AAUArW,aAAK,CAACiS,sBAAN,GAA+B,UAAUpL,IAAV,EAAiB;AAC9CA,cAAI,CAACsH,OAAL,GAD8C,CAE9C;;AACA,cAAI0T,SAAS,GAAGhb,IAAI,CAACwK,IAAL,CAAUoM,UAAV,GAAuB,KAAK4D,WAA5C;AACA,cAAIK,UAAU,GAAGG,SAAS,IAAIA,SAAS,GAAG,CAAzB,GAA6B,OAA7B,GAAuC,MAAxD,CAJ8C,CAK9C;;AACA,cAAIC,OAAO,GAAG1a,IAAI,CAAEsa,UAAF,CAAJ,CAAoB7a,IAAI,CAACwK,IAAL,CAAUoM,UAAV,GAAuB,KAAK4D,WAAhD,CAAd;AACAS,iBAAO,GAAG1a,IAAI,CAAC2a,GAAL,CAAUD,OAAV,EAAmB,KAAKb,IAAxB,CAAV,CAP8C,CAQ9C;;AACA,cAAIe,YAAY,GAAG,KAAKzc,OAAL,CAAa0c,eAAb,GACjB,2BADiB,GACa,oBADhC;AAEA,cAAIC,WAAW,GAAG,KAAMF,YAAN,EAAsBF,OAAtB,EAA+Bjb,IAA/B,CAAlB,CAX8C,CAY9C;;AACA,cAAI6I,QAAQ,GAAG;AACb0C,aAAC,EAAE,KAAKiP,WAAL,GAAmBa,WAAW,CAACC,GADrB;AAEb9P,aAAC,EAAE6P,WAAW,CAAC7P;AAFF,WAAf,CAb8C,CAiB9C;;AACA,cAAI+P,SAAS,GAAGF,WAAW,CAAC7P,CAAZ,GAAgBxL,IAAI,CAACwK,IAAL,CAAUqM,WAA1C;AACA,cAAI2E,MAAM,GAAGP,OAAO,GAAGI,WAAW,CAACC,GAAnC;;AACA,eAAM,IAAI9gB,CAAC,GAAG6gB,WAAW,CAACC,GAA1B,EAA+B9gB,CAAC,GAAGghB,MAAnC,EAA2ChhB,CAAC,EAA5C,EAAiD;AAC/C,iBAAK2f,KAAL,CAAW3f,CAAX,IAAgB+gB,SAAhB;AACD;;AAED,iBAAO1S,QAAP;AACD,SAzBD;;AA2BA1P,aAAK,CAACsiB,kBAAN,GAA2B,UAAUR,OAAV,EAAoB;AAC7C,cAAIS,QAAQ,GAAG,KAAKC,eAAL,CAAsBV,OAAtB,CAAf,CAD6C,CAE7C;;;AACA,cAAIW,QAAQ,GAAGrb,IAAI,CAAC2a,GAAL,CAASxgB,KAAT,CAAgB6F,IAAhB,EAAsBmb,QAAtB,CAAf;AAEA,iBAAO;AACLJ,eAAG,EAAEI,QAAQ,CAAC/hB,OAAT,CAAkBiiB,QAAlB,CADA;AAELpQ,aAAC,EAAEoQ;AAFE,WAAP;AAID,SATD;AAWA;;;;;;AAIAziB,aAAK,CAACwiB,eAAN,GAAwB,UAAUV,OAAV,EAAoB;AAC1C,cAAKA,OAAO,GAAG,CAAf,EAAmB;AACjB;AACA,mBAAO,KAAKd,KAAZ;AACD;;AAED,cAAIuB,QAAQ,GAAG,EAAf,CAN0C,CAO1C;;AACA,cAAIG,UAAU,GAAG,KAAKzB,IAAL,GAAY,CAAZ,GAAgBa,OAAjC,CAR0C,CAS1C;;AACA,eAAM,IAAIzgB,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAGqhB,UAArB,EAAiCrhB,CAAC,EAAlC,EAAuC;AACrCkhB,oBAAQ,CAAClhB,CAAD,CAAR,GAAc,KAAKshB,aAAL,CAAoBthB,CAApB,EAAuBygB,OAAvB,CAAd;AACD;;AACD,iBAAOS,QAAP;AACD,SAdD;;AAgBAviB,aAAK,CAAC2iB,aAAN,GAAsB,UAAUR,GAAV,EAAeL,OAAf,EAAyB;AAC7C,cAAKA,OAAO,GAAG,CAAf,EAAmB;AACjB,mBAAO,KAAKd,KAAL,CAAYmB,GAAZ,CAAP;AACD,WAH4C,CAI7C;;;AACA,cAAIS,UAAU,GAAG,KAAK5B,KAAL,CAAW5f,KAAX,CAAkB+gB,GAAlB,EAAuBA,GAAG,GAAGL,OAA7B,CAAjB,CAL6C,CAM7C;;AACA,iBAAO1a,IAAI,CAAC0M,GAAL,CAASvS,KAAT,CAAgB6F,IAAhB,EAAsBwb,UAAtB,CAAP;AACD,SARD,CA1H+C,CAoI/C;;;AACA5iB,aAAK,CAAC6iB,yBAAN,GAAkC,UAAUf,OAAV,EAAmBjb,IAAnB,EAA0B;AAC1D,cAAIsb,GAAG,GAAG,KAAKhB,kBAAL,GAA0B,KAAKF,IAAzC;AACA,cAAI6B,MAAM,GAAGhB,OAAO,GAAG,CAAV,IAAeK,GAAG,GAAGL,OAAN,GAAgB,KAAKb,IAAjD,CAF0D,CAG1D;;AACAkB,aAAG,GAAGW,MAAM,GAAG,CAAH,GAAOX,GAAnB,CAJ0D,CAK1D;;AACA,cAAIY,OAAO,GAAGlc,IAAI,CAACwK,IAAL,CAAUoM,UAAV,IAAwB5W,IAAI,CAACwK,IAAL,CAAUqM,WAAhD;AACA,eAAKyD,kBAAL,GAA0B4B,OAAO,GAAGZ,GAAG,GAAGL,OAAT,GAAmB,KAAKX,kBAAzD;AAEA,iBAAO;AACLgB,eAAG,EAAEA,GADA;AAEL9P,aAAC,EAAE,KAAKsQ,aAAL,CAAoBR,GAApB,EAAyBL,OAAzB;AAFE,WAAP;AAID,SAbD;;AAeA9hB,aAAK,CAACkV,YAAN,GAAqB,UAAU3E,KAAV,EAAkB;AACrC,cAAIyS,SAAS,GAAG7U,OAAO,CAAEoC,KAAF,CAAvB;;AACA,cAAImF,MAAM,GAAG,KAAKF,iBAAL,CAAwBjF,KAAxB,CAAb,CAFqC,CAGrC;;;AACA,cAAI4I,YAAY,GAAG,KAAK3J,UAAL,CAAgB,YAAhB,CAAnB;;AACA,cAAIyT,MAAM,GAAG9J,YAAY,GAAGzD,MAAM,CAACzR,IAAV,GAAiByR,MAAM,CAACJ,KAAjD;AACA,cAAI4N,KAAK,GAAGD,MAAM,GAAGD,SAAS,CAACvF,UAA/B;AACA,cAAI0F,QAAQ,GAAG/b,IAAI,CAACgc,KAAL,CAAYH,MAAM,GAAG,KAAK5B,WAA1B,CAAf;AACA8B,kBAAQ,GAAG/b,IAAI,CAAC0M,GAAL,CAAU,CAAV,EAAaqP,QAAb,CAAX;AACA,cAAIE,OAAO,GAAGjc,IAAI,CAACgc,KAAL,CAAYF,KAAK,GAAG,KAAK7B,WAAzB,CAAd,CATqC,CAUrC;;AACAgC,iBAAO,IAAIH,KAAK,GAAG,KAAK7B,WAAb,GAA2B,CAA3B,GAA+B,CAA1C;AACAgC,iBAAO,GAAGjc,IAAI,CAAC2a,GAAL,CAAU,KAAKd,IAAL,GAAY,CAAtB,EAAyBoC,OAAzB,CAAV,CAZqC,CAarC;;AAEA,cAAIjK,WAAW,GAAG,KAAK5J,UAAL,CAAgB,WAAhB,CAAlB;;AACA,cAAI8T,SAAS,GAAG,CAAElK,WAAW,GAAG1D,MAAM,CAAC1R,GAAV,GAAgB0R,MAAM,CAACH,MAApC,IACdyN,SAAS,CAACtF,WADZ;;AAEA,eAAM,IAAIrc,CAAC,GAAG8hB,QAAd,EAAwB9hB,CAAC,IAAIgiB,OAA7B,EAAsChiB,CAAC,EAAvC,EAA4C;AAC1C,iBAAK2f,KAAL,CAAW3f,CAAX,IAAgB+F,IAAI,CAAC0M,GAAL,CAAUwP,SAAV,EAAqB,KAAKtC,KAAL,CAAW3f,CAAX,CAArB,CAAhB;AACD;AACF,SArBD;;AAuBArB,aAAK,CAAC8S,iBAAN,GAA0B,YAAW;AACnC,eAAKoO,IAAL,GAAY9Z,IAAI,CAAC0M,GAAL,CAASvS,KAAT,CAAgB6F,IAAhB,EAAsB,KAAK4Z,KAA3B,CAAZ;AACA,cAAI3P,IAAI,GAAG;AACT4B,kBAAM,EAAE,KAAKiO;AADJ,WAAX;;AAIA,cAAK,KAAK1R,UAAL,CAAgB,UAAhB,CAAL,EAAmC;AACjC6B,gBAAI,CAAC2B,KAAL,GAAa,KAAKuQ,qBAAL,EAAb;AACD;;AAED,iBAAOlS,IAAP;AACD,SAXD;;AAaArR,aAAK,CAACujB,qBAAN,GAA8B,YAAW;AACvC,cAAIC,UAAU,GAAG,CAAjB,CADuC,CAEvC;;AACA,cAAIniB,CAAC,GAAG,KAAK4f,IAAb;;AACA,iBAAQ,EAAE5f,CAAV,EAAc;AACZ,gBAAK,KAAK2f,KAAL,CAAW3f,CAAX,MAAkB,CAAvB,EAA2B;AACzB;AACD;;AACDmiB,sBAAU;AACX,WATsC,CAUvC;;;AACA,iBAAO,CAAE,KAAKvC,IAAL,GAAYuC,UAAd,IAA6B,KAAKnC,WAAlC,GAAgD,KAAKpZ,MAA5D;AACD,SAZD;;AAcAjI,aAAK,CAACmW,iBAAN,GAA0B,YAAW;AACnC,cAAIsN,aAAa,GAAG,KAAKjC,cAAzB;AACA,eAAKJ,iBAAL;AACA,iBAAOqC,aAAa,IAAI,KAAKjC,cAA7B;AACD,SAJD;;AAMA,eAAOhc,OAAP;AAED,OAtOC,CAAF;;;;;;;;;;;;;;;ACRA;AAAA;;;;;;;AAMA,OAAE,UAAU1F,MAAV,EAAkBD,OAAlB,EAA4B;AAAE,qBAAF,CAC5B;;AAEA;;AAEA,YAAK,IAAL,EAAiD;AAC/C;AACA,2CAAQ,CACN;AAAA;AAAA,iBADM,CAAR,EAEG,6BAAF,GAAE,UAAUE,SAAV,EAAsB;AACvB,mBAAOF,OAAO,CAAEC,MAAF,EAAUC,SAAV,CAAd;AACD,WAFA,CAEA,KAFA,CAEA,OAFA,EAEA,4BAFA,CAFD,EAIC,+FAJD;AAKD,SAPD,MAOO,CAYN;AAEF,OA1BD,EA0BI,OAAOD,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IA1B7C,EA4BA;AAEA,eAASD,OAAT,CAAkBC,MAAlB,EAA0BC,SAA1B,EAAsC;AAEtC;;AAEA,YAAI2jB,CAAC,GAAG5jB,MAAM,CAACyO,MAAf;AACA,YAAID,OAAO,GAAGxO,MAAM,CAACwO,OAArB,CALsC,CAOtC;AAEA;;AACA,iBAAS5J,MAAT,CAAiBC,CAAjB,EAAoBC,CAApB,EAAwB;AACtB,eAAM,IAAIqT,IAAV,IAAkBrT,CAAlB,EAAsB;AACpBD,aAAC,CAAEsT,IAAF,CAAD,GAAYrT,CAAC,CAAEqT,IAAF,CAAb;AACD;;AACD,iBAAOtT,CAAP;AACD;;AAED,YAAIwa,UAAU,GAAGlZ,KAAK,CAAChG,SAAN,CAAgBmB,KAAjC,CAjBsC,CAmBtC;;AACA,iBAAS4T,SAAT,CAAoBzC,GAApB,EAA0B;AACxB,cAAKtM,KAAK,CAACmZ,OAAN,CAAe7M,GAAf,CAAL,EAA4B;AAC1B;AACA,mBAAOA,GAAP;AACD;;AAED,cAAI8M,WAAW,GAAG,OAAO9M,GAAP,IAAc,QAAd,IAA0B,OAAOA,GAAG,CAACxR,MAAX,IAAqB,QAAjE;;AACA,cAAKse,WAAL,EAAmB;AACjB;AACA,mBAAOF,UAAU,CAACjZ,IAAX,CAAiBqM,GAAjB,CAAP;AACD,WAVuB,CAYxB;;;AACA,iBAAO,CAAEA,GAAF,CAAP;AACD,SAlCqC,CAoCtC;;AAEA;;;;;;;AAKA,iBAASoR,YAAT,CAAuB7Z,IAAvB,EAA6BvE,OAA7B,EAAsCqe,QAAtC,EAAiD;AAC/C;AACA,cAAK,EAAG,gBAAgBD,YAAnB,CAAL,EAAyC;AACvC,mBAAO,IAAIA,YAAJ,CAAkB7Z,IAAlB,EAAwBvE,OAAxB,EAAiCqe,QAAjC,CAAP;AACD,WAJ8C,CAK/C;;;AACA,cAAIC,SAAS,GAAG/Z,IAAhB;;AACA,cAAK,OAAOA,IAAP,IAAe,QAApB,EAA+B;AAC7B+Z,qBAAS,GAAGzhB,QAAQ,CAAC2S,gBAAT,CAA2BjL,IAA3B,CAAZ;AACD,WAT8C,CAU/C;;;AACA,cAAK,CAAC+Z,SAAN,EAAkB;AAChBvV,mBAAO,CAACQ,KAAR,CAAe,mCAAoC+U,SAAS,IAAI/Z,IAAjD,CAAf;AACA;AACD;;AAED,eAAKga,QAAL,GAAgB9O,SAAS,CAAE6O,SAAF,CAAzB;AACA,eAAKte,OAAL,GAAeb,MAAM,CAAE,EAAF,EAAM,KAAKa,OAAX,CAArB,CAjB+C,CAkB/C;;AACA,cAAK,OAAOA,OAAP,IAAkB,UAAvB,EAAoC;AAClCqe,oBAAQ,GAAGre,OAAX;AACD,WAFD,MAEO;AACLb,kBAAM,CAAE,KAAKa,OAAP,EAAgBA,OAAhB,CAAN;AACD;;AAED,cAAKqe,QAAL,EAAgB;AACd,iBAAK1jB,EAAL,CAAS,QAAT,EAAmB0jB,QAAnB;AACD;;AAED,eAAKG,SAAL;;AAEA,cAAKL,CAAL,EAAS;AACP;AACA,iBAAKM,UAAL,GAAkB,IAAIN,CAAC,CAACO,QAAN,EAAlB;AACD,WAlC8C,CAoC/C;;;AACAvd,oBAAU,CAAE,KAAKwd,KAAL,CAAWjhB,IAAX,CAAiB,IAAjB,CAAF,CAAV;AACD;;AAED0gB,oBAAY,CAAC1jB,SAAb,GAAyBgO,MAAM,CAACxE,MAAP,CAAe1J,SAAS,CAACE,SAAzB,CAAzB;AAEA0jB,oBAAY,CAAC1jB,SAAb,CAAuBsF,OAAvB,GAAiC,EAAjC;;AAEAoe,oBAAY,CAAC1jB,SAAb,CAAuB8jB,SAAvB,GAAmC,YAAW;AAC5C,eAAKI,MAAL,GAAc,EAAd,CAD4C,CAG5C;;AACA,eAAKL,QAAL,CAAc1d,OAAd,CAAuB,KAAKge,gBAA5B,EAA8C,IAA9C;AACD,SALD;AAOA;;;;;AAGAT,oBAAY,CAAC1jB,SAAb,CAAuBmkB,gBAAvB,GAA0C,UAAUta,IAAV,EAAiB;AACzD;AACA,cAAKA,IAAI,CAACua,QAAL,IAAiB,KAAtB,EAA8B;AAC5B,iBAAKC,QAAL,CAAexa,IAAf;AACD,WAJwD,CAKzD;;;AACA,cAAK,KAAKvE,OAAL,CAAagf,UAAb,KAA4B,IAAjC,EAAwC;AACtC,iBAAKC,0BAAL,CAAiC1a,IAAjC;AACD,WARwD,CAUzD;AACA;;;AACA,cAAIyU,QAAQ,GAAGzU,IAAI,CAACyU,QAApB;;AACA,cAAK,CAACA,QAAD,IAAa,CAACkG,gBAAgB,CAAElG,QAAF,CAAnC,EAAkD;AAChD;AACD;;AACD,cAAImG,SAAS,GAAG5a,IAAI,CAACiL,gBAAL,CAAsB,KAAtB,CAAhB,CAhByD,CAiBzD;;AACA,eAAM,IAAI1T,CAAC,GAAC,CAAZ,EAAeA,CAAC,GAAGqjB,SAAS,CAAC3jB,MAA7B,EAAqCM,CAAC,EAAtC,EAA2C;AACzC,gBAAIsjB,GAAG,GAAGD,SAAS,CAACrjB,CAAD,CAAnB;AACA,iBAAKijB,QAAL,CAAeK,GAAf;AACD,WArBwD,CAuBzD;;;AACA,cAAK,OAAO,KAAKpf,OAAL,CAAagf,UAApB,IAAkC,QAAvC,EAAkD;AAChD,gBAAIpe,QAAQ,GAAG2D,IAAI,CAACiL,gBAAL,CAAuB,KAAKxP,OAAL,CAAagf,UAApC,CAAf;;AACA,iBAAMljB,CAAC,GAAC,CAAR,EAAWA,CAAC,GAAG8E,QAAQ,CAACpF,MAAxB,EAAgCM,CAAC,EAAjC,EAAsC;AACpC,kBAAIujB,KAAK,GAAGze,QAAQ,CAAC9E,CAAD,CAApB;AACA,mBAAKmjB,0BAAL,CAAiCI,KAAjC;AACD;AACF;AACF,SA/BD;;AAiCA,YAAIH,gBAAgB,GAAG;AACrB,aAAG,IADkB;AAErB,aAAG,IAFkB;AAGrB,cAAI;AAHiB,SAAvB;;AAMAd,oBAAY,CAAC1jB,SAAb,CAAuBukB,0BAAvB,GAAoD,UAAU1a,IAAV,EAAiB;AACnE,cAAI/C,KAAK,GAAGmS,gBAAgB,CAAEpP,IAAF,CAA5B;;AACA,cAAK,CAAC/C,KAAN,EAAc;AACZ;AACA;AACD,WALkE,CAMnE;;;AACA,cAAI8d,KAAK,GAAG,yBAAZ;AACA,cAAInN,OAAO,GAAGmN,KAAK,CAACC,IAAN,CAAY/d,KAAK,CAACge,eAAlB,CAAd;;AACA,iBAAQrN,OAAO,KAAK,IAApB,EAA2B;AACzB,gBAAIsN,GAAG,GAAGtN,OAAO,IAAIA,OAAO,CAAC,CAAD,CAA5B;;AACA,gBAAKsN,GAAL,EAAW;AACT,mBAAKC,aAAL,CAAoBD,GAApB,EAAyBlb,IAAzB;AACD;;AACD4N,mBAAO,GAAGmN,KAAK,CAACC,IAAN,CAAY/d,KAAK,CAACge,eAAlB,CAAV;AACD;AACF,SAhBD;AAkBA;;;;;AAGApB,oBAAY,CAAC1jB,SAAb,CAAuBqkB,QAAvB,GAAkC,UAAUK,GAAV,EAAgB;AAChD,cAAIO,YAAY,GAAG,IAAIC,YAAJ,CAAkBR,GAAlB,CAAnB;AACA,eAAKR,MAAL,CAAY1jB,IAAZ,CAAkBykB,YAAlB;AACD,SAHD;;AAKAvB,oBAAY,CAAC1jB,SAAb,CAAuBglB,aAAvB,GAAuC,UAAUD,GAAV,EAAelb,IAAf,EAAsB;AAC3D,cAAIya,UAAU,GAAG,IAAIa,UAAJ,CAAgBJ,GAAhB,EAAqBlb,IAArB,CAAjB;AACA,eAAKqa,MAAL,CAAY1jB,IAAZ,CAAkB8jB,UAAlB;AACD,SAHD;;AAKAZ,oBAAY,CAAC1jB,SAAb,CAAuBikB,KAAvB,GAA+B,YAAW;AACxC,cAAIpe,KAAK,GAAG,IAAZ;;AACA,eAAKuf,eAAL,GAAuB,CAAvB;AACA,eAAKC,YAAL,GAAoB,KAApB,CAHwC,CAIxC;;AACA,cAAK,CAAC,KAAKnB,MAAL,CAAYpjB,MAAlB,EAA2B;AACzB,iBAAKwkB,QAAL;AACA;AACD;;AAED,mBAASC,UAAT,CAAqBC,KAArB,EAA4B3b,IAA5B,EAAkCsT,OAAlC,EAA4C;AAC1C;AACA1W,sBAAU,CAAE,YAAW;AACrBZ,mBAAK,CAAC4f,QAAN,CAAgBD,KAAhB,EAAuB3b,IAAvB,EAA6BsT,OAA7B;AACD,aAFS,CAAV;AAGD;;AAED,eAAK+G,MAAL,CAAY/d,OAAZ,CAAqB,UAAU8e,YAAV,EAAyB;AAC5CA,wBAAY,CAACxkB,IAAb,CAAmB,UAAnB,EAA+B8kB,UAA/B;AACAN,wBAAY,CAAChB,KAAb;AACD,WAHD;AAID,SArBD;;AAuBAP,oBAAY,CAAC1jB,SAAb,CAAuBylB,QAAvB,GAAkC,UAAUD,KAAV,EAAiB3b,IAAjB,EAAuBsT,OAAvB,EAAiC;AACjE,eAAKiI,eAAL;AACA,eAAKC,YAAL,GAAoB,KAAKA,YAAL,IAAqB,CAACG,KAAK,CAACE,QAAhD,CAFiE,CAGjE;;AACA,eAAKzkB,SAAL,CAAgB,UAAhB,EAA4B,CAAE,IAAF,EAAQukB,KAAR,EAAe3b,IAAf,CAA5B;;AACA,cAAK,KAAKka,UAAL,IAAmB,KAAKA,UAAL,CAAgB4B,MAAxC,EAAiD;AAC/C,iBAAK5B,UAAL,CAAgB4B,MAAhB,CAAwB,IAAxB,EAA8BH,KAA9B;AACD,WAPgE,CAQjE;;;AACA,cAAK,KAAKJ,eAAL,IAAwB,KAAKlB,MAAL,CAAYpjB,MAAzC,EAAkD;AAChD,iBAAKwkB,QAAL;AACD;;AAED,cAAK,KAAKhgB,OAAL,CAAasgB,KAAb,IAAsBvX,OAA3B,EAAqC;AACnCA,mBAAO,CAACwX,GAAR,CAAa,eAAe1I,OAA5B,EAAqCqI,KAArC,EAA4C3b,IAA5C;AACD;AACF,SAhBD;;AAkBA6Z,oBAAY,CAAC1jB,SAAb,CAAuBslB,QAAvB,GAAkC,YAAW;AAC3C,cAAIplB,SAAS,GAAG,KAAKmlB,YAAL,GAAoB,MAApB,GAA6B,MAA7C;AACA,eAAKS,UAAL,GAAkB,IAAlB;AACA,eAAK7kB,SAAL,CAAgBf,SAAhB,EAA2B,CAAE,IAAF,CAA3B;AACA,eAAKe,SAAL,CAAgB,QAAhB,EAA0B,CAAE,IAAF,CAA1B;;AACA,cAAK,KAAK8iB,UAAV,EAAuB;AACrB,gBAAIgC,QAAQ,GAAG,KAAKV,YAAL,GAAoB,QAApB,GAA+B,SAA9C;AACA,iBAAKtB,UAAL,CAAiBgC,QAAjB,EAA6B,IAA7B;AACD;AACF,SATD,CAhNsC,CA2NtC;;;AAEA,iBAASb,YAAT,CAAuBR,GAAvB,EAA6B;AAC3B,eAAKA,GAAL,GAAWA,GAAX;AACD;;AAEDQ,oBAAY,CAACllB,SAAb,GAAyBgO,MAAM,CAACxE,MAAP,CAAe1J,SAAS,CAACE,SAAzB,CAAzB;;AAEAklB,oBAAY,CAACllB,SAAb,CAAuBikB,KAAvB,GAA+B,YAAW;AACxC;AACA;AACA,cAAI6B,UAAU,GAAG,KAAKE,kBAAL,EAAjB;;AACA,cAAKF,UAAL,EAAkB;AAChB;AACA,iBAAKG,OAAL,CAAc,KAAKvB,GAAL,CAASwB,YAAT,KAA0B,CAAxC,EAA2C,cAA3C;AACA;AACD,WARuC,CAUxC;;;AACA,eAAKC,UAAL,GAAkB,IAAIC,KAAJ,EAAlB;AACA,eAAKD,UAAL,CAAgBpgB,gBAAhB,CAAkC,MAAlC,EAA0C,IAA1C;AACA,eAAKogB,UAAL,CAAgBpgB,gBAAhB,CAAkC,OAAlC,EAA2C,IAA3C,EAbwC,CAcxC;;AACA,eAAK2e,GAAL,CAAS3e,gBAAT,CAA2B,MAA3B,EAAmC,IAAnC;AACA,eAAK2e,GAAL,CAAS3e,gBAAT,CAA2B,OAA3B,EAAoC,IAApC;AACA,eAAKogB,UAAL,CAAgBE,GAAhB,GAAsB,KAAK3B,GAAL,CAAS2B,GAA/B;AACD,SAlBD;;AAoBAnB,oBAAY,CAACllB,SAAb,CAAuBgmB,kBAAvB,GAA4C,YAAW;AACrD;AACA;AACA,iBAAO,KAAKtB,GAAL,CAASY,QAAT,IAAqB,KAAKZ,GAAL,CAASwB,YAArC;AACD,SAJD;;AAMAhB,oBAAY,CAACllB,SAAb,CAAuBimB,OAAvB,GAAiC,UAAUP,QAAV,EAAoBvI,OAApB,EAA8B;AAC7D,eAAKuI,QAAL,GAAgBA,QAAhB;AACA,eAAKzkB,SAAL,CAAgB,UAAhB,EAA4B,CAAE,IAAF,EAAQ,KAAKyjB,GAAb,EAAkBvH,OAAlB,CAA5B;AACD,SAHD,CA7PsC,CAkQtC;AAEA;;;AACA+H,oBAAY,CAACllB,SAAb,CAAuB6V,WAAvB,GAAqC,UAAU3B,KAAV,EAAkB;AACrD,cAAI2E,MAAM,GAAG,OAAO3E,KAAK,CAACrJ,IAA1B;;AACA,cAAK,KAAMgO,MAAN,CAAL,EAAsB;AACpB,iBAAMA,MAAN,EAAgB3E,KAAhB;AACD;AACF,SALD;;AAOAgR,oBAAY,CAACllB,SAAb,CAAuBsmB,MAAvB,GAAgC,YAAW;AACzC,eAAKL,OAAL,CAAc,IAAd,EAAoB,QAApB;AACA,eAAKM,YAAL;AACD,SAHD;;AAKArB,oBAAY,CAACllB,SAAb,CAAuBwmB,OAAvB,GAAiC,YAAW;AAC1C,eAAKP,OAAL,CAAc,KAAd,EAAqB,SAArB;AACA,eAAKM,YAAL;AACD,SAHD;;AAKArB,oBAAY,CAACllB,SAAb,CAAuBumB,YAAvB,GAAsC,YAAW;AAC/C,eAAKJ,UAAL,CAAgBve,mBAAhB,CAAqC,MAArC,EAA6C,IAA7C;AACA,eAAKue,UAAL,CAAgBve,mBAAhB,CAAqC,OAArC,EAA8C,IAA9C;AACA,eAAK8c,GAAL,CAAS9c,mBAAT,CAA8B,MAA9B,EAAsC,IAAtC;AACA,eAAK8c,GAAL,CAAS9c,mBAAT,CAA8B,OAA9B,EAAuC,IAAvC;AACD,SALD,CAtRsC,CA6RtC;;;AAEA,iBAASud,UAAT,CAAqBJ,GAArB,EAA0B3e,OAA1B,EAAoC;AAClC,eAAK2e,GAAL,GAAWA,GAAX;AACA,eAAK3e,OAAL,GAAeA,OAAf;AACA,eAAKse,GAAL,GAAW,IAAI0B,KAAJ,EAAX;AACD,SAnSqC,CAqStC;;;AACAjB,kBAAU,CAACnlB,SAAX,GAAuBgO,MAAM,CAACxE,MAAP,CAAe0b,YAAY,CAACllB,SAA5B,CAAvB;;AAEAmlB,kBAAU,CAACnlB,SAAX,CAAqBikB,KAArB,GAA6B,YAAW;AACtC,eAAKS,GAAL,CAAS3e,gBAAT,CAA2B,MAA3B,EAAmC,IAAnC;AACA,eAAK2e,GAAL,CAAS3e,gBAAT,CAA2B,OAA3B,EAAoC,IAApC;AACA,eAAK2e,GAAL,CAAS2B,GAAT,GAAe,KAAKtB,GAApB,CAHsC,CAItC;;AACA,cAAIe,UAAU,GAAG,KAAKE,kBAAL,EAAjB;;AACA,cAAKF,UAAL,EAAkB;AAChB,iBAAKG,OAAL,CAAc,KAAKvB,GAAL,CAASwB,YAAT,KAA0B,CAAxC,EAA2C,cAA3C;AACA,iBAAKK,YAAL;AACD;AACF,SAVD;;AAYApB,kBAAU,CAACnlB,SAAX,CAAqBumB,YAArB,GAAoC,YAAW;AAC7C,eAAK7B,GAAL,CAAS9c,mBAAT,CAA8B,MAA9B,EAAsC,IAAtC;AACA,eAAK8c,GAAL,CAAS9c,mBAAT,CAA8B,OAA9B,EAAuC,IAAvC;AACD,SAHD;;AAKAud,kBAAU,CAACnlB,SAAX,CAAqBimB,OAArB,GAA+B,UAAUP,QAAV,EAAoBvI,OAApB,EAA8B;AAC3D,eAAKuI,QAAL,GAAgBA,QAAhB;AACA,eAAKzkB,SAAL,CAAgB,UAAhB,EAA4B,CAAE,IAAF,EAAQ,KAAKmF,OAAb,EAAsB+W,OAAtB,CAA5B;AACD,SAHD,CAzTsC,CA8TtC;;;AAEAuG,oBAAY,CAAC+C,gBAAb,GAAgC,UAAUnY,MAAV,EAAmB;AACjDA,gBAAM,GAAGA,MAAM,IAAIzO,MAAM,CAACyO,MAA1B;;AACA,cAAK,CAACA,MAAN,EAAe;AACb;AACD,WAJgD,CAKjD;;;AACAmV,WAAC,GAAGnV,MAAJ,CANiD,CAOjD;;AACAmV,WAAC,CAACiD,EAAF,CAAKhhB,YAAL,GAAoB,UAAUJ,OAAV,EAAmBya,QAAnB,EAA8B;AAChD,gBAAI1X,QAAQ,GAAG,IAAIqb,YAAJ,CAAkB,IAAlB,EAAwBpe,OAAxB,EAAiCya,QAAjC,CAAf;AACA,mBAAO1X,QAAQ,CAAC0b,UAAT,CAAoB4C,OAApB,CAA6BlD,CAAC,CAAC,IAAD,CAA9B,CAAP;AACD,WAHD;AAID,SAZD,CAhUsC,CA6UtC;;;AACAC,oBAAY,CAAC+C,gBAAb,GA9UsC,CAgVtC;;AAEA,eAAO/C,YAAP;AAEC,OAlXD;;;;;;;;;;;;;;;ACNA;AAAA;;;;;;AAMA;;;AAEE,iBAAU7jB,MAAV,EAAkBD,OAAlB,EAA4B;AAC5B;AACA,qBAF4B,CAG5B;;AACA,YAAK,IAAL,EAAiD;AAC/C;AACA,6CAAQA,OAAR,EAAe,0MAAf,EAAe,+FAAf;AACD,SAHD,MAGO,CAMN;AAEF,OAfC,EAeCC,MAfD,EAeS,SAASD,OAAT,GAAmB;AAC5B;;AAEA,YAAIgnB,aAAa,GAAK,YAAW;AAC/B,cAAIC,SAAS,GAAGhnB,MAAM,CAACinB,OAAP,CAAe9mB,SAA/B,CAD+B,CAE/B;;AACA,cAAK6mB,SAAS,CAACpP,OAAf,EAAyB;AACvB,mBAAO,SAAP;AACD,WAL8B,CAM/B;;;AACA,cAAKoP,SAAS,CAAC7H,eAAf,EAAiC;AAC/B,mBAAO,iBAAP;AACD,WAT8B,CAU/B;;;AACA,cAAI+H,QAAQ,GAAG,CAAE,QAAF,EAAY,KAAZ,EAAmB,IAAnB,EAAyB,GAAzB,CAAf;;AAEA,eAAM,IAAI3lB,CAAC,GAAC,CAAZ,EAAeA,CAAC,GAAG2lB,QAAQ,CAACjmB,MAA5B,EAAoCM,CAAC,EAArC,EAA0C;AACxC,gBAAI4lB,MAAM,GAAGD,QAAQ,CAAC3lB,CAAD,CAArB;AACA,gBAAIyX,MAAM,GAAGmO,MAAM,GAAG,iBAAtB;;AACA,gBAAKH,SAAS,CAAEhO,MAAF,CAAd,EAA2B;AACzB,qBAAOA,MAAP;AACD;AACF;AACF,SApBmB,EAApB;;AAsBA,eAAO,SAASmG,eAAT,CAA0BnV,IAA1B,EAAgCqC,QAAhC,EAA2C;AAChD,iBAAOrC,IAAI,CAAE+c,aAAF,CAAJ,CAAuB1a,QAAvB,CAAP;AACD,SAFD;AAID,OA5CC,CAAF","file":"default~components-pages-blogmasonry-blogmasonry-module-ngfactory~components-pages-commande-commande~cf23030b-es5.js","sourcesContent":["/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/common'), require('rxjs')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', '@angular/core', '@angular/common', 'rxjs'], factory) :\n\t(factory((global['ng-masonry-grid'] = {}),global.core,global.common,global.rxjs));\n}(this, (function (exports,core,common,rxjs) { 'use strict';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Shailendra Kumar <shailu.snist@gmail.com>\r\n * @ignore\r\n */\r\nvar NgMasonryGridService = /** @class */ (function () {\r\n    function NgMasonryGridService(_platformId) {\r\n        this._platformId = _platformId;\r\n        this.items = [];\r\n        this.itemsCount = 0;\r\n        this.itemsRenderedCount = 0;\r\n        this.isAnimate = false;\r\n        this.docElem = window.document.documentElement;\r\n        /**\r\n         * Default animation options of grid items on scroll\r\n         */\r\n        this.animationDefaults = {\r\n            animationEffect: 'effect-1',\r\n            // default animation effect-1\r\n            // Minimum and a maximum duration of the animation (random value is chosen)\r\n            minDuration: 0,\r\n            maxDuration: 0,\r\n            // The viewportFactor defines how much of the appearing item has to be visible in order to trigger the animation\r\n            // if we'd use a value of 0, this would mean that it would add the animation class as soon as the item is in the viewport.\r\n            // If we were to use the value of 1, the animation would only be triggered when we see all of the item in the viewport (100% of it)\r\n            viewportFactor: 0\r\n        };\r\n        /**\r\n         * Default masonry options\r\n         */\r\n        this.masonryDefaults = {\r\n            // Set default itemSelector: mandatory\r\n            itemSelector: '[ng-masonry-grid-item], ng-masonry-grid-item, [ng-masonry-grid-item].animate, ng-masonry-grid-item.animate',\r\n            initLayout: false,\r\n            addStatus: 'append' // 'prepend' or 'add' or 'reorder'\r\n        };\r\n        this._onScrollHandler = this._onScrollFn.bind(this);\r\n        this._onResizeHandler = this._resizeHandler.bind(this);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.getViewportH = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var client = this.docElem['clientHeight'];\r\n        /** @type {?} */\r\n        var inner = window['innerHeight'];\r\n        if (client < inner) {\r\n            return inner;\r\n        }\r\n        else {\r\n            return client;\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.scrollY = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return window.pageYOffset || this.docElem.scrollTop;\r\n    };\r\n    /**\r\n     * @param {?} el\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.getOffset = /**\r\n     * @param {?} el\r\n     * @return {?}\r\n     */\r\n    function (el) {\r\n        /** @type {?} */\r\n        var offsetTop = 0;\r\n        /** @type {?} */\r\n        var offsetLeft = 0;\r\n        do {\r\n            if (!isNaN(el.offsetTop)) {\r\n                offsetTop += el.offsetTop;\r\n            }\r\n            if (!isNaN(el.offsetLeft)) {\r\n                offsetLeft += el.offsetLeft;\r\n            }\r\n        } while (el = el.offsetParent);\r\n        return {\r\n            top: offsetTop,\r\n            left: offsetLeft\r\n        };\r\n    };\r\n    /**\r\n     * @param {?} el\r\n     * @param {?=} h\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.inViewport = /**\r\n     * @param {?} el\r\n     * @param {?=} h\r\n     * @return {?}\r\n     */\r\n    function (el, h) {\r\n        if (h === void 0) { h = 0; }\r\n        /** @type {?} */\r\n        var elH = el.offsetHeight;\r\n        /** @type {?} */\r\n        var scrolled = this.scrollY();\r\n        /** @type {?} */\r\n        var viewed = scrolled + this.getViewportH();\r\n        /** @type {?} */\r\n        var elTop = this.getOffset(el).top;\r\n        /** @type {?} */\r\n        var elBottom = elTop + elH;\r\n        // if 0, the element is considered in the viewport as soon as it enters.\r\n        // if 1, the element is considered in the viewport only when it's fully inside\r\n        // value in percentage (1 >= h >= 0)\r\n        // h = h || 0;\r\n        return (elTop + elH * h) <= viewed && (elBottom - elH * h) >= scrolled;\r\n    };\r\n    /**\r\n     * @param {?} a\r\n     * @param {?} b\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.extend = /**\r\n     * @param {?} a\r\n     * @param {?} b\r\n     * @return {?}\r\n     */\r\n    function (a, b) {\r\n        for (var key in b) {\r\n            if (b.hasOwnProperty(key)) {\r\n                a[key] = b[key];\r\n            }\r\n        }\r\n        return a;\r\n    };\r\n    /**\r\n     * Initialize and extend all options\r\n     * @param {?} el\r\n     * @param {?} masonryOptions\r\n     * @param {?=} useAnimation\r\n     * @param {?=} animationOptions\r\n     * @param {?=} useImagesLoaded\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.init = /**\r\n     * Initialize and extend all options\r\n     * @param {?} el\r\n     * @param {?} masonryOptions\r\n     * @param {?=} useAnimation\r\n     * @param {?=} animationOptions\r\n     * @param {?=} useImagesLoaded\r\n     * @return {?}\r\n     */\r\n    function (el, masonryOptions, useAnimation, animationOptions, useImagesLoaded) {\r\n        this.useAnimation = useAnimation;\r\n        this.el = el;\r\n        this.isAnimate = this.useAnimation || (animationOptions ? true : false);\r\n        this.useImagesLoaded = useImagesLoaded;\r\n        this.masonryOptions = this.extend(this.masonryDefaults, masonryOptions);\r\n        this.animationOptions = this.extend(this.animationDefaults, animationOptions);\r\n        return this._init();\r\n    };\r\n    /**\r\n     * @param {?} _element\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.initializeMasonry = /**\r\n     * @param {?} _element\r\n     * @param {?} options\r\n     * @return {?}\r\n     */\r\n    function (_element, options) {\r\n        /** @type {?} */\r\n        var Masonry = require('masonry-layout');\r\n        return new Masonry(_element, options);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype._init = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.isAnimate) {\r\n            // add animation effect\r\n            this.el.classList.add(this.animationOptions.animationEffect);\r\n        }\r\n        // get imagesloaded libary instance\r\n        if (this.useImagesLoaded) {\r\n            this.imagesLoaded = require('imagesloaded');\r\n        }\r\n        // check if browser and then intialize Masonry\r\n        if (common.isPlatformBrowser(this._platformId)) {\r\n            return this._initMasonry();\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype._initMasonry = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        // initialize masonry\r\n        this._msnry = this.initializeMasonry(this.el, this.masonryOptions);\r\n        // use animation options if useAnimation is true\r\n        if (this.isAnimate && this._msnry) {\r\n            // animate on scroll the items inside the viewport\r\n            window.addEventListener('scroll', this._onScrollHandler, false);\r\n            window.addEventListener('resize', this._onResizeHandler, false);\r\n            /**\r\n                   * Remove scroll animations to remove conflicts between Masonry Transitions and Scroll Animations\r\n                   */\r\n            this._msnry.on('layoutComplete', function (items) {\r\n                Array.prototype.slice.call(_this.el.children).forEach(function (element) {\r\n                    element.classList.remove('animate');\r\n                });\r\n            });\r\n            this._msnry.on('removeComplete', function (items) {\r\n                Array.prototype.slice.call(_this.el.children).forEach(function (element) {\r\n                    element.classList.remove('animate');\r\n                });\r\n                _this._msnry.layout();\r\n            });\r\n        }\r\n        return this._msnry;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype._onScrollFn = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var self = this;\r\n        if (!this.didScroll) {\r\n            this.didScroll = true;\r\n            setTimeout(function () { self._scrollPage(); }, 100);\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype._scrollPage = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var self = this;\r\n        /** @type {?} */\r\n        var items = this._msnry.items.map(function (item) { return item.element; });\r\n        if (items.length) {\r\n            items.forEach(function (el, i) {\r\n                if (_this.inViewport(el, self.animationOptions.viewportFactor)) {\r\n                    /** @type {?} */\r\n                    var perspY = _this.scrollY() + _this.getViewportH() / 2;\r\n                    self.el.style.WebkitPerspectiveOrigin = '50% ' + perspY + 'px';\r\n                    self.el.style.MozPerspectiveOrigin = '50% ' + perspY + 'px';\r\n                    self.el.style.perspectiveOrigin = '50% ' + perspY + 'px';\r\n                    if (self.animationOptions.minDuration && self.animationOptions.maxDuration) {\r\n                        /** @type {?} */\r\n                        var randDuration = (Math.random() * (self.animationOptions.maxDuration - self.animationOptions.minDuration)\r\n                            + self.animationOptions.minDuration) + 's';\r\n                        el.style.WebkitAnimationDuration = randDuration;\r\n                        el.style.MozAnimationDuration = randDuration;\r\n                        el.style.animationDuration = randDuration;\r\n                    }\r\n                    el.classList.add('animate');\r\n                    // }, 25 );\r\n                }\r\n                else {\r\n                    el.classList.remove('animate');\r\n                }\r\n            });\r\n        }\r\n        this.didScroll = false;\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype._resizeHandler = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        /** @type {?} */\r\n        var self = this;\r\n        Array.prototype.slice.call(this.el.children).forEach(function (element) {\r\n            element.classList.remove('animate');\r\n        });\r\n        /**\r\n         * @return {?}\r\n         */\r\n        function delayed() {\r\n            self._scrollPage();\r\n            self.resizeTimeout = null;\r\n        }\r\n        if (this.resizeTimeout) {\r\n            clearTimeout(this.resizeTimeout);\r\n        }\r\n        this.resizeTimeout = setTimeout(delayed, 500);\r\n    };\r\n    /**\r\n     * Check if total grid items are redered in the DOM\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype._checkTotalRendered = /**\r\n     * Check if total grid items are redered in the DOM\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        ++this.itemsRenderedCount;\r\n        if (this.itemsRenderedCount === this.itemsCount) {\r\n            window.removeEventListener('scroll', this._onScrollHandler, false);\r\n        }\r\n    };\r\n    /**\r\n     * On Destroy remove Scroll and Resize event Listeners\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.onDestory = /**\r\n     * On Destroy remove Scroll and Resize event Listeners\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        window.removeEventListener('scroll', this._onScrollHandler, false);\r\n        window.removeEventListener('resize', this._onResizeHandler, false);\r\n    };\r\n    /**\r\n     * Remove scroll animations\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.removeAnimation = /**\r\n     * Remove scroll animations\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this.isAnimate) {\r\n            Array.prototype.slice.call(this.el.children).forEach(function (element) {\r\n                element.classList.remove('animate');\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Add Each grid item to Masonry based on Masony addStatus property\r\n     * @param {?} element Element - Grid item\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.add = /**\r\n     * Add Each grid item to Masonry based on Masony addStatus property\r\n     * @param {?} element Element - Grid item\r\n     * @return {?}\r\n     */\r\n    function (element) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var addStatus = this.masonryOptions.addStatus.toLowerCase();\r\n        // set margin bottom of gutter value.\r\n        if (this.masonryOptions.gutter) {\r\n            element.style.marginBottom = this.masonryOptions.gutter + 'px';\r\n        }\r\n        if (this.el.hasChildNodes() && this.el.contains(element)) {\r\n            this.el.removeChild(element);\r\n        }\r\n        if (this.useImagesLoaded) {\r\n            setTimeout(function () {\r\n                _this.imagesLoaded(element, function (instance) {\r\n                    ++_this.itemsRenderedCount;\r\n                    _this.items.push(element);\r\n                    // append or prepend based on masonry option\r\n                    if (addStatus === 'prepend') {\r\n                        if (_this._msnry.items.length !== 0) {\r\n                            _this.el.insertBefore(element, _this._msnry.items[0].element);\r\n                        }\r\n                        else {\r\n                            _this.el.appendChild(element);\r\n                        }\r\n                    }\r\n                    else if (addStatus === 'append') {\r\n                        _this.el.appendChild(element);\r\n                    }\r\n                    else {\r\n                        _this.el.appendChild(element);\r\n                    }\r\n                    setTimeout(function () {\r\n                        if (addStatus === 'prepend') {\r\n                            if (_this._msnry.items.length !== 0) {\r\n                                _this._msnry.prepended(element);\r\n                            }\r\n                            else {\r\n                                _this._msnry.appended(element);\r\n                            }\r\n                        }\r\n                        else if (addStatus === 'append') {\r\n                            _this._msnry.appended(element);\r\n                        }\r\n                        else {\r\n                            _this._msnry.addItems(element);\r\n                        }\r\n                        _this._msnry.layout();\r\n                    }, 0);\r\n                });\r\n            }, 0);\r\n        }\r\n        else {\r\n            setTimeout(function () {\r\n                ++_this.itemsRenderedCount;\r\n                _this.items.push(element);\r\n                if (addStatus === 'prepend') {\r\n                    if (_this._msnry.items.length !== 0) {\r\n                        _this.el.insertBefore(element, _this._msnry.items[0].element);\r\n                        // this._msnry.prepended(itemElem);\r\n                    }\r\n                    else {\r\n                        _this.el.appendChild(element);\r\n                        // this._msnry.appended(itemElem);\r\n                    }\r\n                }\r\n                else if (addStatus === 'append') {\r\n                    _this.el.appendChild(element);\r\n                    // this._msnry.appended(itemElem);\r\n                }\r\n                else {\r\n                    _this.el.appendChild(element);\r\n                    // this._msnry.addItems(itemElem);\r\n                }\r\n                setTimeout(function () {\r\n                    if (addStatus === 'prepend') {\r\n                        if (_this._msnry.items.length !== 0) {\r\n                            _this._msnry.prepended(element);\r\n                        }\r\n                        else {\r\n                            _this._msnry.appended(element);\r\n                        }\r\n                    }\r\n                    else if (addStatus === 'append') {\r\n                        _this._msnry.appended(element);\r\n                    }\r\n                    else {\r\n                        _this._msnry.addItems(element);\r\n                    }\r\n                    _this._msnry.layout();\r\n                }, 50);\r\n            }, 0);\r\n        }\r\n    };\r\n    /**\r\n     * TODO: reorder masonry items on load\r\n     * @param {?} element\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.addOrderItem = /**\r\n     * TODO: reorder masonry items on load\r\n     * @param {?} element\r\n     * @return {?}\r\n     */\r\n    function (element) {\r\n        var _this = this;\r\n        /** @type {?} */\r\n        var addStatus = this.masonryOptions.addStatus.toLowerCase();\r\n        // set margin bottom of gutter value.\r\n        if (this.masonryOptions.gutter) {\r\n            element.style.marginBottom = this.masonryOptions.gutter + 'px';\r\n        }\r\n        if (this.useImagesLoaded) {\r\n            setTimeout(function () {\r\n                _this.imagesLoaded(element, function (instance) {\r\n                });\r\n            }, 0);\r\n        }\r\n        else {\r\n            setTimeout(function () {\r\n                if (addStatus === 'prepend') {\r\n                    if (_this._msnry.items.length !== 0) {\r\n                        _this.el.insertBefore(element, _this._msnry.items[0].element);\r\n                        // this._msnry.prepended(element);\r\n                    }\r\n                    else {\r\n                        _this.el.appendChild(element);\r\n                        // this._msnry.appended(element);\r\n                    }\r\n                }\r\n                else if (addStatus === 'append') {\r\n                    _this.el.appendChild(element);\r\n                    // this._msnry.appended(element);\r\n                }\r\n                else {\r\n                    _this.el.appendChild(element);\r\n                    // this._msnry.addItems(element);\r\n                }\r\n                setTimeout(function () {\r\n                    if (_this.itemsRenderedCount === _this.itemsCount) {\r\n                        if (addStatus === 'prepend') {\r\n                            if (_this._msnry.items.length !== 0) {\r\n                                _this._msnry.prepended(element);\r\n                                _this._msnry.layout();\r\n                            }\r\n                            else {\r\n                                _this._msnry.appended(element);\r\n                                _this._msnry.layout();\r\n                            }\r\n                        }\r\n                        else if (addStatus === 'append') {\r\n                            _this._msnry.appended(element);\r\n                            _this._msnry.layout();\r\n                        }\r\n                        else {\r\n                            _this._msnry.addItems(element);\r\n                            _this._msnry.layout();\r\n                        }\r\n                    }\r\n                }, 500);\r\n            }, 0);\r\n        }\r\n    };\r\n    /**\r\n     * Re order Masonry items to original order\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.reorderMasonryItems = /**\r\n     * Re order Masonry items to original order\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        if (this.itemsRenderedCount === this.itemsCount) {\r\n            /** @type {?} */\r\n            var reorderItems_1 = this.items.sort(function (a, b) {\r\n                return a.dataset.count - b.dataset.count;\r\n            });\r\n            while (this.el.hasChildNodes()) {\r\n                this.el.removeChild(this.el.lastChild);\r\n            }\r\n            setTimeout(function () {\r\n                reorderItems_1.forEach(function (item) {\r\n                    _this.el.appendChild(item);\r\n                    _this._msnry.appended(item);\r\n                });\r\n                if (_this._msnry) {\r\n                    _this._msnry.reloadItems();\r\n                    _this._msnry.layout();\r\n                }\r\n            }, 100);\r\n        }\r\n    };\r\n    /**\r\n     * Set add status to Masonry before adding or appending\r\n     * @param {?} value 'append' or 'prepend' or 'add'\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.setAddStatus = /**\r\n     * Set add status to Masonry before adding or appending\r\n     * @param {?} value 'append' or 'prepend' or 'add'\r\n     * @return {?}\r\n     */\r\n    function (value) {\r\n        this.masonryOptions.addStatus = value;\r\n    };\r\n    /**\r\n     * Remove grid item from Masonry\r\n     * @param {?} item Element: Removed Grid Item DOM\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.removeItem = /**\r\n     * Remove grid item from Masonry\r\n     * @param {?} item Element: Removed Grid Item DOM\r\n     * @return {?}\r\n     */\r\n    function (item) {\r\n        var _this = this;\r\n        this.removeAnimation();\r\n        if (item) {\r\n            item.classList.remove('animate');\r\n            /** @type {?} */\r\n            var obsv = rxjs.Observable.create(function (observer) {\r\n                /** @type {?} */\r\n                var count = item.getAttribute('data-count');\r\n                /** @type {?} */\r\n                var index = _this._msnry.items.findIndex(function (masonryItem) {\r\n                    return masonryItem.element.getAttribute('data-count') === count;\r\n                });\r\n                setTimeout(function () {\r\n                    /** @type {?} */\r\n                    var elem = _this._msnry.items[index].element;\r\n                    _this._onTransitionEnd(observer, elem);\r\n                    /** @type {?} */\r\n                    var indx = _this.items.findIndex(function (element) {\r\n                        return element.dataset.count === item.dataset.count;\r\n                    });\r\n                    _this.items.splice(indx, 1);\r\n                }, 20);\r\n            });\r\n            return obsv;\r\n        }\r\n        return rxjs.empty();\r\n    };\r\n    /**\r\n     * Remove first grid item from the Masonry List\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.removeFirstItem = /**\r\n     * Remove first grid item from the Masonry List\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.removeAnimation();\r\n        if (this._msnry.items.length) {\r\n            this._msnry.items[0].element.classList.remove('animate');\r\n            /** @type {?} */\r\n            var obsv = rxjs.Observable.create(function (observer) {\r\n                //setTimeout(() => {\r\n                //setTimeout(() => {\r\n                _this._onTransitionEnd(observer, _this._msnry.items[0].element);\r\n                _this.items.splice(0, 1);\r\n                //}, 10);\r\n            });\r\n            return obsv;\r\n        }\r\n        return rxjs.empty();\r\n    };\r\n    /**\r\n     * Empty the Masonry list\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.removeAllItems = /**\r\n     * Empty the Masonry list\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        this.removeAnimation();\r\n        /** @type {?} */\r\n        var obsv = rxjs.Observable.create(function (observer) {\r\n            setTimeout(function () {\r\n                /** @type {?} */\r\n                var items = [];\r\n                _this._msnry.items.forEach(function (masonryItem, index) {\r\n                    items.push({ element: masonryItem.element, index: index });\r\n                    _this.addTransition(masonryItem.element);\r\n                });\r\n                /** @type {?} */\r\n                var elem = _this._msnry.items[_this._msnry.items.length - 1].element;\r\n                /** @type {?} */\r\n                var transitionEnd = function () {\r\n                    observer.next(items);\r\n                    setTimeout(function () {\r\n                        _this._msnry.reloadItems();\r\n                        _this._msnry.layout();\r\n                        _this.items = [];\r\n                        _this.itemsCount = 0;\r\n                        _this.itemsRenderedCount = 0;\r\n                    }, 10);\r\n                    elem.removeEventListener('transitionend', transitionEnd, false);\r\n                };\r\n                elem.addEventListener('transitionend', transitionEnd, false);\r\n                if (_this.masonryOptions.transitionDuration === \"0\") {\r\n                    transitionEnd();\r\n                }\r\n            }, 10);\r\n        });\r\n        return obsv;\r\n    };\r\n    /**\r\n     * Add transition effect on DOM Node removal\r\n     * @param {?} elem\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype.addTransition = /**\r\n     * Add transition effect on DOM Node removal\r\n     * @param {?} elem\r\n     * @return {?}\r\n     */\r\n    function (elem) {\r\n        elem.style.transition = 'transform ' + this.masonryOptions.transitionDuration + ', opacity ' + this.masonryOptions.transitionDuration;\r\n        elem.style.transform = 'scale(0.001)';\r\n        elem.style.opacity = '0';\r\n    };\r\n    /**\r\n     * On transition End, remove eventListener\r\n     * @param {?} observer Subscriber<MasonryGridItem>\r\n     * @param {?} elem\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridService.prototype._onTransitionEnd = /**\r\n     * On transition End, remove eventListener\r\n     * @param {?} observer Subscriber<MasonryGridItem>\r\n     * @param {?} elem\r\n     * @return {?}\r\n     */\r\n    function (observer, elem) {\r\n        var _this = this;\r\n        if (elem) {\r\n            this.addTransition(elem);\r\n            /** @type {?} */\r\n            var transitionEnd_1 = function () {\r\n                /** @type {?} */\r\n                var isindex = Array.prototype.slice.call(_this.el.children).findIndex(function (element) {\r\n                    return element.getAttribute('data-count') === elem.getAttribute('data-count');\r\n                });\r\n                if (isindex !== -1) {\r\n                    observer.next({ element: elem, index: isindex });\r\n                }\r\n                setTimeout(function () {\r\n                    _this._msnry.reloadItems();\r\n                    _this._msnry.layout();\r\n                }, 10);\r\n                elem.removeEventListener('transitionend', transitionEnd_1, false);\r\n            };\r\n            elem.addEventListener('transitionend', transitionEnd_1, false);\r\n        }\r\n    };\r\n    NgMasonryGridService.decorators = [\r\n        { type: core.Injectable },\r\n    ];\r\n    /** @nocollapse */\r\n    NgMasonryGridService.ctorParameters = function () { return [\r\n        { type: undefined, decorators: [{ type: core.Inject, args: [core.PLATFORM_ID,] }] }\r\n    ]; };\r\n    return NgMasonryGridService;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Shailendra Kumar <shailu.snist@gmail.com>\r\n * @ignore\r\n */\r\nvar NgMasonryGridComponent = /** @class */ (function () {\r\n    function NgMasonryGridComponent(_platformId, _element, masonryGridService) {\r\n        this._platformId = _platformId;\r\n        this._element = _element;\r\n        this.masonryGridService = masonryGridService;\r\n        // Inputs\r\n        this.masonryOptions = {};\r\n        this.useAnimation = false;\r\n        this.useImagesLoaded = false;\r\n        // Outputs\r\n        this.layoutComplete = new core.EventEmitter();\r\n        this.removeComplete = new core.EventEmitter();\r\n        this.onNgMasonryInit = new core.EventEmitter();\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridComponent.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        this._element.nativeElement.classList.add('grid');\r\n        this.initializeMasonry();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridComponent.prototype.ngAfterContentInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        // initialize masonry after View Initialization\r\n        // this.initializeMasonry();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (this._msnry) {\r\n            this._msnry.destroy();\r\n            this.masonryGridService.onDestory();\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridComponent.prototype.layout = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this._msnry.layout();\r\n        }, 50);\r\n    };\r\n    /**\r\n     * @param {?} element\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridComponent.prototype.remove = /**\r\n     * @param {?} element\r\n     * @return {?}\r\n     */\r\n    function (element) {\r\n        this._msnry.remove(element);\r\n        this.layout();\r\n    };\r\n    /**\r\n     * @param {?} element\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridComponent.prototype.add = /**\r\n     * @param {?} element\r\n     * @return {?}\r\n     */\r\n    function (element) {\r\n        this.masonryGridService.add(element);\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridComponent.prototype.initializeMasonry = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var _this = this;\r\n        // initialize Masonry with Animation effects\r\n        this._msnry = this.masonryGridService\r\n            .init(this._element.nativeElement, this.masonryOptions, this.useAnimation, this.scrollAnimationOptions, this.useImagesLoaded);\r\n        // Bind to Masonry events\r\n        this._msnry.on('layoutComplete', function (items) {\r\n            _this.layoutComplete.emit(items);\r\n        });\r\n        this._msnry.on('removeComplete', function (items) {\r\n            _this.removeComplete.emit(items);\r\n        });\r\n        this._msnry.removeAnimation = function () {\r\n            _this.masonryGridService.removeAnimation();\r\n        };\r\n        this._msnry.setAddStatus = function (value) {\r\n            _this.masonryGridService.setAddStatus(value);\r\n        };\r\n        this._msnry.removeItem = function (item) {\r\n            return _this.masonryGridService.removeItem(item);\r\n        };\r\n        this._msnry.removeFirstItem = function () {\r\n            return _this.masonryGridService.removeFirstItem();\r\n        };\r\n        this._msnry.removeAllItems = function () {\r\n            return _this.masonryGridService.removeAllItems();\r\n        };\r\n        this._msnry.reOrderItems = function () {\r\n            return _this.masonryGridService.reorderMasonryItems();\r\n        };\r\n        // emit Masonry Initialization event\r\n        this.onNgMasonryInit.emit(this._msnry);\r\n        this.layout();\r\n    };\r\n    NgMasonryGridComponent.decorators = [\r\n        { type: core.Component, args: [{\r\n                    selector: '[ng-masonry-grid], ng-masonry-grid',\r\n                    template: '<ng-content></ng-content>',\r\n                    styles: [\r\n                        \"\\n\\t\\t:host {\\n\\t\\t\\tdisplay: block;\\n\\t\\t}\\n\\t\"\r\n                    ]\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    NgMasonryGridComponent.ctorParameters = function () { return [\r\n        { type: undefined, decorators: [{ type: core.Inject, args: [core.PLATFORM_ID,] }] },\r\n        { type: core.ElementRef },\r\n        { type: NgMasonryGridService }\r\n    ]; };\r\n    NgMasonryGridComponent.propDecorators = {\r\n        masonryOptions: [{ type: core.Input }],\r\n        useAnimation: [{ type: core.Input }],\r\n        scrollAnimationOptions: [{ type: core.Input }],\r\n        useImagesLoaded: [{ type: core.Input }],\r\n        layoutComplete: [{ type: core.Output }],\r\n        removeComplete: [{ type: core.Output }],\r\n        onNgMasonryInit: [{ type: core.Output }]\r\n    };\r\n    return NgMasonryGridComponent;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Shailendra Kumar <shailu.snist@gmail.com>\r\n * @ignore\r\n */\r\nvar NgMasonryGridDirective = /** @class */ (function () {\r\n    function NgMasonryGridDirective(_element, _parent, platformId, masonryGridService) {\r\n        this._element = _element;\r\n        this._parent = _parent;\r\n        this.platformId = platformId;\r\n        this.masonryGridService = masonryGridService;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridDirective.prototype.ngOnInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        // this._parent.add(this._element.nativeElement);\r\n    };\r\n    /**\r\n     * Add Masonry grid item after view initialization\r\n     */\r\n    /**\r\n     * Add Masonry grid item after view initialization\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridDirective.prototype.ngAfterViewInit = /**\r\n     * Add Masonry grid item after view initialization\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        if (common.isPlatformBrowser(this.platformId)) {\r\n            this.masonryGridService.itemsCount++;\r\n            // set count attribute for every grid item\r\n            this._element.nativeElement.setAttribute('data-count', this.masonryGridService.itemsCount);\r\n            // if (this.masonryGridService.masonryOptions.horizontalOrder) {\r\n            //   this.masonryGridService.addOrderItem(this._element.nativeElement);\r\n            // } else {\r\n            //   this._parent.add(this._element.nativeElement);\r\n            // }\r\n            this._parent.add(this._element.nativeElement);\r\n            this.watchForHtmlChanges();\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridDirective.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n    };\r\n    /**\r\n     * When HTML in brick changes dynamically, observe that and change layout\r\n     * @return {?}\r\n     */\r\n    NgMasonryGridDirective.prototype.watchForHtmlChanges = /**\r\n     * When HTML in brick changes dynamically, observe that and change layout\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        MutationObserver = window.MutationObserver || window.WebKitMutationObserver;\r\n        if (MutationObserver) {\r\n            /** *\r\n             * Watch for any changes to subtree\r\n              @type {?} */\r\n            var self_1 = this;\r\n            /** @type {?} */\r\n            var observer = new MutationObserver(function (mutations, observerFromElement) {\r\n                self_1._parent.layout();\r\n            });\r\n            // define what element should be observed by the observer\r\n            // and what types of mutations trigger the callback\r\n            observer.observe(this._element.nativeElement, {\r\n                subtree: true,\r\n                childList: true\r\n            });\r\n        }\r\n    };\r\n    NgMasonryGridDirective.decorators = [\r\n        { type: core.Directive, args: [{\r\n                    // tslint:disable-next-line:directive-selector\r\n                    selector: '[ng-masonry-grid-item], ng-masonry-grid-item'\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    NgMasonryGridDirective.ctorParameters = function () { return [\r\n        { type: core.ElementRef },\r\n        { type: NgMasonryGridComponent, decorators: [{ type: core.Inject, args: [core.forwardRef(function () { return NgMasonryGridComponent; }),] }] },\r\n        { type: undefined, decorators: [{ type: core.Inject, args: [core.PLATFORM_ID,] }] },\r\n        { type: NgMasonryGridService }\r\n    ]; };\r\n    return NgMasonryGridDirective;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Shailendra Kumar <shailu.snist@gmail.com>\r\n * @ignore\r\n */\r\nvar NgMasonryGridModule = /** @class */ (function () {\r\n    function NgMasonryGridModule() {\r\n    }\r\n    NgMasonryGridModule.decorators = [\r\n        { type: core.NgModule, args: [{\r\n                    imports: [common.CommonModule],\r\n                    exports: [NgMasonryGridComponent, NgMasonryGridDirective],\r\n                    declarations: [NgMasonryGridComponent, NgMasonryGridDirective],\r\n                    providers: [NgMasonryGridService]\r\n                },] },\r\n    ];\r\n    return NgMasonryGridModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\n/**\r\n * Masonry Grid item\r\n */\r\nvar MasonryGridItem = /** @class */ (function () {\r\n    function MasonryGridItem() {\r\n    }\r\n    return MasonryGridItem;\r\n}());\r\n/**\r\n * Masonry Options\r\n * @record\r\n */\r\n\r\n/**\r\n * Masonry Object\r\n */\r\nvar Masonry = /** @class */ (function () {\r\n    function Masonry(selector, options) {\r\n    }\r\n    \r\n    return Masonry;\r\n}());\r\n/**\r\n * Scroll Animation options\r\n * @record\r\n */\r\n\r\n/**\r\n * interface for an image currently loading or completed\r\n * @record\r\n */\r\n\r\n/**\r\n * @record\r\n */\r\n\r\n/**\r\n * @record\r\n */\r\n\r\n/**\r\n * @record\r\n */\r\n\r\n/**\r\n * @record\r\n */\r\n\r\n/**\r\n * @record\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\n\nexports.NgMasonryGridModule = NgMasonryGridModule;\nexports.NgMasonryGridComponent = NgMasonryGridComponent;\nexports.NgMasonryGridDirective = NgMasonryGridDirective;\nexports.NgMasonryGridService = NgMasonryGridService;\nexports.Masonry = Masonry;\nexports.MasonryGridItem = MasonryGridItem;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","/*!\n * Outlayer v2.1.1\n * the brains and guts of a layout library\n * MIT license\n */\n\n( function( window, factory ) {\n  'use strict';\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size',\n        'fizzy-ui-utils/utils',\n        './item'\n      ],\n      function( EvEmitter, getSize, utils, Item ) {\n        return factory( window, EvEmitter, getSize, utils, Item);\n      }\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./item')\n    );\n  } else {\n    // browser global\n    window.Outlayer = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      window.Outlayer.Item\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize, utils, Item ) {\n'use strict';\n\n// ----- vars ----- //\n\nvar console = window.console;\nvar jQuery = window.jQuery;\nvar noop = function() {};\n\n// -------------------------- Outlayer -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Outlayer intances\nvar instances = {};\n\n\n/**\n * @param {Element, String} element\n * @param {Object} options\n * @constructor\n */\nfunction Outlayer( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for ' + this.constructor.namespace +\n        ': ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // add id for Outlayer.getFromElement\n  var id = ++GUID;\n  this.element.outlayerGUID = id; // expando\n  instances[ id ] = this; // associate via id\n\n  // kick it off\n  this._create();\n\n  var isInitLayout = this._getOption('initLayout');\n  if ( isInitLayout ) {\n    this.layout();\n  }\n}\n\n// settings are for internal use only\nOutlayer.namespace = 'outlayer';\nOutlayer.Item = Item;\n\n// default options\nOutlayer.defaults = {\n  containerStyle: {\n    position: 'relative'\n  },\n  initLayout: true,\n  originLeft: true,\n  originTop: true,\n  resize: true,\n  resizeContainer: true,\n  // item options\n  transitionDuration: '0.4s',\n  hiddenStyle: {\n    opacity: 0,\n    transform: 'scale(0.001)'\n  },\n  visibleStyle: {\n    opacity: 1,\n    transform: 'scale(1)'\n  }\n};\n\nvar proto = Outlayer.prototype;\n// inherit EvEmitter\nutils.extend( proto, EvEmitter.prototype );\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\n/**\n * get backwards compatible option value, check old name\n */\nproto._getOption = function( option ) {\n  var oldOption = this.constructor.compatOptions[ option ];\n  return oldOption && this.options[ oldOption ] !== undefined ?\n    this.options[ oldOption ] : this.options[ option ];\n};\n\nOutlayer.compatOptions = {\n  // currentName: oldName\n  initLayout: 'isInitLayout',\n  horizontal: 'isHorizontal',\n  layoutInstant: 'isLayoutInstant',\n  originLeft: 'isOriginLeft',\n  originTop: 'isOriginTop',\n  resize: 'isResizeBound',\n  resizeContainer: 'isResizingContainer'\n};\n\nproto._create = function() {\n  // get items from children\n  this.reloadItems();\n  // elements that affect layout, but are not laid out\n  this.stamps = [];\n  this.stamp( this.options.stamp );\n  // set container style\n  utils.extend( this.element.style, this.options.containerStyle );\n\n  // bind resize method\n  var canBindResize = this._getOption('resize');\n  if ( canBindResize ) {\n    this.bindResize();\n  }\n};\n\n// goes through all children again and gets bricks in proper order\nproto.reloadItems = function() {\n  // collection of item elements\n  this.items = this._itemize( this.element.children );\n};\n\n\n/**\n * turn elements into Outlayer.Items to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Outlayer Items\n */\nproto._itemize = function( elems ) {\n\n  var itemElems = this._filterFindItemElements( elems );\n  var Item = this.constructor.Item;\n\n  // create new Outlayer Items for collection\n  var items = [];\n  for ( var i=0; i < itemElems.length; i++ ) {\n    var elem = itemElems[i];\n    var item = new Item( elem, this );\n    items.push( item );\n  }\n\n  return items;\n};\n\n/**\n * get item elements to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - item elements\n */\nproto._filterFindItemElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.itemSelector );\n};\n\n/**\n * getter method for getting item elements\n * @returns {Array} elems - collection of item elements\n */\nproto.getItemElements = function() {\n  return this.items.map( function( item ) {\n    return item.element;\n  });\n};\n\n// ----- init & layout ----- //\n\n/**\n * lays out all items\n */\nproto.layout = function() {\n  this._resetLayout();\n  this._manageStamps();\n\n  // don't animate first layout\n  var layoutInstant = this._getOption('layoutInstant');\n  var isInstant = layoutInstant !== undefined ?\n    layoutInstant : !this._isLayoutInited;\n  this.layoutItems( this.items, isInstant );\n\n  // flag for initalized\n  this._isLayoutInited = true;\n};\n\n// _init is alias for layout\nproto._init = proto.layout;\n\n/**\n * logic before any new layout\n */\nproto._resetLayout = function() {\n  this.getSize();\n};\n\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * get measurement from option, for columnWidth, rowHeight, gutter\n * if option is String -> get element from selector string, & get size of element\n * if option is Element -> get size of element\n * else use option as a number\n *\n * @param {String} measurement\n * @param {String} size - width or height\n * @private\n */\nproto._getMeasurement = function( measurement, size ) {\n  var option = this.options[ measurement ];\n  var elem;\n  if ( !option ) {\n    // default to 0\n    this[ measurement ] = 0;\n  } else {\n    // use option as an element\n    if ( typeof option == 'string' ) {\n      elem = this.element.querySelector( option );\n    } else if ( option instanceof HTMLElement ) {\n      elem = option;\n    }\n    // use size of element, if element\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\n  }\n};\n\n/**\n * layout a collection of item elements\n * @api public\n */\nproto.layoutItems = function( items, isInstant ) {\n  items = this._getItemsForLayout( items );\n\n  this._layoutItems( items, isInstant );\n\n  this._postLayout();\n};\n\n/**\n * get the items to be laid out\n * you may want to skip over some items\n * @param {Array} items\n * @returns {Array} items\n */\nproto._getItemsForLayout = function( items ) {\n  return items.filter( function( item ) {\n    return !item.isIgnored;\n  });\n};\n\n/**\n * layout items\n * @param {Array} items\n * @param {Boolean} isInstant\n */\nproto._layoutItems = function( items, isInstant ) {\n  this._emitCompleteOnItems( 'layout', items );\n\n  if ( !items || !items.length ) {\n    // no items, emit event with empty array\n    return;\n  }\n\n  var queue = [];\n\n  items.forEach( function( item ) {\n    // get x/y object from method\n    var position = this._getItemLayoutPosition( item );\n    // enqueue\n    position.item = item;\n    position.isInstant = isInstant || item.isLayoutInstant;\n    queue.push( position );\n  }, this );\n\n  this._processLayoutQueue( queue );\n};\n\n/**\n * get item layout position\n * @param {Outlayer.Item} item\n * @returns {Object} x and y position\n */\nproto._getItemLayoutPosition = function( /* item */ ) {\n  return {\n    x: 0,\n    y: 0\n  };\n};\n\n/**\n * iterate over array and position each item\n * Reason being - separating this logic prevents 'layout invalidation'\n * thx @paul_irish\n * @param {Array} queue\n */\nproto._processLayoutQueue = function( queue ) {\n  this.updateStagger();\n  queue.forEach( function( obj, i ) {\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );\n  }, this );\n};\n\n// set stagger from option in milliseconds number\nproto.updateStagger = function() {\n  var stagger = this.options.stagger;\n  if ( stagger === null || stagger === undefined ) {\n    this.stagger = 0;\n    return;\n  }\n  this.stagger = getMilliseconds( stagger );\n  return this.stagger;\n};\n\n/**\n * Sets position of item in DOM\n * @param {Outlayer.Item} item\n * @param {Number} x - horizontal position\n * @param {Number} y - vertical position\n * @param {Boolean} isInstant - disables transitions\n */\nproto._positionItem = function( item, x, y, isInstant, i ) {\n  if ( isInstant ) {\n    // if not transition, just set CSS\n    item.goTo( x, y );\n  } else {\n    item.stagger( i * this.stagger );\n    item.moveTo( x, y );\n  }\n};\n\n/**\n * Any logic you want to do after each layout,\n * i.e. size the container\n */\nproto._postLayout = function() {\n  this.resizeContainer();\n};\n\nproto.resizeContainer = function() {\n  var isResizingContainer = this._getOption('resizeContainer');\n  if ( !isResizingContainer ) {\n    return;\n  }\n  var size = this._getContainerSize();\n  if ( size ) {\n    this._setContainerMeasure( size.width, true );\n    this._setContainerMeasure( size.height, false );\n  }\n};\n\n/**\n * Sets width or height of container if returned\n * @returns {Object} size\n *   @param {Number} width\n *   @param {Number} height\n */\nproto._getContainerSize = noop;\n\n/**\n * @param {Number} measure - size of width or height\n * @param {Boolean} isWidth\n */\nproto._setContainerMeasure = function( measure, isWidth ) {\n  if ( measure === undefined ) {\n    return;\n  }\n\n  var elemSize = this.size;\n  // add padding and border width if border box\n  if ( elemSize.isBorderBox ) {\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\n      elemSize.paddingBottom + elemSize.paddingTop +\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\n  }\n\n  measure = Math.max( measure, 0 );\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\n};\n\n/**\n * emit eventComplete on a collection of items events\n * @param {String} eventName\n * @param {Array} items - Outlayer.Items\n */\nproto._emitCompleteOnItems = function( eventName, items ) {\n  var _this = this;\n  function onComplete() {\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\n  }\n\n  var count = items.length;\n  if ( !items || !count ) {\n    onComplete();\n    return;\n  }\n\n  var doneCount = 0;\n  function tick() {\n    doneCount++;\n    if ( doneCount == count ) {\n      onComplete();\n    }\n  }\n\n  // bind callback\n  items.forEach( function( item ) {\n    item.once( eventName, tick );\n  });\n};\n\n/**\n * emits events via EvEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  // add original event to arguments\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery ) {\n    // set this.$element\n    this.$element = this.$element || jQuery( this.element );\n    if ( event ) {\n      // create jQuery event\n      var $event = jQuery.Event( event );\n      $event.type = type;\n      this.$element.trigger( $event, args );\n    } else {\n      // just trigger with type if no event available\n      this.$element.trigger( type, args );\n    }\n  }\n};\n\n// -------------------------- ignore & stamps -------------------------- //\n\n\n/**\n * keep item in collection, but do not lay it out\n * ignored items do not get skipped in layout\n * @param {Element} elem\n */\nproto.ignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.isIgnored = true;\n  }\n};\n\n/**\n * return item to layout collection\n * @param {Element} elem\n */\nproto.unignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    delete item.isIgnored;\n  }\n};\n\n/**\n * adds elements to stamps\n * @param {NodeList, Array, Element, or String} elems\n */\nproto.stamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ) {\n    return;\n  }\n\n  this.stamps = this.stamps.concat( elems );\n  // ignore\n  elems.forEach( this.ignore, this );\n};\n\n/**\n * removes elements to stamps\n * @param {NodeList, Array, or Element} elems\n */\nproto.unstamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ){\n    return;\n  }\n\n  elems.forEach( function( elem ) {\n    // filter out removed stamp elements\n    utils.removeFrom( this.stamps, elem );\n    this.unignore( elem );\n  }, this );\n};\n\n/**\n * finds child elements\n * @param {NodeList, Array, Element, or String} elems\n * @returns {Array} elems\n */\nproto._find = function( elems ) {\n  if ( !elems ) {\n    return;\n  }\n  // if string, use argument as selector string\n  if ( typeof elems == 'string' ) {\n    elems = this.element.querySelectorAll( elems );\n  }\n  elems = utils.makeArray( elems );\n  return elems;\n};\n\nproto._manageStamps = function() {\n  if ( !this.stamps || !this.stamps.length ) {\n    return;\n  }\n\n  this._getBoundingRect();\n\n  this.stamps.forEach( this._manageStamp, this );\n};\n\n// update boundingLeft / Top\nproto._getBoundingRect = function() {\n  // get bounding rect for container element\n  var boundingRect = this.element.getBoundingClientRect();\n  var size = this.size;\n  this._boundingRect = {\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\n  };\n};\n\n/**\n * @param {Element} stamp\n**/\nproto._manageStamp = noop;\n\n/**\n * get x/y position of element relative to container element\n * @param {Element} elem\n * @returns {Object} offset - has left, top, right, bottom\n */\nproto._getElementOffset = function( elem ) {\n  var boundingRect = elem.getBoundingClientRect();\n  var thisRect = this._boundingRect;\n  var size = getSize( elem );\n  var offset = {\n    left: boundingRect.left - thisRect.left - size.marginLeft,\n    top: boundingRect.top - thisRect.top - size.marginTop,\n    right: thisRect.right - boundingRect.right - size.marginRight,\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n  };\n  return offset;\n};\n\n// -------------------------- resize -------------------------- //\n\n// enable event handlers for listeners\n// i.e. resize -> onresize\nproto.handleEvent = utils.handleEvent;\n\n/**\n * Bind layout to window resizing\n */\nproto.bindResize = function() {\n  window.addEventListener( 'resize', this );\n  this.isResizeBound = true;\n};\n\n/**\n * Unbind layout to window resizing\n */\nproto.unbindResize = function() {\n  window.removeEventListener( 'resize', this );\n  this.isResizeBound = false;\n};\n\nproto.onresize = function() {\n  this.resize();\n};\n\nutils.debounceMethod( Outlayer, 'onresize', 100 );\n\nproto.resize = function() {\n  // don't trigger if size did not change\n  // or if resize was unbound. See #9\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\n    return;\n  }\n\n  this.layout();\n};\n\n/**\n * check if layout is needed post layout\n * @returns Boolean\n */\nproto.needsResizeLayout = function() {\n  var size = getSize( this.element );\n  // check that this.size and size are there\n  // IE8 triggers resize on body size change, so they might not be\n  var hasSizes = this.size && size;\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\n};\n\n// -------------------------- methods -------------------------- //\n\n/**\n * add items to Outlayer instance\n * @param {Array or NodeList or Element} elems\n * @returns {Array} items - Outlayer.Items\n**/\nproto.addItems = function( elems ) {\n  var items = this._itemize( elems );\n  // add items to collection\n  if ( items.length ) {\n    this.items = this.items.concat( items );\n  }\n  return items;\n};\n\n/**\n * Layout newly-appended item elements\n * @param {Array or NodeList or Element} elems\n */\nproto.appended = function( elems ) {\n  var items = this.addItems( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // layout and reveal just the new items\n  this.layoutItems( items, true );\n  this.reveal( items );\n};\n\n/**\n * Layout prepended elements\n * @param {Array or NodeList or Element} elems\n */\nproto.prepended = function( elems ) {\n  var items = this._itemize( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // add items to beginning of collection\n  var previousItems = this.items.slice(0);\n  this.items = items.concat( previousItems );\n  // start new layout\n  this._resetLayout();\n  this._manageStamps();\n  // layout new stuff without transition\n  this.layoutItems( items, true );\n  this.reveal( items );\n  // layout previous items\n  this.layoutItems( previousItems );\n};\n\n/**\n * reveal a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.reveal = function( items ) {\n  this._emitCompleteOnItems( 'reveal', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.reveal();\n  });\n};\n\n/**\n * hide a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.hide = function( items ) {\n  this._emitCompleteOnItems( 'hide', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.hide();\n  });\n};\n\n/**\n * reveal item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.revealItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.reveal( items );\n};\n\n/**\n * hide item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.hideItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.hide( items );\n};\n\n/**\n * get Outlayer.Item, given an Element\n * @param {Element} elem\n * @param {Function} callback\n * @returns {Outlayer.Item} item\n */\nproto.getItem = function( elem ) {\n  // loop through items to get the one that matches\n  for ( var i=0; i < this.items.length; i++ ) {\n    var item = this.items[i];\n    if ( item.element == elem ) {\n      // return item\n      return item;\n    }\n  }\n};\n\n/**\n * get collection of Outlayer.Items, given Elements\n * @param {Array} elems\n * @returns {Array} items - Outlayer.Items\n */\nproto.getItems = function( elems ) {\n  elems = utils.makeArray( elems );\n  var items = [];\n  elems.forEach( function( elem ) {\n    var item = this.getItem( elem );\n    if ( item ) {\n      items.push( item );\n    }\n  }, this );\n\n  return items;\n};\n\n/**\n * remove element(s) from instance and DOM\n * @param {Array or NodeList or Element} elems\n */\nproto.remove = function( elems ) {\n  var removeItems = this.getItems( elems );\n\n  this._emitCompleteOnItems( 'remove', removeItems );\n\n  // bail if no items to remove\n  if ( !removeItems || !removeItems.length ) {\n    return;\n  }\n\n  removeItems.forEach( function( item ) {\n    item.remove();\n    // remove item from collection\n    utils.removeFrom( this.items, item );\n  }, this );\n};\n\n// ----- destroy ----- //\n\n// remove and disable Outlayer instance\nproto.destroy = function() {\n  // clean up dynamic styles\n  var style = this.element.style;\n  style.height = '';\n  style.position = '';\n  style.width = '';\n  // destroy items\n  this.items.forEach( function( item ) {\n    item.destroy();\n  });\n\n  this.unbindResize();\n\n  var id = this.element.outlayerGUID;\n  delete instances[ id ]; // remove reference to instance by id\n  delete this.element.outlayerGUID;\n  // remove data for jQuery\n  if ( jQuery ) {\n    jQuery.removeData( this.element, this.constructor.namespace );\n  }\n\n};\n\n// -------------------------- data -------------------------- //\n\n/**\n * get Outlayer instance from element\n * @param {Element} elem\n * @returns {Outlayer}\n */\nOutlayer.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.outlayerGUID;\n  return id && instances[ id ];\n};\n\n\n// -------------------------- create Outlayer class -------------------------- //\n\n/**\n * create a layout class\n * @param {String} namespace\n */\nOutlayer.create = function( namespace, options ) {\n  // sub-class Outlayer\n  var Layout = subclass( Outlayer );\n  // apply new options and compatOptions\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\n  utils.extend( Layout.defaults, options );\n  Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );\n\n  Layout.namespace = namespace;\n\n  Layout.data = Outlayer.data;\n\n  // sub-class Item\n  Layout.Item = subclass( Item );\n\n  // -------------------------- declarative -------------------------- //\n\n  utils.htmlInit( Layout, namespace );\n\n  // -------------------------- jQuery bridge -------------------------- //\n\n  // make into jQuery plugin\n  if ( jQuery && jQuery.bridget ) {\n    jQuery.bridget( namespace, Layout );\n  }\n\n  return Layout;\n};\n\nfunction subclass( Parent ) {\n  function SubClass() {\n    Parent.apply( this, arguments );\n  }\n\n  SubClass.prototype = Object.create( Parent.prototype );\n  SubClass.prototype.constructor = SubClass;\n\n  return SubClass;\n}\n\n// ----- helpers ----- //\n\n// how many milliseconds are in each unit\nvar msUnits = {\n  ms: 1,\n  s: 1000\n};\n\n// munge time-like parameter into millisecond number\n// '0.4s' -> 40\nfunction getMilliseconds( time ) {\n  if ( typeof time == 'number' ) {\n    return time;\n  }\n  var matches = time.match( /(^\\d*\\.?\\d*)(\\w*)/ );\n  var num = matches && matches[1];\n  var unit = matches && matches[2];\n  if ( !num.length ) {\n    return 0;\n  }\n  num = parseFloat( num );\n  var mult = msUnits[ unit ] || 1;\n  return num * mult;\n}\n\n// ----- fin ----- //\n\n// back in global\nOutlayer.Item = Item;\n\nreturn Outlayer;\n\n}));\n","/**\n * Outlayer Item\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size'\n      ],\n      factory\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      require('ev-emitter'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Outlayer = {};\n    window.Outlayer.Item = factory(\n      window.EvEmitter,\n      window.getSize\n    );\n  }\n\n}( window, function factory( EvEmitter, getSize ) {\n'use strict';\n\n// ----- helpers ----- //\n\nfunction isEmptyObj( obj ) {\n  for ( var prop in obj ) {\n    return false;\n  }\n  prop = null;\n  return true;\n}\n\n// -------------------------- CSS3 support -------------------------- //\n\n\nvar docElemStyle = document.documentElement.style;\n\nvar transitionProperty = typeof docElemStyle.transition == 'string' ?\n  'transition' : 'WebkitTransition';\nvar transformProperty = typeof docElemStyle.transform == 'string' ?\n  'transform' : 'WebkitTransform';\n\nvar transitionEndEvent = {\n  WebkitTransition: 'webkitTransitionEnd',\n  transition: 'transitionend'\n}[ transitionProperty ];\n\n// cache all vendor properties that could have vendor prefix\nvar vendorProperties = {\n  transform: transformProperty,\n  transition: transitionProperty,\n  transitionDuration: transitionProperty + 'Duration',\n  transitionProperty: transitionProperty + 'Property',\n  transitionDelay: transitionProperty + 'Delay'\n};\n\n// -------------------------- Item -------------------------- //\n\nfunction Item( element, layout ) {\n  if ( !element ) {\n    return;\n  }\n\n  this.element = element;\n  // parent layout class, i.e. Masonry, Isotope, or Packery\n  this.layout = layout;\n  this.position = {\n    x: 0,\n    y: 0\n  };\n\n  this._create();\n}\n\n// inherit EvEmitter\nvar proto = Item.prototype = Object.create( EvEmitter.prototype );\nproto.constructor = Item;\n\nproto._create = function() {\n  // transition objects\n  this._transn = {\n    ingProperties: {},\n    clean: {},\n    onEnd: {}\n  };\n\n  this.css({\n    position: 'absolute'\n  });\n};\n\n// trigger specified handler for event type\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * apply CSS styles to element\n * @param {Object} style\n */\nproto.css = function( style ) {\n  var elemStyle = this.element.style;\n\n  for ( var prop in style ) {\n    // use vendor property if available\n    var supportedProp = vendorProperties[ prop ] || prop;\n    elemStyle[ supportedProp ] = style[ prop ];\n  }\n};\n\n // measure position, and sets it\nproto.getPosition = function() {\n  var style = getComputedStyle( this.element );\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\n  var x = parseFloat( xValue );\n  var y = parseFloat( yValue );\n  // convert percent to pixels\n  var layoutSize = this.layout.size;\n  if ( xValue.indexOf('%') != -1 ) {\n    x = ( x / 100 ) * layoutSize.width;\n  }\n  if ( yValue.indexOf('%') != -1 ) {\n    y = ( y / 100 ) * layoutSize.height;\n  }\n  // clean up 'auto' or other non-integer values\n  x = isNaN( x ) ? 0 : x;\n  y = isNaN( y ) ? 0 : y;\n  // remove padding from measurement\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n\n  this.position.x = x;\n  this.position.y = y;\n};\n\n// set settled position, apply padding\nproto.layoutPosition = function() {\n  var layoutSize = this.layout.size;\n  var style = {};\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n\n  // x\n  var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\n  var xProperty = isOriginLeft ? 'left' : 'right';\n  var xResetProperty = isOriginLeft ? 'right' : 'left';\n\n  var x = this.position.x + layoutSize[ xPadding ];\n  // set in percentage or pixels\n  style[ xProperty ] = this.getXValue( x );\n  // reset other property\n  style[ xResetProperty ] = '';\n\n  // y\n  var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\n  var yProperty = isOriginTop ? 'top' : 'bottom';\n  var yResetProperty = isOriginTop ? 'bottom' : 'top';\n\n  var y = this.position.y + layoutSize[ yPadding ];\n  // set in percentage or pixels\n  style[ yProperty ] = this.getYValue( y );\n  // reset other property\n  style[ yResetProperty ] = '';\n\n  this.css( style );\n  this.emitEvent( 'layout', [ this ] );\n};\n\nproto.getXValue = function( x ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && !isHorizontal ?\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\n};\n\nproto.getYValue = function( y ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && isHorizontal ?\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\n};\n\nproto._transitionTo = function( x, y ) {\n  this.getPosition();\n  // get current x & y from top/left\n  var curX = this.position.x;\n  var curY = this.position.y;\n\n  var didNotMove = x == this.position.x && y == this.position.y;\n\n  // save end position\n  this.setPosition( x, y );\n\n  // if did not move and not transitioning, just go to layout\n  if ( didNotMove && !this.isTransitioning ) {\n    this.layoutPosition();\n    return;\n  }\n\n  var transX = x - curX;\n  var transY = y - curY;\n  var transitionStyle = {};\n  transitionStyle.transform = this.getTranslate( transX, transY );\n\n  this.transition({\n    to: transitionStyle,\n    onTransitionEnd: {\n      transform: this.layoutPosition\n    },\n    isCleaning: true\n  });\n};\n\nproto.getTranslate = function( x, y ) {\n  // flip cooridinates if origin on right or bottom\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  x = isOriginLeft ? x : -x;\n  y = isOriginTop ? y : -y;\n  return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n};\n\n// non transition + transform support\nproto.goTo = function( x, y ) {\n  this.setPosition( x, y );\n  this.layoutPosition();\n};\n\nproto.moveTo = proto._transitionTo;\n\nproto.setPosition = function( x, y ) {\n  this.position.x = parseFloat( x );\n  this.position.y = parseFloat( y );\n};\n\n// ----- transition ----- //\n\n/**\n * @param {Object} style - CSS\n * @param {Function} onTransitionEnd\n */\n\n// non transition, just trigger callback\nproto._nonTransition = function( args ) {\n  this.css( args.to );\n  if ( args.isCleaning ) {\n    this._removeStyles( args.to );\n  }\n  for ( var prop in args.onTransitionEnd ) {\n    args.onTransitionEnd[ prop ].call( this );\n  }\n};\n\n/**\n * proper transition\n * @param {Object} args - arguments\n *   @param {Object} to - style to transition to\n *   @param {Object} from - style to start transition from\n *   @param {Boolean} isCleaning - removes transition styles after transition\n *   @param {Function} onTransitionEnd - callback\n */\nproto.transition = function( args ) {\n  // redirect to nonTransition if no transition duration\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\n    this._nonTransition( args );\n    return;\n  }\n\n  var _transition = this._transn;\n  // keep track of onTransitionEnd callback by css property\n  for ( var prop in args.onTransitionEnd ) {\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\n  }\n  // keep track of properties that are transitioning\n  for ( prop in args.to ) {\n    _transition.ingProperties[ prop ] = true;\n    // keep track of properties to clean up when transition is done\n    if ( args.isCleaning ) {\n      _transition.clean[ prop ] = true;\n    }\n  }\n\n  // set from styles\n  if ( args.from ) {\n    this.css( args.from );\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\n    var h = this.element.offsetHeight;\n    // hack for JSHint to hush about unused var\n    h = null;\n  }\n  // enable transition\n  this.enableTransition( args.to );\n  // set styles that are transitioning\n  this.css( args.to );\n\n  this.isTransitioning = true;\n\n};\n\n// dash before all cap letters, including first for\n// WebkitTransform => -webkit-transform\nfunction toDashedAll( str ) {\n  return str.replace( /([A-Z])/g, function( $1 ) {\n    return '-' + $1.toLowerCase();\n  });\n}\n\nvar transitionProps = 'opacity,' + toDashedAll( transformProperty );\n\nproto.enableTransition = function(/* style */) {\n  // HACK changing transitionProperty during a transition\n  // will cause transition to jump\n  if ( this.isTransitioning ) {\n    return;\n  }\n\n  // make `transition: foo, bar, baz` from style object\n  // HACK un-comment this when enableTransition can work\n  // while a transition is happening\n  // var transitionValues = [];\n  // for ( var prop in style ) {\n  //   // dash-ify camelCased properties like WebkitTransition\n  //   prop = vendorProperties[ prop ] || prop;\n  //   transitionValues.push( toDashedAll( prop ) );\n  // }\n  // munge number to millisecond, to match stagger\n  var duration = this.layout.options.transitionDuration;\n  duration = typeof duration == 'number' ? duration + 'ms' : duration;\n  // enable transition styles\n  this.css({\n    transitionProperty: transitionProps,\n    transitionDuration: duration,\n    transitionDelay: this.staggerDelay || 0\n  });\n  // listen for transition end event\n  this.element.addEventListener( transitionEndEvent, this, false );\n};\n\n// ----- events ----- //\n\nproto.onwebkitTransitionEnd = function( event ) {\n  this.ontransitionend( event );\n};\n\nproto.onotransitionend = function( event ) {\n  this.ontransitionend( event );\n};\n\n// properties that I munge to make my life easier\nvar dashedVendorProperties = {\n  '-webkit-transform': 'transform'\n};\n\nproto.ontransitionend = function( event ) {\n  // disregard bubbled events from children\n  if ( event.target !== this.element ) {\n    return;\n  }\n  var _transition = this._transn;\n  // get property name of transitioned property, convert to prefix-free\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\n\n  // remove property that has completed transitioning\n  delete _transition.ingProperties[ propertyName ];\n  // check if any properties are still transitioning\n  if ( isEmptyObj( _transition.ingProperties ) ) {\n    // all properties have completed transitioning\n    this.disableTransition();\n  }\n  // clean style\n  if ( propertyName in _transition.clean ) {\n    // clean up style\n    this.element.style[ event.propertyName ] = '';\n    delete _transition.clean[ propertyName ];\n  }\n  // trigger onTransitionEnd callback\n  if ( propertyName in _transition.onEnd ) {\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\n    onTransitionEnd.call( this );\n    delete _transition.onEnd[ propertyName ];\n  }\n\n  this.emitEvent( 'transitionEnd', [ this ] );\n};\n\nproto.disableTransition = function() {\n  this.removeTransitionStyles();\n  this.element.removeEventListener( transitionEndEvent, this, false );\n  this.isTransitioning = false;\n};\n\n/**\n * removes style property from element\n * @param {Object} style\n**/\nproto._removeStyles = function( style ) {\n  // clean up transition styles\n  var cleanStyle = {};\n  for ( var prop in style ) {\n    cleanStyle[ prop ] = '';\n  }\n  this.css( cleanStyle );\n};\n\nvar cleanTransitionStyle = {\n  transitionProperty: '',\n  transitionDuration: '',\n  transitionDelay: ''\n};\n\nproto.removeTransitionStyles = function() {\n  // remove transition\n  this.css( cleanTransitionStyle );\n};\n\n// ----- stagger ----- //\n\nproto.stagger = function( delay ) {\n  delay = isNaN( delay ) ? 0 : delay;\n  this.staggerDelay = delay + 'ms';\n};\n\n// ----- show/hide/remove ----- //\n\n// remove element from DOM\nproto.removeElem = function() {\n  this.element.parentNode.removeChild( this.element );\n  // remove display: none\n  this.css({ display: '' });\n  this.emitEvent( 'remove', [ this ] );\n};\n\nproto.remove = function() {\n  // just remove element if no transition support or no transition\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\n    this.removeElem();\n    return;\n  }\n\n  // start transition\n  this.once( 'transitionEnd', function() {\n    this.removeElem();\n  });\n  this.hide();\n};\n\nproto.reveal = function() {\n  delete this.isHidden;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\n\n  this.transition({\n    from: options.hiddenStyle,\n    to: options.visibleStyle,\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onRevealTransitionEnd = function() {\n  // check if still visible\n  // during transition, item may have been hidden\n  if ( !this.isHidden ) {\n    this.emitEvent('reveal');\n  }\n};\n\n/**\n * get style property use for hide/reveal transition end\n * @param {String} styleProperty - hiddenStyle/visibleStyle\n * @returns {String}\n */\nproto.getHideRevealTransitionEndProperty = function( styleProperty ) {\n  var optionStyle = this.layout.options[ styleProperty ];\n  // use opacity\n  if ( optionStyle.opacity ) {\n    return 'opacity';\n  }\n  // get first property\n  for ( var prop in optionStyle ) {\n    return prop;\n  }\n};\n\nproto.hide = function() {\n  // set flag\n  this.isHidden = true;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\n\n  this.transition({\n    from: options.visibleStyle,\n    to: options.hiddenStyle,\n    // keep hidden stuff hidden\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onHideTransitionEnd = function() {\n  // check if still hidden\n  // during transition, item may have been un-hidden\n  if ( this.isHidden ) {\n    this.css({ display: 'none' });\n    this.emitEvent('hide');\n  }\n};\n\nproto.destroy = function() {\n  this.css({\n    position: '',\n    left: '',\n    right: '',\n    top: '',\n    bottom: '',\n    transition: '',\n    transform: ''\n  });\n};\n\nreturn Item;\n\n}));\n","/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n","/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n'use strict';\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n","/*!\n * Masonry v4.2.2\n * Cascading grid layout library\n * https://masonry.desandro.com\n * MIT License\n * by David DeSandro\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer',\n        'get-size/get-size'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('outlayer'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Masonry = factory(\n      window.Outlayer,\n      window.getSize\n    );\n  }\n\n}( window, function factory( Outlayer, getSize ) {\n\n'use strict';\n\n// -------------------------- masonryDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var Masonry = Outlayer.create('masonry');\n  // isFitWidth -> fitWidth\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\n\n  var proto = Masonry.prototype;\n\n  proto._resetLayout = function() {\n    this.getSize();\n    this._getMeasurement( 'columnWidth', 'outerWidth' );\n    this._getMeasurement( 'gutter', 'outerWidth' );\n    this.measureColumns();\n\n    // reset column Y\n    this.colYs = [];\n    for ( var i=0; i < this.cols; i++ ) {\n      this.colYs.push( 0 );\n    }\n\n    this.maxY = 0;\n    this.horizontalColIndex = 0;\n  };\n\n  proto.measureColumns = function() {\n    this.getContainerWidth();\n    // if columnWidth is 0, default to outerWidth of first item\n    if ( !this.columnWidth ) {\n      var firstItem = this.items[0];\n      var firstItemElem = firstItem && firstItem.element;\n      // columnWidth fall back to item of first element\n      this.columnWidth = firstItemElem && getSize( firstItemElem ).outerWidth ||\n        // if first elem has no width, default to size of container\n        this.containerWidth;\n    }\n\n    var columnWidth = this.columnWidth += this.gutter;\n\n    // calculate columns\n    var containerWidth = this.containerWidth + this.gutter;\n    var cols = containerWidth / columnWidth;\n    // fix rounding errors, typically with gutters\n    var excess = columnWidth - containerWidth % columnWidth;\n    // if overshoot is less than a pixel, round up, otherwise floor it\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\n    cols = Math[ mathMethod ]( cols );\n    this.cols = Math.max( cols, 1 );\n  };\n\n  proto.getContainerWidth = function() {\n    // container is parent if fit width\n    var isFitWidth = this._getOption('fitWidth');\n    var container = isFitWidth ? this.element.parentNode : this.element;\n    // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n    var size = getSize( container );\n    this.containerWidth = size && size.innerWidth;\n  };\n\n  proto._getItemLayoutPosition = function( item ) {\n    item.getSize();\n    // how many columns does this brick span\n    var remainder = item.size.outerWidth % this.columnWidth;\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\n    // round if off by 1 pixel, otherwise use ceil\n    var colSpan = Math[ mathMethod ]( item.size.outerWidth / this.columnWidth );\n    colSpan = Math.min( colSpan, this.cols );\n    // use horizontal or top column position\n    var colPosMethod = this.options.horizontalOrder ?\n      '_getHorizontalColPosition' : '_getTopColPosition';\n    var colPosition = this[ colPosMethod ]( colSpan, item );\n    // position the brick\n    var position = {\n      x: this.columnWidth * colPosition.col,\n      y: colPosition.y\n    };\n    // apply setHeight to necessary columns\n    var setHeight = colPosition.y + item.size.outerHeight;\n    var setMax = colSpan + colPosition.col;\n    for ( var i = colPosition.col; i < setMax; i++ ) {\n      this.colYs[i] = setHeight;\n    }\n\n    return position;\n  };\n\n  proto._getTopColPosition = function( colSpan ) {\n    var colGroup = this._getTopColGroup( colSpan );\n    // get the minimum Y value from the columns\n    var minimumY = Math.min.apply( Math, colGroup );\n\n    return {\n      col: colGroup.indexOf( minimumY ),\n      y: minimumY,\n    };\n  };\n\n  /**\n   * @param {Number} colSpan - number of columns the element spans\n   * @returns {Array} colGroup\n   */\n  proto._getTopColGroup = function( colSpan ) {\n    if ( colSpan < 2 ) {\n      // if brick spans only one column, use all the column Ys\n      return this.colYs;\n    }\n\n    var colGroup = [];\n    // how many different places could this brick fit horizontally\n    var groupCount = this.cols + 1 - colSpan;\n    // for each group potential horizontal position\n    for ( var i = 0; i < groupCount; i++ ) {\n      colGroup[i] = this._getColGroupY( i, colSpan );\n    }\n    return colGroup;\n  };\n\n  proto._getColGroupY = function( col, colSpan ) {\n    if ( colSpan < 2 ) {\n      return this.colYs[ col ];\n    }\n    // make an array of colY values for that one group\n    var groupColYs = this.colYs.slice( col, col + colSpan );\n    // and get the max value of the array\n    return Math.max.apply( Math, groupColYs );\n  };\n\n  // get column position based on horizontal index. #873\n  proto._getHorizontalColPosition = function( colSpan, item ) {\n    var col = this.horizontalColIndex % this.cols;\n    var isOver = colSpan > 1 && col + colSpan > this.cols;\n    // shift to next row if item can't fit on current row\n    col = isOver ? 0 : col;\n    // don't let zero-size items take up space\n    var hasSize = item.size.outerWidth && item.size.outerHeight;\n    this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\n\n    return {\n      col: col,\n      y: this._getColGroupY( col, colSpan ),\n    };\n  };\n\n  proto._manageStamp = function( stamp ) {\n    var stampSize = getSize( stamp );\n    var offset = this._getElementOffset( stamp );\n    // get the columns that this stamp affects\n    var isOriginLeft = this._getOption('originLeft');\n    var firstX = isOriginLeft ? offset.left : offset.right;\n    var lastX = firstX + stampSize.outerWidth;\n    var firstCol = Math.floor( firstX / this.columnWidth );\n    firstCol = Math.max( 0, firstCol );\n    var lastCol = Math.floor( lastX / this.columnWidth );\n    // lastCol should not go over if multiple of columnWidth #425\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\n    lastCol = Math.min( this.cols - 1, lastCol );\n    // set colYs to bottom of the stamp\n\n    var isOriginTop = this._getOption('originTop');\n    var stampMaxY = ( isOriginTop ? offset.top : offset.bottom ) +\n      stampSize.outerHeight;\n    for ( var i = firstCol; i <= lastCol; i++ ) {\n      this.colYs[i] = Math.max( stampMaxY, this.colYs[i] );\n    }\n  };\n\n  proto._getContainerSize = function() {\n    this.maxY = Math.max.apply( Math, this.colYs );\n    var size = {\n      height: this.maxY\n    };\n\n    if ( this._getOption('fitWidth') ) {\n      size.width = this._getContainerFitWidth();\n    }\n\n    return size;\n  };\n\n  proto._getContainerFitWidth = function() {\n    var unusedCols = 0;\n    // count unused columns\n    var i = this.cols;\n    while ( --i ) {\n      if ( this.colYs[i] !== 0 ) {\n        break;\n      }\n      unusedCols++;\n    }\n    // fit container to columns that have been used\n    return ( this.cols - unusedCols ) * this.columnWidth - this.gutter;\n  };\n\n  proto.needsResizeLayout = function() {\n    var previousWidth = this.containerWidth;\n    this.getContainerWidth();\n    return previousWidth != this.containerWidth;\n  };\n\n  return Masonry;\n\n}));\n","/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( typeof window !== 'undefined' ? window : this,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n'use strict';\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  var queryElem = elem;\n  if ( typeof elem == 'string' ) {\n    queryElem = document.querySelectorAll( elem );\n  }\n  // bail if bad element\n  if ( !queryElem ) {\n    console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );\n    return;\n  }\n\n  this.elements = makeArray( queryElem );\n  this.options = extend( {}, this.options );\n  // shift arguments if no options set\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( this.check.bind( this ) );\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  // check for non-zero, non-undefined naturalWidth\n  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n  return this.img.complete && this.img.naturalWidth;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n","/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n"]}